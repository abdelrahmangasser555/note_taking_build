(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var re=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ai(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Zg={exports:{}},ho={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var lp=Object.getOwnPropertySymbols,uw=Object.prototype.hasOwnProperty,lw=Object.prototype.propertyIsEnumerable;function cw(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function dw(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(s){return e[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var ey=dw()?Object.assign:function(t,e){for(var n,r=cw(t),i,s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var o in n)uw.call(n,o)&&(r[o]=n[o]);if(lp){i=lp(n);for(var a=0;a<i.length;a++)lw.call(n,i[a])&&(r[i[a]]=n[i[a]])}}return r},ty={exports:{}},he={};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nf=ey,Pi=60103,ny=60106;he.Fragment=60107;he.StrictMode=60108;he.Profiler=60114;var ry=60109,iy=60110,sy=60112;he.Suspense=60113;var oy=60115,ay=60116;if(typeof Symbol=="function"&&Symbol.for){var Lt=Symbol.for;Pi=Lt("react.element"),ny=Lt("react.portal"),he.Fragment=Lt("react.fragment"),he.StrictMode=Lt("react.strict_mode"),he.Profiler=Lt("react.profiler"),ry=Lt("react.provider"),iy=Lt("react.context"),sy=Lt("react.forward_ref"),he.Suspense=Lt("react.suspense"),oy=Lt("react.memo"),ay=Lt("react.lazy")}var cp=typeof Symbol=="function"&&Symbol.iterator;function fw(t){return t===null||typeof t!="object"?null:(t=cp&&t[cp]||t["@@iterator"],typeof t=="function"?t:null)}function po(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var uy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ly={};function Ii(t,e,n){this.props=t,this.context=e,this.refs=ly,this.updater=n||uy}Ii.prototype.isReactComponent={};Ii.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error(po(85));this.updater.enqueueSetState(this,t,e,"setState")};Ii.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function cy(){}cy.prototype=Ii.prototype;function rf(t,e,n){this.props=t,this.context=e,this.refs=ly,this.updater=n||uy}var sf=rf.prototype=new cy;sf.constructor=rf;nf(sf,Ii.prototype);sf.isPureReactComponent=!0;var of={current:null},dy=Object.prototype.hasOwnProperty,fy={key:!0,ref:!0,__self:!0,__source:!0};function hy(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)dy.call(e,r)&&!fy.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Pi,type:t,key:s,ref:o,props:i,_owner:of.current}}function hw(t,e){return{$$typeof:Pi,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function af(t){return typeof t=="object"&&t!==null&&t.$$typeof===Pi}function pw(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var dp=/\/+/g;function Ml(t,e){return typeof t=="object"&&t!==null&&t.key!=null?pw(""+t.key):e.toString(36)}function ma(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Pi:case ny:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Ml(o,0):r,Array.isArray(i)?(n="",t!=null&&(n=t.replace(dp,"$&/")+"/"),ma(i,e,n,"",function(c){return c})):i!=null&&(af(i)&&(i=hw(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(dp,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Array.isArray(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Ml(s,a);o+=ma(s,e,n,l,i)}else if(l=fw(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Ml(s,a++),o+=ma(s,e,n,l,i);else if(s==="object")throw e=""+t,Error(po(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e));return o}function Ho(t,e,n){if(t==null)return t;var r=[],i=0;return ma(t,r,"","",function(s){return e.call(n,s,i++)}),r}function mw(t){if(t._status===-1){var e=t._result;e=e(),t._status=0,t._result=e,e.then(function(n){t._status===0&&(n=n.default,t._status=1,t._result=n)},function(n){t._status===0&&(t._status=2,t._result=n)})}if(t._status===1)return t._result;throw t._result}var py={current:null};function Sn(){var t=py.current;if(t===null)throw Error(po(321));return t}var gw={ReactCurrentDispatcher:py,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:of,IsSomeRendererActing:{current:!1},assign:nf};he.Children={map:Ho,forEach:function(t,e,n){Ho(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ho(t,function(){e++}),e},toArray:function(t){return Ho(t,function(e){return e})||[]},only:function(t){if(!af(t))throw Error(po(143));return t}};he.Component=Ii;he.PureComponent=rf;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gw;he.cloneElement=function(t,e,n){if(t==null)throw Error(po(267,t));var r=nf({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=of.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)dy.call(e,l)&&!fy.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Pi,type:t.type,key:i,ref:s,props:r,_owner:o}};he.createContext=function(t,e){return e===void 0&&(e=null),t={$$typeof:iy,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:ry,_context:t},t.Consumer=t};he.createElement=hy;he.createFactory=function(t){var e=hy.bind(null,t);return e.type=t,e};he.createRef=function(){return{current:null}};he.forwardRef=function(t){return{$$typeof:sy,render:t}};he.isValidElement=af;he.lazy=function(t){return{$$typeof:ay,_payload:{_status:-1,_result:t},_init:mw}};he.memo=function(t,e){return{$$typeof:oy,type:t,compare:e===void 0?null:e}};he.useCallback=function(t,e){return Sn().useCallback(t,e)};he.useContext=function(t,e){return Sn().useContext(t,e)};he.useDebugValue=function(){};he.useEffect=function(t,e){return Sn().useEffect(t,e)};he.useImperativeHandle=function(t,e,n){return Sn().useImperativeHandle(t,e,n)};he.useLayoutEffect=function(t,e){return Sn().useLayoutEffect(t,e)};he.useMemo=function(t,e){return Sn().useMemo(t,e)};he.useReducer=function(t,e,n){return Sn().useReducer(t,e,n)};he.useRef=function(t){return Sn().useRef(t)};he.useState=function(t){return Sn().useState(t)};he.version="17.0.2";ty.exports=he;var F=ty.exports;const Ge=Ai(F);/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yw=F,my=60103;ho.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var fp=Symbol.for;my=fp("react.element"),ho.Fragment=fp("react.fragment")}var _w=yw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vw=Object.prototype.hasOwnProperty,ww={key:!0,ref:!0,__self:!0,__source:!0};function gy(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)vw.call(e,r)&&!ww.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:my,type:t,key:s,ref:o,props:i,_owner:_w.current}}ho.jsx=gy;ho.jsxs=gy;Zg.exports=ho;var ce=Zg.exports,yy={exports:{}},Vt={},_y={exports:{}},vy={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){var e,n,r,i;if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}if(typeof window>"u"||typeof MessageChannel!="function"){var l=null,c=null,h=function(){if(l!==null)try{var b=t.unstable_now();l(!0,b),l=null}catch(W){throw setTimeout(h,0),W}};e=function(b){l!==null?setTimeout(e,0,b):(l=b,setTimeout(h,0))},n=function(b,W){c=setTimeout(b,W)},r=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},i=t.unstable_forceFrameRate=function(){}}else{var p=window.setTimeout,y=window.clearTimeout;if(typeof console<"u"){var k=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof k!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var T=!1,w=null,_=-1,g=5,v=0;t.unstable_shouldYield=function(){return t.unstable_now()>=v},i=function(){},t.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<b?Math.floor(1e3/b):5};var P=new MessageChannel,u=P.port2;P.port1.onmessage=function(){if(w!==null){var b=t.unstable_now();v=b+g;try{w(!0,b)?u.postMessage(null):(T=!1,w=null)}catch(W){throw u.postMessage(null),W}}else T=!1},e=function(b){w=b,T||(T=!0,u.postMessage(null))},n=function(b,W){_=p(function(){b(t.unstable_now())},W)},r=function(){y(_),_=-1}}function f(b,W){var Q=b.length;b.push(W);e:for(;;){var se=Q-1>>>1,oe=b[se];if(oe!==void 0&&0<E(oe,W))b[se]=W,b[Q]=oe,Q=se;else break e}}function d(b){return b=b[0],b===void 0?null:b}function m(b){var W=b[0];if(W!==void 0){var Q=b.pop();if(Q!==W){b[0]=Q;e:for(var se=0,oe=b.length;se<oe;){var _e=2*(se+1)-1,ke=b[_e],z=_e+1,V=b[z];if(ke!==void 0&&0>E(ke,Q))V!==void 0&&0>E(V,ke)?(b[se]=V,b[z]=Q,se=z):(b[se]=ke,b[_e]=Q,se=_e);else if(V!==void 0&&0>E(V,Q))b[se]=V,b[z]=Q,se=z;else break e}}return W}return null}function E(b,W){var Q=b.sortIndex-W.sortIndex;return Q!==0?Q:b.id-W.id}var S=[],C=[],I=1,x=null,R=3,O=!1,M=!1,A=!1;function D(b){for(var W=d(C);W!==null;){if(W.callback===null)m(C);else if(W.startTime<=b)m(C),W.sortIndex=W.expirationTime,f(S,W);else break;W=d(C)}}function H(b){if(A=!1,D(b),!M)if(d(S)!==null)M=!0,e(q);else{var W=d(C);W!==null&&n(H,W.startTime-b)}}function q(b,W){M=!1,A&&(A=!1,r()),O=!0;var Q=R;try{for(D(W),x=d(S);x!==null&&(!(x.expirationTime>W)||b&&!t.unstable_shouldYield());){var se=x.callback;if(typeof se=="function"){x.callback=null,R=x.priorityLevel;var oe=se(x.expirationTime<=W);W=t.unstable_now(),typeof oe=="function"?x.callback=oe:x===d(S)&&m(S),D(W)}else m(S);x=d(S)}if(x!==null)var _e=!0;else{var ke=d(C);ke!==null&&n(H,ke.startTime-W),_e=!1}return _e}finally{x=null,R=Q,O=!1}}var ae=i;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(b){b.callback=null},t.unstable_continueExecution=function(){M||O||(M=!0,e(q))},t.unstable_getCurrentPriorityLevel=function(){return R},t.unstable_getFirstCallbackNode=function(){return d(S)},t.unstable_next=function(b){switch(R){case 1:case 2:case 3:var W=3;break;default:W=R}var Q=R;R=W;try{return b()}finally{R=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=ae,t.unstable_runWithPriority=function(b,W){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var Q=R;R=b;try{return W()}finally{R=Q}},t.unstable_scheduleCallback=function(b,W,Q){var se=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?se+Q:se):Q=se,b){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=Q+oe,b={id:I++,callback:W,priorityLevel:b,startTime:Q,expirationTime:oe,sortIndex:-1},Q>se?(b.sortIndex=Q,f(C,b),d(S)===null&&b===d(C)&&(A?r():A=!0,n(H,Q-se))):(b.sortIndex=oe,f(S,b),M||O||(M=!0,e(q))),b},t.unstable_wrapCallback=function(b){var W=R;return function(){var Q=R;R=W;try{return b.apply(this,arguments)}finally{R=Q}}}})(vy);_y.exports=vy;var Ew=_y.exports;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Su=F,Ce=ey,Ue=Ew;function j(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Su)throw Error(j(227));var wy=new Set,Ms={};function Pr(t,e){di(t,e),di(t+"Capture",e)}function di(t,e){for(Ms[t]=e,t=0;t<e.length;t++)wy.add(e[t])}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hp=Object.prototype.hasOwnProperty,pp={},mp={};function Sw(t){return hp.call(mp,t)?!0:hp.call(pp,t)?!1:Tw.test(t)?mp[t]=!0:(pp[t]=!0,!1)}function Cw(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function kw(t,e,n,r){if(e===null||typeof e>"u"||Cw(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function gt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){tt[t]=new gt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];tt[e]=new gt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){tt[t]=new gt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){tt[t]=new gt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){tt[t]=new gt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){tt[t]=new gt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){tt[t]=new gt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){tt[t]=new gt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){tt[t]=new gt(t,5,!1,t.toLowerCase(),null,!1,!1)});var uf=/[\-:]([a-z])/g;function lf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(uf,lf);tt[e]=new gt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(uf,lf);tt[e]=new gt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(uf,lf);tt[e]=new gt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){tt[t]=new gt(t,1,!1,t.toLowerCase(),null,!1,!1)});tt.xlinkHref=new gt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){tt[t]=new gt(t,1,!1,t.toLowerCase(),null,!0,!0)});function cf(t,e,n,r){var i=tt.hasOwnProperty(e)?tt[e]:null,s=i!==null?i.type===0:r?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");s||(kw(e,n,i,r)&&(n=null),r||i===null?Sw(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ir=Su.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,as=60103,lr=60106,In=60107,df=60108,ys=60114,ff=60109,hf=60110,Cu=60112,_s=60113,Oa=60120,ku=60115,pf=60116,mf=60121,gf=60128,Ey=60129,yf=60130,Dc=60131;if(typeof Symbol=="function"&&Symbol.for){var ze=Symbol.for;as=ze("react.element"),lr=ze("react.portal"),In=ze("react.fragment"),df=ze("react.strict_mode"),ys=ze("react.profiler"),ff=ze("react.provider"),hf=ze("react.context"),Cu=ze("react.forward_ref"),_s=ze("react.suspense"),Oa=ze("react.suspense_list"),ku=ze("react.memo"),pf=ze("react.lazy"),mf=ze("react.block"),ze("react.scope"),gf=ze("react.opaque.id"),Ey=ze("react.debug_trace_mode"),yf=ze("react.offscreen"),Dc=ze("react.legacy_hidden")}var gp=typeof Symbol=="function"&&Symbol.iterator;function Bi(t){return t===null||typeof t!="object"?null:(t=gp&&t[gp]||t["@@iterator"],typeof t=="function"?t:null)}var xl;function us(t){if(xl===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);xl=e&&e[1]||""}return`
`+xl+t}var Vl=!1;function qo(t,e){if(!t||Vl)return"";Vl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a])return`
`+i[o].replace(" at new "," at ");while(1<=o&&0<=a);break}}}finally{Vl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?us(t):""}function Aw(t){switch(t.tag){case 5:return us(t.type);case 16:return us("Lazy");case 13:return us("Suspense");case 19:return us("SuspenseList");case 0:case 2:case 15:return t=qo(t.type,!1),t;case 11:return t=qo(t.type.render,!1),t;case 22:return t=qo(t.type._render,!1),t;case 1:return t=qo(t.type,!0),t;default:return""}}function Yr(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case In:return"Fragment";case lr:return"Portal";case ys:return"Profiler";case df:return"StrictMode";case _s:return"Suspense";case Oa:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case hf:return(t.displayName||"Context")+".Consumer";case ff:return(t._context.displayName||"Context")+".Provider";case Cu:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case ku:return Yr(t.type);case mf:return Yr(t._render);case pf:e=t._payload,t=t._init;try{return Yr(t(e))}catch{}}return null}function qn(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function Ty(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Pw(t){var e=Ty(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Wo(t){t._valueTracker||(t._valueTracker=Pw(t))}function Sy(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Ty(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ma(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Oc(t,e){var n=e.checked;return Ce({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function yp(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=qn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Cy(t,e){e=e.checked,e!=null&&cf(t,"checked",e,!1)}function Mc(t,e){Cy(t,e);var n=qn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?xc(t,e.type,n):e.hasOwnProperty("defaultValue")&&xc(t,e.type,qn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function _p(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function xc(t,e,n){(e!=="number"||Ma(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function Iw(t){var e="";return Su.Children.forEach(t,function(n){n!=null&&(e+=n)}),e}function Vc(t,e){return t=Ce({children:void 0},e),(e=Iw(e.children))&&(t.children=e),t}function Jr(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+qn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Lc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(j(91));return Ce({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function vp(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(j(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(j(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:qn(n)}}function ky(t,e){var n=qn(e.value),r=qn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function wp(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var $c={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Ay(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ay(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Go,Py=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!==$c.svg||"innerHTML"in t)t.innerHTML=e;else{for(Go=Go||document.createElement("div"),Go.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Go.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function xs(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var vs={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bw=["Webkit","ms","Moz","O"];Object.keys(vs).forEach(function(t){bw.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),vs[e]=vs[t]})});function Iy(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||vs.hasOwnProperty(t)&&vs[t]?(""+e).trim():e+"px"}function by(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Iy(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Rw=Ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fc(t,e){if(e){if(Rw[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(j(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(j(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(j(61))}if(e.style!=null&&typeof e.style!="object")throw Error(j(62))}}function zc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function _f(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Bc=null,Zr=null,ei=null;function Ep(t){if(t=go(t)){if(typeof Bc!="function")throw Error(j(280));var e=t.stateNode;e&&(e=Nu(e),Bc(t.stateNode,t.type,e))}}function Ry(t){Zr?ei?ei.push(t):ei=[t]:Zr=t}function Ny(){if(Zr){var t=Zr,e=ei;if(ei=Zr=null,Ep(t),e)for(t=0;t<e.length;t++)Ep(e[t])}}function vf(t,e){return t(e)}function Dy(t,e,n,r,i){return t(e,n,r,i)}function wf(){}var Oy=vf,cr=!1,Ll=!1;function Ef(){(Zr!==null||ei!==null)&&(wf(),Ny())}function Nw(t,e,n){if(Ll)return t(e,n);Ll=!0;try{return Oy(t,e,n)}finally{Ll=!1,Ef()}}function Vs(t,e){var n=t.stateNode;if(n===null)return null;var r=Nu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(j(231,e,typeof n));return n}var Uc=!1;if(vn)try{var Ui={};Object.defineProperty(Ui,"passive",{get:function(){Uc=!0}}),window.addEventListener("test",Ui,Ui),window.removeEventListener("test",Ui,Ui)}catch{Uc=!1}function Dw(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var ws=!1,xa=null,Va=!1,Hc=null,Ow={onError:function(t){ws=!0,xa=t}};function Mw(t,e,n,r,i,s,o,a,l){ws=!1,xa=null,Dw.apply(Ow,arguments)}function xw(t,e,n,r,i,s,o,a,l){if(Mw.apply(this,arguments),ws){if(ws){var c=xa;ws=!1,xa=null}else throw Error(j(198));Va||(Va=!0,Hc=c)}}function br(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&1026&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function My(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Tp(t){if(br(t)!==t)throw Error(j(188))}function Vw(t){var e=t.alternate;if(!e){if(e=br(t),e===null)throw Error(j(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Tp(i),t;if(s===r)return Tp(i),e;s=s.sibling}throw Error(j(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(j(189))}}if(n.alternate!==r)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?t:e}function xy(t){if(t=Vw(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function Sp(t,e){for(var n=t.alternate;e!==null;){if(e===t||e===n)return!0;e=e.return}return!1}var Vy,Tf,Ly,$y,qc=!1,Kt=[],On=null,Mn=null,xn=null,Ls=new Map,$s=new Map,Hi=[],Cp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wc(t,e,n,r,i){return{blockedOn:t,domEventName:e,eventSystemFlags:n|16,nativeEvent:i,targetContainers:[r]}}function kp(t,e){switch(t){case"focusin":case"focusout":On=null;break;case"dragenter":case"dragleave":Mn=null;break;case"mouseover":case"mouseout":xn=null;break;case"pointerover":case"pointerout":Ls.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":$s.delete(e.pointerId)}}function qi(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t=Wc(e,n,r,i,s),e!==null&&(e=go(e),e!==null&&Tf(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Lw(t,e,n,r,i){switch(e){case"focusin":return On=qi(On,t,e,n,r,i),!0;case"dragenter":return Mn=qi(Mn,t,e,n,r,i),!0;case"mouseover":return xn=qi(xn,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ls.set(s,qi(Ls.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,$s.set(s,qi($s.get(s)||null,t,e,n,r,i)),!0}return!1}function $w(t){var e=dr(t.target);if(e!==null){var n=br(e);if(n!==null){if(e=n.tag,e===13){if(e=My(n),e!==null){t.blockedOn=e,$y(t.lanePriority,function(){Ue.unstable_runWithPriority(t.priority,function(){Ly(n)})});return}}else if(e===3&&n.stateNode.hydrate){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ga(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Af(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n!==null)return e=go(n),e!==null&&Tf(e),t.blockedOn=n,!1;e.shift()}return!0}function Ap(t,e,n){ga(t)&&n.delete(e)}function jw(){for(qc=!1;0<Kt.length;){var t=Kt[0];if(t.blockedOn!==null){t=go(t.blockedOn),t!==null&&Vy(t);break}for(var e=t.targetContainers;0<e.length;){var n=Af(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n!==null){t.blockedOn=n;break}e.shift()}t.blockedOn===null&&Kt.shift()}On!==null&&ga(On)&&(On=null),Mn!==null&&ga(Mn)&&(Mn=null),xn!==null&&ga(xn)&&(xn=null),Ls.forEach(Ap),$s.forEach(Ap)}function Wi(t,e){t.blockedOn===e&&(t.blockedOn=null,qc||(qc=!0,Ue.unstable_scheduleCallback(Ue.unstable_NormalPriority,jw)))}function jy(t){function e(i){return Wi(i,t)}if(0<Kt.length){Wi(Kt[0],t);for(var n=1;n<Kt.length;n++){var r=Kt[n];r.blockedOn===t&&(r.blockedOn=null)}}for(On!==null&&Wi(On,t),Mn!==null&&Wi(Mn,t),xn!==null&&Wi(xn,t),Ls.forEach(e),$s.forEach(e),n=0;n<Hi.length;n++)r=Hi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Hi.length&&(n=Hi[0],n.blockedOn===null);)$w(n),n.blockedOn===null&&Hi.shift()}function Ko(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Br={animationend:Ko("Animation","AnimationEnd"),animationiteration:Ko("Animation","AnimationIteration"),animationstart:Ko("Animation","AnimationStart"),transitionend:Ko("Transition","TransitionEnd")},$l={},Fy={};vn&&(Fy=document.createElement("div").style,"AnimationEvent"in window||(delete Br.animationend.animation,delete Br.animationiteration.animation,delete Br.animationstart.animation),"TransitionEvent"in window||delete Br.transitionend.transition);function Au(t){if($l[t])return $l[t];if(!Br[t])return t;var e=Br[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Fy)return $l[t]=e[n];return t}var zy=Au("animationend"),By=Au("animationiteration"),Uy=Au("animationstart"),Hy=Au("transitionend"),qy=new Map,Sf=new Map,Fw=["abort","abort",zy,"animationEnd",By,"animationIteration",Uy,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Hy,"transitionEnd","waiting","waiting"];function Cf(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Sf.set(r,e),qy.set(r,i),Pr(i,[r])}}var zw=Ue.unstable_now;zw();var ye=8;function Lr(t){if(1&t)return ye=15,1;if(2&t)return ye=14,2;if(4&t)return ye=13,4;var e=24&t;return e!==0?(ye=12,e):t&32?(ye=11,32):(e=192&t,e!==0?(ye=10,e):t&256?(ye=9,256):(e=3584&t,e!==0?(ye=8,e):t&4096?(ye=7,4096):(e=4186112&t,e!==0?(ye=6,e):(e=62914560&t,e!==0?(ye=5,e):t&67108864?(ye=4,67108864):t&134217728?(ye=3,134217728):(e=805306368&t,e!==0?(ye=2,e):1073741824&t?(ye=1,1073741824):(ye=8,t))))))}function Bw(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function Uw(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(j(358,t))}}function js(t,e){var n=t.pendingLanes;if(n===0)return ye=0;var r=0,i=0,s=t.expiredLanes,o=t.suspendedLanes,a=t.pingedLanes;if(s!==0)r=s,i=ye=15;else if(s=n&134217727,s!==0){var l=s&~o;l!==0?(r=Lr(l),i=ye):(a&=s,a!==0&&(r=Lr(a),i=ye))}else s=n&~o,s!==0?(r=Lr(s),i=ye):a!==0&&(r=Lr(a),i=ye);if(r===0)return 0;if(r=31-Wn(r),r=n&((0>r?0:1<<r)<<1)-1,e!==0&&e!==r&&!(e&o)){if(Lr(e),i<=ye)return e;ye=i}if(e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Wn(e),i=1<<n,r|=t[n],e&=~i;return r}function Wy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function La(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return t=$r(24&~e),t===0?La(10,e):t;case 10:return t=$r(192&~e),t===0?La(8,e):t;case 8:return t=$r(3584&~e),t===0&&(t=$r(4186112&~e),t===0&&(t=512)),t;case 2:return e=$r(805306368&~e),e===0&&(e=268435456),e}throw Error(j(358,t))}function $r(t){return t&-t}function jl(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Pu(t,e,n){t.pendingLanes|=e;var r=e-1;t.suspendedLanes&=r,t.pingedLanes&=r,t=t.eventTimes,e=31-Wn(e),t[e]=n}var Wn=Math.clz32?Math.clz32:Ww,Hw=Math.log,qw=Math.LN2;function Ww(t){return t===0?32:31-(Hw(t)/qw|0)|0}var Gw=Ue.unstable_UserBlockingPriority,Kw=Ue.unstable_runWithPriority,ya=!0;function Qw(t,e,n,r){cr||wf();var i=kf,s=cr;cr=!0;try{Dy(i,t,e,n,r)}finally{(cr=s)||Ef()}}function Xw(t,e,n,r){Kw(Gw,kf.bind(null,t,e,n,r))}function kf(t,e,n,r){if(ya){var i;if((i=(e&4)===0)&&0<Kt.length&&-1<Cp.indexOf(t))t=Wc(null,t,e,n,r),Kt.push(t);else{var s=Af(t,e,n,r);if(s===null)i&&kp(t,r);else{if(i){if(-1<Cp.indexOf(t)){t=Wc(s,t,e,n,r),Kt.push(t);return}if(Lw(s,t,e,n,r))return;kp(t,r)}s_(t,e,r,null,n)}}}}function Af(t,e,n,r){var i=_f(r);if(i=dr(i),i!==null){var s=br(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=My(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.hydrate)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return s_(t,e,r,i,n),null}var bn=null,Pf=null,_a=null;function Gy(){if(_a)return _a;var t,e=Pf,n=e.length,r,i="value"in bn?bn.value:bn.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return _a=i.slice(t,1<r?1-r:void 0)}function va(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Qo(){return!0}function Pp(){return!1}function At(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Qo:Pp,this.isPropagationStopped=Pp,this}return Ce(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Qo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Qo)},persist:function(){},isPersistent:Qo}),e}var bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},If=At(bi),mo=Ce({},bi,{view:0,detail:0}),Yw=At(mo),Fl,zl,Gi,Iu=Ce({},mo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gi&&(Gi&&t.type==="mousemove"?(Fl=t.screenX-Gi.screenX,zl=t.screenY-Gi.screenY):zl=Fl=0,Gi=t),Fl)},movementY:function(t){return"movementY"in t?t.movementY:zl}}),Ip=At(Iu),Jw=Ce({},Iu,{dataTransfer:0}),Zw=At(Jw),e3=Ce({},mo,{relatedTarget:0}),Bl=At(e3),t3=Ce({},bi,{animationName:0,elapsedTime:0,pseudoElement:0}),n3=At(t3),r3=Ce({},bi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),i3=At(r3),s3=Ce({},bi,{data:0}),bp=At(s3),o3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},u3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function l3(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=u3[t])?!!e[t]:!1}function bf(){return l3}var c3=Ce({},mo,{key:function(t){if(t.key){var e=o3[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=va(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?a3[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bf,charCode:function(t){return t.type==="keypress"?va(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?va(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),d3=At(c3),f3=Ce({},Iu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rp=At(f3),h3=Ce({},mo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bf}),p3=At(h3),m3=Ce({},bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),g3=At(m3),y3=Ce({},Iu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),_3=At(y3),v3=[9,13,27,32],Rf=vn&&"CompositionEvent"in window,Es=null;vn&&"documentMode"in document&&(Es=document.documentMode);var w3=vn&&"TextEvent"in window&&!Es,Ky=vn&&(!Rf||Es&&8<Es&&11>=Es),Np=String.fromCharCode(32),Dp=!1;function Qy(t,e){switch(t){case"keyup":return v3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xy(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ur=!1;function E3(t,e){switch(t){case"compositionend":return Xy(e);case"keypress":return e.which!==32?null:(Dp=!0,Np);case"textInput":return t=e.data,t===Np&&Dp?null:t;default:return null}}function T3(t,e){if(Ur)return t==="compositionend"||!Rf&&Qy(t,e)?(t=Gy(),_a=Pf=bn=null,Ur=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ky&&e.locale!=="ko"?null:e.data;default:return null}}var S3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Op(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!S3[t.type]:e==="textarea"}function Yy(t,e,n,r){Ry(r),e=$a(e,"onChange"),0<e.length&&(n=new If("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ts=null,Fs=null;function C3(t){n_(t,0)}function bu(t){var e=qr(t);if(Sy(e))return t}function k3(t,e){if(t==="change")return e}var Jy=!1;if(vn){var Ul;if(vn){var Hl="oninput"in document;if(!Hl){var Mp=document.createElement("div");Mp.setAttribute("oninput","return;"),Hl=typeof Mp.oninput=="function"}Ul=Hl}else Ul=!1;Jy=Ul&&(!document.documentMode||9<document.documentMode)}function xp(){Ts&&(Ts.detachEvent("onpropertychange",Zy),Fs=Ts=null)}function Zy(t){if(t.propertyName==="value"&&bu(Fs)){var e=[];if(Yy(e,Fs,t,_f(t)),t=C3,cr)t(e);else{cr=!0;try{vf(t,e)}finally{cr=!1,Ef()}}}}function A3(t,e,n){t==="focusin"?(xp(),Ts=e,Fs=n,Ts.attachEvent("onpropertychange",Zy)):t==="focusout"&&xp()}function P3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return bu(Fs)}function I3(t,e){if(t==="click")return bu(e)}function b3(t,e){if(t==="input"||t==="change")return bu(e)}function R3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var It=typeof Object.is=="function"?Object.is:R3,N3=Object.prototype.hasOwnProperty;function zs(t,e){if(It(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!N3.call(e,n[r])||!It(t[n[r]],e[n[r]]))return!1;return!0}function Vp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Lp(t,e){var n=Vp(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Vp(n)}}function e_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?e_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $p(){for(var t=window,e=Ma();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ma(t.document)}return e}function Gc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var D3=vn&&"documentMode"in document&&11>=document.documentMode,Hr=null,Kc=null,Ss=null,Qc=!1;function jp(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Qc||Hr==null||Hr!==Ma(r)||(r=Hr,"selectionStart"in r&&Gc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ss&&zs(Ss,r)||(Ss=r,r=$a(Kc,"onSelect"),0<r.length&&(e=new If("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Hr)))}Cf("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);Cf("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Cf(Fw,2);for(var Fp="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),ql=0;ql<Fp.length;ql++)Sf.set(Fp[ql],0);di("onMouseEnter",["mouseout","mouseover"]);di("onMouseLeave",["mouseout","mouseover"]);di("onPointerEnter",["pointerout","pointerover"]);di("onPointerLeave",["pointerout","pointerover"]);Pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ls="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),t_=new Set("cancel close invalid load scroll toggle".split(" ").concat(ls));function zp(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,xw(r,e,void 0,t),t.currentTarget=null}function n_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;zp(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;zp(i,a,c),s=l}}}if(Va)throw t=Hc,Va=!1,Hc=null,t}function ve(t,e){var n=a_(e),r=t+"__bubble";n.has(r)||(i_(e,t,2,!1),n.add(r))}var Bp="_reactListening"+Math.random().toString(36).slice(2);function r_(t){t[Bp]||(t[Bp]=!0,wy.forEach(function(e){t_.has(e)||Up(e,!1,t,null),Up(e,!0,t,null)}))}function Up(t,e,n,r){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,s=n;if(t==="selectionchange"&&n.nodeType!==9&&(s=n.ownerDocument),r!==null&&!e&&t_.has(t)){if(t!=="scroll")return;i|=2,s=r}var o=a_(s),a=t+"__"+(e?"capture":"bubble");o.has(a)||(e&&(i|=4),i_(s,t,i,e),o.add(a))}function i_(t,e,n,r){var i=Sf.get(e);switch(i===void 0?2:i){case 0:i=Qw;break;case 1:i=Xw;break;default:i=kf}n=i.bind(null,e,n,t),i=void 0,!Uc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function s_(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=dr(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Nw(function(){var c=s,h=_f(n),p=[];e:{var y=qy.get(t);if(y!==void 0){var k=If,T=t;switch(t){case"keypress":if(va(n)===0)break e;case"keydown":case"keyup":k=d3;break;case"focusin":T="focus",k=Bl;break;case"focusout":T="blur",k=Bl;break;case"beforeblur":case"afterblur":k=Bl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=Ip;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=Zw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=p3;break;case zy:case By:case Uy:k=n3;break;case Hy:k=g3;break;case"scroll":k=Yw;break;case"wheel":k=_3;break;case"copy":case"cut":case"paste":k=i3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Rp}var w=(e&4)!==0,_=!w&&t==="scroll",g=w?y!==null?y+"Capture":null:y;w=[];for(var v=c,P;v!==null;){P=v;var u=P.stateNode;if(P.tag===5&&u!==null&&(P=u,g!==null&&(u=Vs(v,g),u!=null&&w.push(Bs(v,u,P)))),_)break;v=v.return}0<w.length&&(y=new k(y,T,null,n,h),p.push({event:y,listeners:w}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",y&&!(e&16)&&(T=n.relatedTarget||n.fromElement)&&(dr(T)||T[Ri]))break e;if((k||y)&&(y=h.window===h?h:(y=h.ownerDocument)?y.defaultView||y.parentWindow:window,k?(T=n.relatedTarget||n.toElement,k=c,T=T?dr(T):null,T!==null&&(_=br(T),T!==_||T.tag!==5&&T.tag!==6)&&(T=null)):(k=null,T=c),k!==T)){if(w=Ip,u="onMouseLeave",g="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(w=Rp,u="onPointerLeave",g="onPointerEnter",v="pointer"),_=k==null?y:qr(k),P=T==null?y:qr(T),y=new w(u,v+"leave",k,n,h),y.target=_,y.relatedTarget=P,u=null,dr(h)===c&&(w=new w(g,v+"enter",T,n,h),w.target=P,w.relatedTarget=_,u=w),_=u,k&&T)t:{for(w=k,g=T,v=0,P=w;P;P=Mr(P))v++;for(P=0,u=g;u;u=Mr(u))P++;for(;0<v-P;)w=Mr(w),v--;for(;0<P-v;)g=Mr(g),P--;for(;v--;){if(w===g||g!==null&&w===g.alternate)break t;w=Mr(w),g=Mr(g)}w=null}else w=null;k!==null&&Hp(p,y,k,w,!1),T!==null&&_!==null&&Hp(p,_,T,w,!0)}}e:{if(y=c?qr(c):window,k=y.nodeName&&y.nodeName.toLowerCase(),k==="select"||k==="input"&&y.type==="file")var f=k3;else if(Op(y))if(Jy)f=b3;else{f=P3;var d=A3}else(k=y.nodeName)&&k.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(f=I3);if(f&&(f=f(t,c))){Yy(p,f,n,h);break e}d&&d(t,y,c),t==="focusout"&&(d=y._wrapperState)&&d.controlled&&y.type==="number"&&xc(y,"number",y.value)}switch(d=c?qr(c):window,t){case"focusin":(Op(d)||d.contentEditable==="true")&&(Hr=d,Kc=c,Ss=null);break;case"focusout":Ss=Kc=Hr=null;break;case"mousedown":Qc=!0;break;case"contextmenu":case"mouseup":case"dragend":Qc=!1,jp(p,n,h);break;case"selectionchange":if(D3)break;case"keydown":case"keyup":jp(p,n,h)}var m;if(Rf)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Ur?Qy(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(Ky&&n.locale!=="ko"&&(Ur||E!=="onCompositionStart"?E==="onCompositionEnd"&&Ur&&(m=Gy()):(bn=h,Pf="value"in bn?bn.value:bn.textContent,Ur=!0)),d=$a(c,E),0<d.length&&(E=new bp(E,t,null,n,h),p.push({event:E,listeners:d}),m?E.data=m:(m=Xy(n),m!==null&&(E.data=m)))),(m=w3?E3(t,n):T3(t,n))&&(c=$a(c,"onBeforeInput"),0<c.length&&(h=new bp("onBeforeInput","beforeinput",null,n,h),p.push({event:h,listeners:c}),h.data=m))}n_(p,e)})}function Bs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function $a(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Vs(t,n),s!=null&&r.unshift(Bs(t,s,i)),s=Vs(t,e),s!=null&&r.push(Bs(t,s,i))),t=t.return}return r}function Mr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Hp(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Vs(n,s),l!=null&&o.unshift(Bs(n,l,a))):i||(l=Vs(n,s),l!=null&&o.push(Bs(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}function ja(){}var Wl=null,Gl=null;function o_(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Xc(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var qp=typeof setTimeout=="function"?setTimeout:void 0,O3=typeof clearTimeout=="function"?clearTimeout:void 0;function Nf(t){t.nodeType===1?t.textContent="":t.nodeType===9&&(t=t.body,t!=null&&(t.textContent=""))}function ti(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function Wp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Kl=0;function M3(t){return{$$typeof:gf,toString:t,valueOf:t}}var Ru=Math.random().toString(36).slice(2),Rn="__reactFiber$"+Ru,Fa="__reactProps$"+Ru,Ri="__reactContainer$"+Ru,Gp="__reactEvents$"+Ru;function dr(t){var e=t[Rn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ri]||n[Rn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Wp(t);t!==null;){if(n=t[Rn])return n;t=Wp(t)}return e}t=n,n=t.parentNode}return null}function go(t){return t=t[Rn]||t[Ri],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function qr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(j(33))}function Nu(t){return t[Fa]||null}function a_(t){var e=t[Gp];return e===void 0&&(e=t[Gp]=new Set),e}var Yc=[],Wr=-1;function Zn(t){return{current:t}}function Ee(t){0>Wr||(t.current=Yc[Wr],Yc[Wr]=null,Wr--)}function be(t,e){Wr++,Yc[Wr]=t.current,t.current=e}var Gn={},dt=Zn(Gn),vt=Zn(!1),wr=Gn;function fi(t,e){var n=t.type.contextTypes;if(!n)return Gn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function wt(t){return t=t.childContextTypes,t!=null}function za(){Ee(vt),Ee(dt)}function Kp(t,e,n){if(dt.current!==Gn)throw Error(j(168));be(dt,e),be(vt,n)}function u_(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(j(108,Yr(e)||"Unknown",i));return Ce({},n,r)}function wa(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Gn,wr=dt.current,be(dt,t),be(vt,vt.current),!0}function Qp(t,e,n){var r=t.stateNode;if(!r)throw Error(j(169));n?(t=u_(t,e,wr),r.__reactInternalMemoizedMergedChildContext=t,Ee(vt),Ee(dt),be(dt,t)):Ee(vt),be(vt,n)}var Df=null,yr=null,x3=Ue.unstable_runWithPriority,Of=Ue.unstable_scheduleCallback,Jc=Ue.unstable_cancelCallback,V3=Ue.unstable_shouldYield,Xp=Ue.unstable_requestPaint,Zc=Ue.unstable_now,L3=Ue.unstable_getCurrentPriorityLevel,Du=Ue.unstable_ImmediatePriority,l_=Ue.unstable_UserBlockingPriority,c_=Ue.unstable_NormalPriority,d_=Ue.unstable_LowPriority,f_=Ue.unstable_IdlePriority,Ql={},$3=Xp!==void 0?Xp:function(){},fn=null,Ea=null,Xl=!1,Yp=Zc(),at=1e4>Yp?Zc:function(){return Zc()-Yp};function hi(){switch(L3()){case Du:return 99;case l_:return 98;case c_:return 97;case d_:return 96;case f_:return 95;default:throw Error(j(332))}}function h_(t){switch(t){case 99:return Du;case 98:return l_;case 97:return c_;case 96:return d_;case 95:return f_;default:throw Error(j(332))}}function Er(t,e){return t=h_(t),x3(t,e)}function Us(t,e,n){return t=h_(t),Of(t,e,n)}function un(){if(Ea!==null){var t=Ea;Ea=null,Jc(t)}p_()}function p_(){if(!Xl&&fn!==null){Xl=!0;var t=0;try{var e=fn;Er(99,function(){for(;t<e.length;t++){var n=e[t];do n=n(!0);while(n!==null)}}),fn=null}catch(n){throw fn!==null&&(fn=fn.slice(t+1)),Of(Du,un),n}finally{Xl=!1}}}var j3=Ir.ReactCurrentBatchConfig;function Bt(t,e){if(t&&t.defaultProps){e=Ce({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Ba=Zn(null),Ua=null,Gr=null,Ha=null;function Mf(){Ha=Gr=Ua=null}function xf(t){var e=Ba.current;Ee(Ba),t.type._context._currentValue=e}function m_(t,e){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)===e){if(n===null||(n.childLanes&e)===e)break;n.childLanes|=e}else t.childLanes|=e,n!==null&&(n.childLanes|=e);t=t.return}}function ni(t,e){Ua=t,Ha=Gr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ut=!0),t.firstContext=null)}function Mt(t,e){if(Ha!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(Ha=t,e=1073741823),e={context:t,observedBits:e,next:null},Gr===null){if(Ua===null)throw Error(j(308));Gr=e,Ua.dependencies={lanes:0,firstContext:e,responders:null}}else Gr=Gr.next=e;return t._currentValue}var Pn=!1;function Vf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function g_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Vn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ln(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function Jp(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Hs(t,e,n,r){var i=t.updateQueue;Pn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var h=t.alternate;if(h!==null){h=h.updateQueue;var p=h.lastBaseUpdate;p!==o&&(p===null?h.firstBaseUpdate=c:p.next=c,h.lastBaseUpdate=l)}}if(s!==null){p=i.baseState,o=0,h=c=l=null;do{a=s.lane;var y=s.eventTime;if((r&a)===a){h!==null&&(h=h.next={eventTime:y,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var k=t,T=s;switch(a=e,y=n,T.tag){case 1:if(k=T.payload,typeof k=="function"){p=k.call(y,p,a);break e}p=k;break e;case 3:k.flags=k.flags&-4097|64;case 0:if(k=T.payload,a=typeof k=="function"?k.call(y,p,a):k,a==null)break e;p=Ce({},p,a);break e;case 2:Pn=!0}}s.callback!==null&&(t.flags|=32,a=i.effects,a===null?i.effects=[s]:a.push(s))}else y={eventTime:y,lane:a,tag:s.tag,payload:s.payload,callback:s.callback,next:null},h===null?(c=h=y,l=p):h=h.next=y,o|=a;if(s=s.next,s===null){if(a=i.shared.pending,a===null)break;s=a.next,a.next=null,i.lastBaseUpdate=a,i.shared.pending=null}}while(1);h===null&&(l=p),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,_o|=o,t.lanes=o,t.memoizedState=p}}function Zp(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(j(191,i));i.call(r)}}}var y_=new Su.Component().refs;function qa(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ce({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ou={isMounted:function(t){return(t=t._reactInternals)?br(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=St(),i=$n(t),s=Vn(r,i);s.payload=e,n!=null&&(s.callback=n),Ln(t,s),jn(t,i,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=St(),i=$n(t),s=Vn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),Ln(t,s),jn(t,i,r)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=St(),r=$n(t),i=Vn(n,r);i.tag=2,e!=null&&(i.callback=e),Ln(t,i),jn(t,r,n)}};function em(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!zs(n,r)||!zs(i,s):!0}function __(t,e,n){var r=!1,i=Gn,s=e.contextType;return typeof s=="object"&&s!==null?s=Mt(s):(i=wt(e)?wr:dt.current,r=e.contextTypes,s=(r=r!=null)?fi(t,i):Gn),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ou,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function tm(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ou.enqueueReplaceState(e,e.state,null)}function ed(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=y_,Vf(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Mt(s):(s=wt(e)?wr:dt.current,i.context=fi(t,s)),Hs(t,n,i,r),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(qa(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ou.enqueueReplaceState(i,i.state,null),Hs(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4)}var Xo=Array.isArray;function Ki(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(j(309));var r=n.stateNode}if(!r)throw Error(j(147,t));var i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var o=r.refs;o===y_&&(o=r.refs={}),s===null?delete o[i]:o[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(j(284));if(!n._owner)throw Error(j(290,t))}return t}function Yo(t,e){if(t.type!=="textarea")throw Error(j(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function v_(t){function e(_,g){if(t){var v=_.lastEffect;v!==null?(v.nextEffect=g,_.lastEffect=g):_.firstEffect=_.lastEffect=g,g.nextEffect=null,g.flags=8}}function n(_,g){if(!t)return null;for(;g!==null;)e(_,g),g=g.sibling;return null}function r(_,g){for(_=new Map;g!==null;)g.key!==null?_.set(g.key,g):_.set(g.index,g),g=g.sibling;return _}function i(_,g){return _=Qn(_,g),_.index=0,_.sibling=null,_}function s(_,g,v){return _.index=v,t?(v=_.alternate,v!==null?(v=v.index,v<g?(_.flags=2,g):v):(_.flags=2,g)):g}function o(_){return t&&_.alternate===null&&(_.flags=2),_}function a(_,g,v,P){return g===null||g.tag!==6?(g=tc(v,_.mode,P),g.return=_,g):(g=i(g,v),g.return=_,g)}function l(_,g,v,P){return g!==null&&g.elementType===v.type?(P=i(g,v.props),P.ref=Ki(_,g,v),P.return=_,P):(P=ka(v.type,v.key,v.props,null,_.mode,P),P.ref=Ki(_,g,v),P.return=_,P)}function c(_,g,v,P){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=nc(v,_.mode,P),g.return=_,g):(g=i(g,v.children||[]),g.return=_,g)}function h(_,g,v,P,u){return g===null||g.tag!==7?(g=oi(v,_.mode,P,u),g.return=_,g):(g=i(g,v),g.return=_,g)}function p(_,g,v){if(typeof g=="string"||typeof g=="number")return g=tc(""+g,_.mode,v),g.return=_,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case as:return v=ka(g.type,g.key,g.props,null,_.mode,v),v.ref=Ki(_,null,g),v.return=_,v;case lr:return g=nc(g,_.mode,v),g.return=_,g}if(Xo(g)||Bi(g))return g=oi(g,_.mode,v,null),g.return=_,g;Yo(_,g)}return null}function y(_,g,v,P){var u=g!==null?g.key:null;if(typeof v=="string"||typeof v=="number")return u!==null?null:a(_,g,""+v,P);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case as:return v.key===u?v.type===In?h(_,g,v.props.children,P,u):l(_,g,v,P):null;case lr:return v.key===u?c(_,g,v,P):null}if(Xo(v)||Bi(v))return u!==null?null:h(_,g,v,P,null);Yo(_,v)}return null}function k(_,g,v,P,u){if(typeof P=="string"||typeof P=="number")return _=_.get(v)||null,a(g,_,""+P,u);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case as:return _=_.get(P.key===null?v:P.key)||null,P.type===In?h(g,_,P.props.children,u,P.key):l(g,_,P,u);case lr:return _=_.get(P.key===null?v:P.key)||null,c(g,_,P,u)}if(Xo(P)||Bi(P))return _=_.get(v)||null,h(g,_,P,u,null);Yo(g,P)}return null}function T(_,g,v,P){for(var u=null,f=null,d=g,m=g=0,E=null;d!==null&&m<v.length;m++){d.index>m?(E=d,d=null):E=d.sibling;var S=y(_,d,v[m],P);if(S===null){d===null&&(d=E);break}t&&d&&S.alternate===null&&e(_,d),g=s(S,g,m),f===null?u=S:f.sibling=S,f=S,d=E}if(m===v.length)return n(_,d),u;if(d===null){for(;m<v.length;m++)d=p(_,v[m],P),d!==null&&(g=s(d,g,m),f===null?u=d:f.sibling=d,f=d);return u}for(d=r(_,d);m<v.length;m++)E=k(d,_,m,v[m],P),E!==null&&(t&&E.alternate!==null&&d.delete(E.key===null?m:E.key),g=s(E,g,m),f===null?u=E:f.sibling=E,f=E);return t&&d.forEach(function(C){return e(_,C)}),u}function w(_,g,v,P){var u=Bi(v);if(typeof u!="function")throw Error(j(150));if(v=u.call(v),v==null)throw Error(j(151));for(var f=u=null,d=g,m=g=0,E=null,S=v.next();d!==null&&!S.done;m++,S=v.next()){d.index>m?(E=d,d=null):E=d.sibling;var C=y(_,d,S.value,P);if(C===null){d===null&&(d=E);break}t&&d&&C.alternate===null&&e(_,d),g=s(C,g,m),f===null?u=C:f.sibling=C,f=C,d=E}if(S.done)return n(_,d),u;if(d===null){for(;!S.done;m++,S=v.next())S=p(_,S.value,P),S!==null&&(g=s(S,g,m),f===null?u=S:f.sibling=S,f=S);return u}for(d=r(_,d);!S.done;m++,S=v.next())S=k(d,_,m,S.value,P),S!==null&&(t&&S.alternate!==null&&d.delete(S.key===null?m:S.key),g=s(S,g,m),f===null?u=S:f.sibling=S,f=S);return t&&d.forEach(function(I){return e(_,I)}),u}return function(_,g,v,P){var u=typeof v=="object"&&v!==null&&v.type===In&&v.key===null;u&&(v=v.props.children);var f=typeof v=="object"&&v!==null;if(f)switch(v.$$typeof){case as:e:{for(f=v.key,u=g;u!==null;){if(u.key===f){switch(u.tag){case 7:if(v.type===In){n(_,u.sibling),g=i(u,v.props.children),g.return=_,_=g;break e}break;default:if(u.elementType===v.type){n(_,u.sibling),g=i(u,v.props),g.ref=Ki(_,u,v),g.return=_,_=g;break e}}n(_,u);break}else e(_,u);u=u.sibling}v.type===In?(g=oi(v.props.children,_.mode,P,v.key),g.return=_,_=g):(P=ka(v.type,v.key,v.props,null,_.mode,P),P.ref=Ki(_,g,v),P.return=_,_=P)}return o(_);case lr:e:{for(u=v.key;g!==null;){if(g.key===u)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){n(_,g.sibling),g=i(g,v.children||[]),g.return=_,_=g;break e}else{n(_,g);break}else e(_,g);g=g.sibling}g=nc(v,_.mode,P),g.return=_,_=g}return o(_)}if(typeof v=="string"||typeof v=="number")return v=""+v,g!==null&&g.tag===6?(n(_,g.sibling),g=i(g,v),g.return=_,_=g):(n(_,g),g=tc(v,_.mode,P),g.return=_,_=g),o(_);if(Xo(v))return T(_,g,v,P);if(Bi(v))return w(_,g,v,P);if(f&&Yo(_,v),typeof v>"u"&&!u)switch(_.tag){case 1:case 22:case 0:case 11:case 15:throw Error(j(152,Yr(_.type)||"Component"))}return n(_,g)}}var Wa=v_(!0),w_=v_(!1),yo={},en=Zn(yo),qs=Zn(yo),Ws=Zn(yo);function fr(t){if(t===yo)throw Error(j(174));return t}function td(t,e){switch(be(Ws,e),be(qs,t),be(en,yo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:jc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=jc(e,t)}Ee(en),be(en,e)}function pi(){Ee(en),Ee(qs),Ee(Ws)}function nm(t){fr(Ws.current);var e=fr(en.current),n=jc(e,t.type);e!==n&&(be(qs,t),be(en,n))}function Lf(t){qs.current===t&&(Ee(en),Ee(qs))}var Ie=Zn(0);function Ga(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&64)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var pn=null,Nn=null,tn=!1;function E_(t,e){var n=bt(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function rm(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function nd(t){if(tn){var e=Nn;if(e){var n=e;if(!rm(t,e)){if(e=ti(n.nextSibling),!e||!rm(t,e)){t.flags=t.flags&-1025|2,tn=!1,pn=t;return}E_(pn,n)}pn=t,Nn=ti(e.firstChild)}else t.flags=t.flags&-1025|2,tn=!1,pn=t}}function im(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;pn=t}function Jo(t){if(t!==pn)return!1;if(!tn)return im(t),tn=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!Xc(e,t.memoizedProps))for(e=Nn;e;)E_(t,e),e=ti(e.nextSibling);if(im(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(j(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Nn=ti(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Nn=null}}else Nn=pn?ti(t.stateNode.nextSibling):null;return!0}function Yl(){Nn=pn=null,tn=!1}var ri=[];function $f(){for(var t=0;t<ri.length;t++)ri[t]._workInProgressVersionPrimary=null;ri.length=0}var Cs=Ir.ReactCurrentDispatcher,Dt=Ir.ReactCurrentBatchConfig,Gs=0,Oe=null,it=null,Ke=null,Ka=!1,ks=!1;function yt(){throw Error(j(321))}function jf(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!It(t[n],e[n]))return!1;return!0}function Ff(t,e,n,r,i,s){if(Gs=s,Oe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Cs.current=t===null||t.memoizedState===null?z3:B3,t=n(r,i),ks){s=0;do{if(ks=!1,!(25>s))throw Error(j(301));s+=1,Ke=it=null,e.updateQueue=null,Cs.current=U3,t=n(r,i)}while(ks)}if(Cs.current=Ja,e=it!==null&&it.next!==null,Gs=0,Ke=it=Oe=null,Ka=!1,e)throw Error(j(300));return t}function hr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?Oe.memoizedState=Ke=t:Ke=Ke.next=t,Ke}function Rr(){if(it===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=it.next;var e=Ke===null?Oe.memoizedState:Ke.next;if(e!==null)Ke=e,it=t;else{if(t===null)throw Error(j(310));it=t,t={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},Ke===null?Oe.memoizedState=Ke=t:Ke=Ke.next=t}return Ke}function Qt(t,e){return typeof e=="function"?e(t):e}function Qi(t){var e=Rr(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=it,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){i=i.next,r=r.baseState;var a=o=s=null,l=i;do{var c=l.lane;if((Gs&c)===c)a!==null&&(a=a.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===t?l.eagerState:t(r,l.action);else{var h={lane:c,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};a===null?(o=a=h,s=r):a=a.next=h,Oe.lanes|=c,_o|=c}l=l.next}while(l!==null&&l!==i);a===null?s=r:a.next=o,It(r,e.memoizedState)||(Ut=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=a,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function Xi(t){var e=Rr(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);It(s,e.memoizedState)||(Ut=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function sm(t,e,n){var r=e._getVersion;r=r(e._source);var i=e._workInProgressVersionPrimary;if(i!==null?t=i===r:(t=t.mutableReadLanes,(t=(Gs&t)===t)&&(e._workInProgressVersionPrimary=r,ri.push(e))),t)return n(e._source);throw ri.push(e),Error(j(350))}function T_(t,e,n,r){var i=mt;if(i===null)throw Error(j(349));var s=e._getVersion,o=s(e._source),a=Cs.current,l=a.useState(function(){return sm(i,e,n)}),c=l[1],h=l[0];l=Ke;var p=t.memoizedState,y=p.refs,k=y.getSnapshot,T=p.source;p=p.subscribe;var w=Oe;return t.memoizedState={refs:y,source:e,subscribe:r},a.useEffect(function(){y.getSnapshot=n,y.setSnapshot=c;var _=s(e._source);if(!It(o,_)){_=n(e._source),It(h,_)||(c(_),_=$n(w),i.mutableReadLanes|=_&i.pendingLanes),_=i.mutableReadLanes,i.entangledLanes|=_;for(var g=i.entanglements,v=_;0<v;){var P=31-Wn(v),u=1<<P;g[P]|=_,v&=~u}}},[n,e,r]),a.useEffect(function(){return r(e._source,function(){var _=y.getSnapshot,g=y.setSnapshot;try{g(_(e._source));var v=$n(w);i.mutableReadLanes|=v&i.pendingLanes}catch(P){g(function(){throw P})}})},[e,r]),It(k,n)&&It(T,e)&&It(p,r)||(t={pending:null,dispatch:null,lastRenderedReducer:Qt,lastRenderedState:h},t.dispatch=c=Uf.bind(null,Oe,t),l.queue=t,l.baseQueue=null,h=sm(i,e,n),l.memoizedState=l.baseState=h),h}function S_(t,e,n){var r=Rr();return T_(r,t,e,n)}function Yi(t){var e=hr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:Qt,lastRenderedState:t},t=t.dispatch=Uf.bind(null,Oe,t),[e.memoizedState,t]}function Qa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Oe.updateQueue,e===null?(e={lastEffect:null},Oe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function om(t){var e=hr();return t={current:t},e.memoizedState=t}function Xa(){return Rr().memoizedState}function rd(t,e,n,r){var i=hr();Oe.flags|=t,i.memoizedState=Qa(1|e,n,void 0,r===void 0?null:r)}function zf(t,e,n,r){var i=Rr();r=r===void 0?null:r;var s=void 0;if(it!==null){var o=it.memoizedState;if(s=o.destroy,r!==null&&jf(r,o.deps)){Qa(e,n,s,r);return}}Oe.flags|=t,i.memoizedState=Qa(1|e,n,s,r)}function am(t,e){return rd(516,4,t,e)}function Ya(t,e){return zf(516,4,t,e)}function C_(t,e){return zf(4,2,t,e)}function k_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function A_(t,e,n){return n=n!=null?n.concat([t]):null,zf(4,2,k_.bind(null,e,t),n)}function Bf(){}function P_(t,e){var n=Rr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&jf(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function I_(t,e){var n=Rr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&jf(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function F3(t,e){var n=hi();Er(98>n?98:n,function(){t(!0)}),Er(97<n?97:n,function(){var r=Dt.transition;Dt.transition=1;try{t(!1),e()}finally{Dt.transition=r}})}function Uf(t,e,n){var r=St(),i=$n(t),s={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=e.pending;if(o===null?s.next=s:(s.next=o.next,o.next=s),e.pending=s,o=t.alternate,t===Oe||o!==null&&o===Oe)ks=Ka=!0;else{if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,l=o(a,n);if(s.eagerReducer=o,s.eagerState=l,It(l,a))return}catch{}finally{}jn(t,i,r)}}var Ja={readContext:Mt,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useMutableSource:yt,useOpaqueIdentifier:yt,unstable_isNewReconciler:!1},z3={readContext:Mt,useCallback:function(t,e){return hr().memoizedState=[t,e===void 0?null:e],t},useContext:Mt,useEffect:am,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,rd(4,2,k_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return rd(4,2,t,e)},useMemo:function(t,e){var n=hr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=hr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=Uf.bind(null,Oe,t),[r.memoizedState,t]},useRef:om,useState:Yi,useDebugValue:Bf,useDeferredValue:function(t){var e=Yi(t),n=e[0],r=e[1];return am(function(){var i=Dt.transition;Dt.transition=1;try{r(t)}finally{Dt.transition=i}},[t]),n},useTransition:function(){var t=Yi(!1),e=t[0];return t=F3.bind(null,t[1]),om(t),[t,e]},useMutableSource:function(t,e,n){var r=hr();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:n},T_(r,t,e,n)},useOpaqueIdentifier:function(){if(tn){var t=!1,e=M3(function(){throw t||(t=!0,n("r:"+(Kl++).toString(36))),Error(j(355))}),n=Yi(e)[1];return!(Oe.mode&2)&&(Oe.flags|=516,Qa(5,function(){n("r:"+(Kl++).toString(36))},void 0,null)),e}return e="r:"+(Kl++).toString(36),Yi(e),e},unstable_isNewReconciler:!1},B3={readContext:Mt,useCallback:P_,useContext:Mt,useEffect:Ya,useImperativeHandle:A_,useLayoutEffect:C_,useMemo:I_,useReducer:Qi,useRef:Xa,useState:function(){return Qi(Qt)},useDebugValue:Bf,useDeferredValue:function(t){var e=Qi(Qt),n=e[0],r=e[1];return Ya(function(){var i=Dt.transition;Dt.transition=1;try{r(t)}finally{Dt.transition=i}},[t]),n},useTransition:function(){var t=Qi(Qt)[0];return[Xa().current,t]},useMutableSource:S_,useOpaqueIdentifier:function(){return Qi(Qt)[0]},unstable_isNewReconciler:!1},U3={readContext:Mt,useCallback:P_,useContext:Mt,useEffect:Ya,useImperativeHandle:A_,useLayoutEffect:C_,useMemo:I_,useReducer:Xi,useRef:Xa,useState:function(){return Xi(Qt)},useDebugValue:Bf,useDeferredValue:function(t){var e=Xi(Qt),n=e[0],r=e[1];return Ya(function(){var i=Dt.transition;Dt.transition=1;try{r(t)}finally{Dt.transition=i}},[t]),n},useTransition:function(){var t=Xi(Qt)[0];return[Xa().current,t]},useMutableSource:S_,useOpaqueIdentifier:function(){return Xi(Qt)[0]},unstable_isNewReconciler:!1},H3=Ir.ReactCurrentOwner,Ut=!1;function _t(t,e,n,r){e.child=t===null?w_(e,null,n,r):Wa(e,t.child,n,r)}function um(t,e,n,r,i){n=n.render;var s=e.ref;return ni(e,i),r=Ff(t,e,n,r,s,i),t!==null&&!Ut?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,mn(t,e,i)):(e.flags|=1,_t(t,e,r,i),e.child)}function lm(t,e,n,r,i,s){if(t===null){var o=n.type;return typeof o=="function"&&!Qf(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,b_(t,e,o,r,i,s)):(t=ka(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}return o=t.child,!(i&s)&&(i=o.memoizedProps,n=n.compare,n=n!==null?n:zs,n(i,r)&&t.ref===e.ref)?mn(t,e,s):(e.flags|=1,t=Qn(o,r),t.ref=e.ref,t.return=e,e.child=t)}function b_(t,e,n,r,i,s){if(t!==null&&zs(t.memoizedProps,r)&&t.ref===e.ref)if(Ut=!1,(s&i)!==0)t.flags&16384&&(Ut=!0);else return e.lanes=t.lanes,mn(t,e,s);return id(t,e,n,r,s)}function Jl(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden"||r.mode==="unstable-defer-without-hiding")if(!(e.mode&4))e.memoizedState={baseLanes:0},ea(e,n);else if(n&1073741824)e.memoizedState={baseLanes:0},ea(e,s!==null?s.baseLanes:n);else return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},ea(e,t),null;else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ea(e,r);return _t(t,e,i,n),e.child}function R_(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=128)}function id(t,e,n,r,i){var s=wt(n)?wr:dt.current;return s=fi(e,s),ni(e,i),n=Ff(t,e,n,r,s,i),t!==null&&!Ut?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,mn(t,e,i)):(e.flags|=1,_t(t,e,n,i),e.child)}function cm(t,e,n,r,i){if(wt(n)){var s=!0;wa(e)}else s=!1;if(ni(e,i),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),__(e,n,r),ed(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Mt(c):(c=wt(n)?wr:dt.current,c=fi(e,c));var h=n.getDerivedStateFromProps,p=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&tm(e,o,r,c),Pn=!1;var y=e.memoizedState;o.state=y,Hs(e,r,o,i),l=e.memoizedState,a!==r||y!==l||vt.current||Pn?(typeof h=="function"&&(qa(e,n,h,r),l=e.memoizedState),(a=Pn||em(e,n,a,r,y,l,c))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4)):(typeof o.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4),r=!1)}else{o=e.stateNode,g_(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Bt(e.type,a),o.props=c,p=e.pendingProps,y=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Mt(l):(l=wt(n)?wr:dt.current,l=fi(e,l));var k=n.getDerivedStateFromProps;(h=typeof k=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||y!==l)&&tm(e,o,r,l),Pn=!1,y=e.memoizedState,o.state=y,Hs(e,r,o,i);var T=e.memoizedState;a!==p||y!==T||vt.current||Pn?(typeof k=="function"&&(qa(e,n,k,r),T=e.memoizedState),(c=Pn||em(e,n,c,r,y,T,l))?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,T,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,T,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=T),o.props=r,o.state=T,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=256),r=!1)}return sd(t,e,n,r,s,i)}function sd(t,e,n,r,i,s){R_(t,e);var o=(e.flags&64)!==0;if(!r&&!o)return i&&Qp(e,n,!1),mn(t,e,s);r=e.stateNode,H3.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Wa(e,t.child,null,s),e.child=Wa(e,null,a,s)):_t(t,e,a,s),e.memoizedState=r.state,i&&Qp(e,n,!0),e.child}function dm(t){var e=t.stateNode;e.pendingContext?Kp(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Kp(t,e.context,!1),td(t,e.containerInfo)}var Zo={dehydrated:null,retryLane:0};function fm(t,e,n){var r=e.pendingProps,i=Ie.current,s=!1,o;return(o=(e.flags&64)!==0)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-65):t!==null&&t.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(i|=1),be(Ie,i&1),t===null?(r.fallback!==void 0&&nd(e),t=r.children,i=r.fallback,s?(t=hm(e,t,i,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Zo,t):typeof r.unstable_expectedLoadTime=="number"?(t=hm(e,t,i,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Zo,e.lanes=33554432,t):(n=Xf({mode:"visible",children:t},e.mode,n,null),n.return=e,e.child=n)):t.memoizedState!==null?s?(r=mm(t,e,r.children,r.fallback,n),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},s.childLanes=t.childLanes&~n,e.memoizedState=Zo,r):(n=pm(t,e,r.children,n),e.memoizedState=null,n):s?(r=mm(t,e,r.children,r.fallback,n),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},s.childLanes=t.childLanes&~n,e.memoizedState=Zo,r):(n=pm(t,e,r.children,n),e.memoizedState=null,n)}function hm(t,e,n,r){var i=t.mode,s=t.child;return e={mode:"hidden",children:e},!(i&2)&&s!==null?(s.childLanes=0,s.pendingProps=e):s=Xf(e,i,0,null),n=oi(n,i,r,null),s.return=t,n.return=t,s.sibling=n,t.child=s,n}function pm(t,e,n,r){var i=t.child;return t=i.sibling,n=Qn(i,{mode:"visible",children:n}),!(e.mode&2)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=n}function mm(t,e,n,r,i){var s=e.mode,o=t.child;t=o.sibling;var a={mode:"hidden",children:n};return!(s&2)&&e.child!==o?(n=e.child,n.childLanes=0,n.pendingProps=a,o=n.lastEffect,o!==null?(e.firstEffect=n.firstEffect,e.lastEffect=o,o.nextEffect=null):e.firstEffect=e.lastEffect=null):n=Qn(o,a),t!==null?r=Qn(t,r):(r=oi(r,s,i,null),r.flags|=2),r.return=e,n.return=e,n.sibling=r,e.child=n,r}function gm(t,e){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),m_(t.return,e)}function Zl(t,e,n,r,i,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=s)}function ym(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(_t(t,e,r.children,n),r=Ie.current,r&2)r=r&1|2,e.flags|=64;else{if(t!==null&&t.flags&64)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gm(t,n);else if(t.tag===19)gm(t,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(be(Ie,r),!(e.mode&2))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ga(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Zl(e,!1,i,n,s,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ga(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Zl(e,!0,n,null,s,e.lastEffect);break;case"together":Zl(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function mn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),_o|=e.lanes,n&e.childLanes){if(t!==null&&e.child!==t.child)throw Error(j(153));if(e.child!==null){for(t=e.child,n=Qn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Qn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}return null}var N_,od,D_,O_;N_=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};od=function(){};D_=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,fr(en.current);var s=null;switch(n){case"input":i=Oc(t,i),r=Oc(t,r),s=[];break;case"option":i=Vc(t,i),r=Vc(t,r),s=[];break;case"select":i=Ce({},i,{value:void 0}),r=Ce({},r,{value:void 0}),s=[];break;case"textarea":i=Lc(t,i),r=Lc(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ja)}Fc(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ms.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ms.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ve("scroll",t),s||a===l||(s=[])):typeof l=="object"&&l!==null&&l.$$typeof===gf?l.toString():(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};O_=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ji(t,e){if(!tn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function q3(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return wt(e.type)&&za(),null;case 3:return pi(),Ee(vt),Ee(dt),$f(),r=e.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Jo(e)?e.flags|=4:r.hydrate||(e.flags|=256)),od(e),null;case 5:Lf(e);var i=fr(Ws.current);if(n=e.type,t!==null&&e.stateNode!=null)D_(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=128);else{if(!r){if(e.stateNode===null)throw Error(j(166));return null}if(t=fr(en.current),Jo(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Rn]=e,r[Fa]=s,n){case"dialog":ve("cancel",r),ve("close",r);break;case"iframe":case"object":case"embed":ve("load",r);break;case"video":case"audio":for(t=0;t<ls.length;t++)ve(ls[t],r);break;case"source":ve("error",r);break;case"img":case"image":case"link":ve("error",r),ve("load",r);break;case"details":ve("toggle",r);break;case"input":yp(r,s),ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ve("invalid",r);break;case"textarea":vp(r,s),ve("invalid",r)}Fc(n,s),t=null;for(var o in s)s.hasOwnProperty(o)&&(i=s[o],o==="children"?typeof i=="string"?r.textContent!==i&&(t=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(t=["children",""+i]):Ms.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&ve("scroll",r));switch(n){case"input":Wo(r),_p(r,s,!0);break;case"textarea":Wo(r),wp(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ja)}r=t,e.updateQueue=r,r!==null&&(e.flags|=4)}else{switch(o=i.nodeType===9?i:i.ownerDocument,t===$c.html&&(t=Ay(n)),t===$c.html?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Rn]=e,t[Fa]=r,N_(t,e,!1,!1),e.stateNode=t,o=zc(n,r),n){case"dialog":ve("cancel",t),ve("close",t),i=r;break;case"iframe":case"object":case"embed":ve("load",t),i=r;break;case"video":case"audio":for(i=0;i<ls.length;i++)ve(ls[i],t);i=r;break;case"source":ve("error",t),i=r;break;case"img":case"image":case"link":ve("error",t),ve("load",t),i=r;break;case"details":ve("toggle",t),i=r;break;case"input":yp(t,r),i=Oc(t,r),ve("invalid",t);break;case"option":i=Vc(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ce({},r,{value:void 0}),ve("invalid",t);break;case"textarea":vp(t,r),i=Lc(t,r),ve("invalid",t);break;default:i=r}Fc(n,i);var a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?by(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Py(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&xs(t,l):typeof l=="number"&&xs(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ms.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ve("scroll",t):l!=null&&cf(t,s,l,o))}switch(n){case"input":Wo(t),_p(t,r,!1);break;case"textarea":Wo(t),wp(t);break;case"option":r.value!=null&&t.setAttribute("value",""+qn(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Jr(t,!!r.multiple,s,!1):r.defaultValue!=null&&Jr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ja)}o_(n,r)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(t&&e.stateNode!=null)O_(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(j(166));n=fr(Ws.current),fr(en.current),Jo(e)?(r=e.stateNode,n=e.memoizedProps,r[Rn]=e,r.nodeValue!==n&&(e.flags|=4)):(r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Rn]=e,e.stateNode=r)}return null;case 13:return Ee(Ie),r=e.memoizedState,e.flags&64?(e.lanes=n,e):(r=r!==null,n=!1,t===null?e.memoizedProps.fallback!==void 0&&Jo(e):n=t.memoizedState!==null,r&&!n&&e.mode&2&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||Ie.current&1?Xe===0&&(Xe=3):((Xe===0||Xe===3)&&(Xe=4),mt===null||!(_o&134217727)&&!(Di&134217727)||ii(mt,ut))),(r||n)&&(e.flags|=4),null);case 4:return pi(),od(e),t===null&&r_(e.stateNode.containerInfo),null;case 10:return xf(e),null;case 17:return wt(e.type)&&za(),null;case 19:if(Ee(Ie),r=e.memoizedState,r===null)return null;if(s=(e.flags&64)!==0,o=r.rendering,o===null)if(s)Ji(r,!1);else{if(Xe!==0||t!==null&&t.flags&64)for(t=e.child;t!==null;){if(o=Ga(t),o!==null){for(e.flags|=64,Ji(r,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),r.lastEffect===null&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return be(Ie,Ie.current&1|2),e.child}t=t.sibling}r.tail!==null&&at()>fd&&(e.flags|=64,s=!0,Ji(r,!1),e.lanes=33554432)}else{if(!s)if(t=Ga(o),t!==null){if(e.flags|=64,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ji(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!tn)return e=e.lastEffect=r.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*at()-r.renderingStartTime>fd&&n!==1073741824&&(e.flags|=64,s=!0,Ji(r,!1),e.lanes=33554432);r.isBackwards?(o.sibling=e.child,e.child=o):(n=r.last,n!==null?n.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=at(),n.sibling=null,e=Ie.current,be(Ie,s?e&1|2:e&1),n):null;case 23:case 24:return Kf(),t!==null&&t.memoizedState!==null!=(e.memoizedState!==null)&&r.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(j(156,e.tag))}function W3(t){switch(t.tag){case 1:wt(t.type)&&za();var e=t.flags;return e&4096?(t.flags=e&-4097|64,t):null;case 3:if(pi(),Ee(vt),Ee(dt),$f(),e=t.flags,e&64)throw Error(j(285));return t.flags=e&-4097|64,t;case 5:return Lf(t),null;case 13:return Ee(Ie),e=t.flags,e&4096?(t.flags=e&-4097|64,t):null;case 19:return Ee(Ie),null;case 4:return pi(),null;case 10:return xf(t),null;case 23:case 24:return Kf(),null;default:return null}}function Hf(t,e){try{var n="",r=e;do n+=Aw(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i}}function ad(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var G3=typeof WeakMap=="function"?WeakMap:Map;function M_(t,e,n){n=Vn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){eu||(eu=!0,hd=r),ad(t,e)},n}function x_(t,e,n){n=Vn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return ad(t,e),r(i)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){typeof r!="function"&&(Xt===null?Xt=new Set([this]):Xt.add(this),ad(t,e));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}var K3=typeof WeakSet=="function"?WeakSet:Set;function _m(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(n){Fn(t,n)}else e.current=null}function Q3(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&t!==null){var n=t.memoizedProps,r=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?n:Bt(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&Nf(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(j(163))}function X3(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:if(e=n.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{if((t.tag&3)===3){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}if(e=n.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{var i=t;r=i.next,i=i.tag,i&4&&i&1&&(H_(n,t),iE(n,t)),t=r}while(t!==e)}return;case 1:t=n.stateNode,n.flags&4&&(e===null?t.componentDidMount():(r=n.elementType===n.type?e.memoizedProps:Bt(n.type,e.memoizedProps),t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),e=n.updateQueue,e!==null&&Zp(n,e,t);return;case 3:if(e=n.updateQueue,e!==null){if(t=null,n.child!==null)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}Zp(n,e,t)}return;case 5:t=n.stateNode,e===null&&n.flags&4&&o_(n.type,n.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:n.memoizedState===null&&(n=n.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&jy(n))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(j(163))}function vm(t,e){for(var n=t;;){if(n.tag===5){var r=n.stateNode;if(e)r=r.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,r.style.display=Iy("display",i)}}else if(n.tag===6)n.stateNode.nodeValue=e?"":n.memoizedProps;else if((n.tag!==23&&n.tag!==24||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function wm(t,e){if(yr&&typeof yr.onCommitFiberUnmount=="function")try{yr.onCommitFiberUnmount(Df,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var n=t=t.next;do{var r=n,i=r.destroy;if(r=r.tag,i!==void 0)if(r&4)H_(e,n);else{r=e;try{i()}catch(s){Fn(r,s)}}n=n.next}while(n!==t)}break;case 1:if(_m(e),t=e.stateNode,typeof t.componentWillUnmount=="function")try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(s){Fn(e,s)}break;case 5:_m(e);break;case 4:V_(t,e)}}function Em(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function Tm(t){return t.tag===5||t.tag===3||t.tag===4}function Sm(t){e:{for(var e=t.return;e!==null;){if(Tm(e))break e;e=e.return}throw Error(j(160))}var n=e;switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:e=e.containerInfo,r=!0;break;case 4:e=e.containerInfo,r=!0;break;default:throw Error(j(161))}n.flags&16&&(xs(e,""),n.flags&=-17);e:t:for(n=t;;){for(;n.sibling===null;){if(n.return===null||Tm(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2)){n=n.stateNode;break e}}r?ud(t,n,e):ld(t,n,e)}function ud(t,e,n){var r=t.tag,i=r===5||r===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ja));else if(r!==4&&(t=t.child,t!==null))for(ud(t,e,n),t=t.sibling;t!==null;)ud(t,e,n),t=t.sibling}function ld(t,e,n){var r=t.tag,i=r===5||r===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ld(t,e,n),t=t.sibling;t!==null;)ld(t,e,n),t=t.sibling}function V_(t,e){for(var n=e,r=!1,i,s;;){if(!r){r=n.return;e:for(;;){if(r===null)throw Error(j(160));switch(i=r.stateNode,r.tag){case 5:s=!1;break e;case 3:i=i.containerInfo,s=!0;break e;case 4:i=i.containerInfo,s=!0;break e}r=r.return}r=!0}if(n.tag===5||n.tag===6){e:for(var o=t,a=n,l=a;;)if(wm(o,l),l.child!==null&&l.tag!==4)l.child.return=l,l=l.child;else{if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}s?(o=i,a=n.stateNode,o.nodeType===8?o.parentNode.removeChild(a):o.removeChild(a)):i.removeChild(n.stateNode)}else if(n.tag===4){if(n.child!==null){i=n.stateNode.containerInfo,s=!0,n.child.return=n,n=n.child;continue}}else if(wm(t,n),n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return,n.tag===4&&(r=!1)}n.sibling.return=n.return,n=n.sibling}}function ec(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do(r.tag&3)===3&&(t=r.destroy,r.destroy=void 0,t!==void 0&&t()),r=r.next;while(r!==n)}return;case 1:return;case 5:if(n=e.stateNode,n!=null){r=e.memoizedProps;var i=t!==null?t.memoizedProps:r;t=e.type;var s=e.updateQueue;if(e.updateQueue=null,s!==null){for(n[Fa]=r,t==="input"&&r.type==="radio"&&r.name!=null&&Cy(n,r),zc(t,i),e=zc(t,r),i=0;i<s.length;i+=2){var o=s[i],a=s[i+1];o==="style"?by(n,a):o==="dangerouslySetInnerHTML"?Py(n,a):o==="children"?xs(n,a):cf(n,o,a,e)}switch(t){case"input":Mc(n,r);break;case"textarea":ky(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,s=r.value,s!=null?Jr(n,!!r.multiple,s,!1):t!==!!r.multiple&&(r.defaultValue!=null?Jr(n,!!r.multiple,r.defaultValue,!0):Jr(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(j(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:n=e.stateNode,n.hydrate&&(n.hydrate=!1,jy(n.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(Gf=at(),vm(e.child,!0)),Cm(e);return;case 19:Cm(e);return;case 17:return;case 23:case 24:vm(e,e.memoizedState!==null);return}throw Error(j(163))}function Cm(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new K3),e.forEach(function(r){var i=aE.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Y3(t,e){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var J3=Math.ceil,Za=Ir.ReactCurrentDispatcher,qf=Ir.ReactCurrentOwner,Z=0,mt=null,je=null,ut=0,Tr=0,cd=Zn(0),Xe=0,Mu=null,Ni=0,_o=0,Di=0,Wf=0,dd=null,Gf=0,fd=1/0;function Oi(){fd=at()+500}var G=null,eu=!1,hd=null,Xt=null,Kn=!1,As=null,cs=90,pd=[],md=[],yn=null,Ps=0,gd=null,Ta=-1,hn=0,Sa=0,Is=null,Ca=!1;function St(){return Z&48?at():Ta!==-1?Ta:Ta=at()}function $n(t){if(t=t.mode,!(t&2))return 1;if(!(t&4))return hi()===99?1:2;if(hn===0&&(hn=Ni),j3.transition!==0){Sa!==0&&(Sa=dd!==null?dd.pendingLanes:0),t=hn;var e=4186112&~Sa;return e&=-e,e===0&&(t=4186112&~t,e=t&-t,e===0&&(e=8192)),e}return t=hi(),Z&4&&t===98?t=La(12,hn):(t=Bw(t),t=La(t,hn)),t}function jn(t,e,n){if(50<Ps)throw Ps=0,gd=null,Error(j(185));if(t=xu(t,e),t===null)return null;Pu(t,e,n),t===mt&&(Di|=e,Xe===4&&ii(t,ut));var r=hi();e===1?Z&8&&!(Z&48)?yd(t):(xt(t,n),Z===0&&(Oi(),un())):(!(Z&4)||r!==98&&r!==99||(yn===null?yn=new Set([t]):yn.add(t)),xt(t,n)),dd=t}function xu(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}function xt(t,e){for(var n=t.callbackNode,r=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-Wn(o),l=1<<a,c=s[a];if(c===-1){if(!(l&r)||l&i){c=e,Lr(l);var h=ye;s[a]=10<=h?c+250:6<=h?c+5e3:-1}}else c<=e&&(t.expiredLanes|=l);o&=~l}if(r=js(t,t===mt?ut:0),e=ye,r===0)n!==null&&(n!==Ql&&Jc(n),t.callbackNode=null,t.callbackPriority=0);else{if(n!==null){if(t.callbackPriority===e)return;n!==Ql&&Jc(n)}e===15?(n=yd.bind(null,t),fn===null?(fn=[n],Ea=Of(Du,p_)):fn.push(n),n=Ql):e===14?n=Us(99,yd.bind(null,t)):(n=Uw(e),n=Us(n,L_.bind(null,t))),t.callbackPriority=e,t.callbackNode=n}}function L_(t){if(Ta=-1,Sa=hn=0,Z&48)throw Error(j(327));var e=t.callbackNode;if(er()&&t.callbackNode!==e)return null;var n=js(t,t===mt?ut:0);if(n===0)return null;var r=n,i=Z;Z|=16;var s=z_();(mt!==t||ut!==r)&&(Oi(),si(t,r));do try{tE();break}catch(a){F_(t,a)}while(1);if(Mf(),Za.current=s,Z=i,je!==null?r=0:(mt=null,ut=0,r=Xe),Ni&Di)si(t,0);else if(r!==0){if(r===2&&(Z|=64,t.hydrate&&(t.hydrate=!1,Nf(t.containerInfo)),n=Wy(t),n!==0&&(r=ds(t,n))),r===1)throw e=Mu,si(t,0),ii(t,n),xt(t,at()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=n,r){case 0:case 1:throw Error(j(345));case 2:ar(t);break;case 3:if(ii(t,n),(n&62914560)===n&&(r=Gf+500-at(),10<r)){if(js(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){St(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=qp(ar.bind(null,t),r);break}ar(t);break;case 4:if(ii(t,n),(n&4186112)===n)break;for(r=t.eventTimes,i=-1;0<n;){var o=31-Wn(n);s=1<<o,o=r[o],o>i&&(i=o),n&=~s}if(n=i,n=at()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*J3(n/1960))-n,10<n){t.timeoutHandle=qp(ar.bind(null,t),n);break}ar(t);break;case 5:ar(t);break;default:throw Error(j(329))}}return xt(t,at()),t.callbackNode===e?L_.bind(null,t):null}function ii(t,e){for(e&=~Wf,e&=~Di,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Wn(e),r=1<<n;t[n]=-1,e&=~r}}function yd(t){if(Z&48)throw Error(j(327));if(er(),t===mt&&t.expiredLanes&ut){var e=ut,n=ds(t,e);Ni&Di&&(e=js(t,e),n=ds(t,e))}else e=js(t,0),n=ds(t,e);if(t.tag!==0&&n===2&&(Z|=64,t.hydrate&&(t.hydrate=!1,Nf(t.containerInfo)),e=Wy(t),e!==0&&(n=ds(t,e))),n===1)throw n=Mu,si(t,0),ii(t,e),xt(t,at()),n;return t.finishedWork=t.current.alternate,t.finishedLanes=e,ar(t),xt(t,at()),null}function Z3(){if(yn!==null){var t=yn;yn=null,t.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,xt(e,at())})}un()}function $_(t,e){var n=Z;Z|=1;try{return t(e)}finally{Z=n,Z===0&&(Oi(),un())}}function j_(t,e){var n=Z;Z&=-2,Z|=8;try{return t(e)}finally{Z=n,Z===0&&(Oi(),un())}}function ea(t,e){be(cd,Tr),Tr|=e,Ni|=e}function Kf(){Tr=cd.current,Ee(cd)}function si(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,O3(n)),je!==null)for(n=je.return;n!==null;){var r=n;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&za();break;case 3:pi(),Ee(vt),Ee(dt),$f();break;case 5:Lf(r);break;case 4:pi();break;case 13:Ee(Ie);break;case 19:Ee(Ie);break;case 10:xf(r);break;case 23:case 24:Kf()}n=n.return}mt=t,je=Qn(t.current,null),ut=Tr=Ni=e,Xe=0,Mu=null,Wf=Di=_o=0}function F_(t,e){do{var n=je;try{if(Mf(),Cs.current=Ja,Ka){for(var r=Oe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ka=!1}if(Gs=0,Ke=it=Oe=null,ks=!1,qf.current=null,n===null||n.return===null){Xe=1,Mu=e,je=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=ut,a.flags|=2048,a.firstEffect=a.lastEffect=null,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l;if(!(a.mode&2)){var h=a.alternate;h?(a.updateQueue=h.updateQueue,a.memoizedState=h.memoizedState,a.lanes=h.lanes):(a.updateQueue=null,a.memoizedState=null)}var p=(Ie.current&1)!==0,y=o;do{var k;if(k=y.tag===13){var T=y.memoizedState;if(T!==null)k=T.dehydrated!==null;else{var w=y.memoizedProps;k=w.fallback===void 0?!1:w.unstable_avoidThisFallback!==!0?!0:!p}}if(k){var _=y.updateQueue;if(_===null){var g=new Set;g.add(c),y.updateQueue=g}else _.add(c);if(!(y.mode&2)){if(y.flags|=64,a.flags|=16384,a.flags&=-2981,a.tag===1)if(a.alternate===null)a.tag=17;else{var v=Vn(-1,1);v.tag=2,Ln(a,v)}a.lanes|=1;break e}l=void 0,a=e;var P=s.pingCache;if(P===null?(P=s.pingCache=new G3,l=new Set,P.set(c,l)):(l=P.get(c),l===void 0&&(l=new Set,P.set(c,l))),!l.has(a)){l.add(a);var u=oE.bind(null,s,c,a);c.then(u,u)}y.flags|=4096,y.lanes=e;break e}y=y.return}while(y!==null);l=Error((Yr(a.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Xe!==5&&(Xe=2),l=Hf(l,a),y=o;do{switch(y.tag){case 3:s=l,y.flags|=4096,e&=-e,y.lanes|=e;var f=M_(y,s,e);Jp(y,f);break e;case 1:s=l;var d=y.type,m=y.stateNode;if(!(y.flags&64)&&(typeof d.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Xt===null||!Xt.has(m)))){y.flags|=4096,e&=-e,y.lanes|=e;var E=x_(y,s,e);Jp(y,E);break e}}y=y.return}while(y!==null)}U_(n)}catch(S){e=S,je===n&&n!==null&&(je=n=n.return);continue}break}while(1)}function z_(){var t=Za.current;return Za.current=Ja,t===null?Ja:t}function ds(t,e){var n=Z;Z|=16;var r=z_();mt===t&&ut===e||si(t,e);do try{eE();break}catch(i){F_(t,i)}while(1);if(Mf(),Z=n,Za.current=r,je!==null)throw Error(j(261));return mt=null,ut=0,Xe}function eE(){for(;je!==null;)B_(je)}function tE(){for(;je!==null&&!V3();)B_(je)}function B_(t){var e=q_(t.alternate,t,Tr);t.memoizedProps=t.pendingProps,e===null?U_(t):je=e,qf.current=null}function U_(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&2048){if(n=W3(e),n!==null){n.flags&=2047,je=n;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}else{if(n=q3(n,e,Tr),n!==null){je=n;return}if(n=e,n.tag!==24&&n.tag!==23||n.memoizedState===null||Tr&1073741824||!(n.mode&4)){for(var r=0,i=n.child;i!==null;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}t!==null&&!(t.flags&2048)&&(t.firstEffect===null&&(t.firstEffect=e.firstEffect),e.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}if(e=e.sibling,e!==null){je=e;return}je=e=t}while(e!==null);Xe===0&&(Xe=5)}function ar(t){var e=hi();return Er(99,nE.bind(null,t,e)),null}function nE(t,e){do er();while(As!==null);if(Z&48)throw Error(j(327));var n=t.finishedWork;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(j(177));t.callbackNode=null;var r=n.lanes|n.childLanes,i=r,s=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var o=t.eventTimes,a=t.expirationTimes;0<s;){var l=31-Wn(s),c=1<<l;i[l]=0,o[l]=-1,a[l]=-1,s&=~c}if(yn!==null&&!(r&24)&&yn.has(t)&&yn.delete(t),t===mt&&(je=mt=null,ut=0),1<n.flags?n.lastEffect!==null?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,r!==null){if(i=Z,Z|=32,qf.current=null,Wl=ya,o=$p(),Gc(o)){if("selectionStart"in o)a={start:o.selectionStart,end:o.selectionEnd};else e:if(a=(a=o.ownerDocument)&&a.defaultView||window,(c=a.getSelection&&a.getSelection())&&c.rangeCount!==0){a=c.anchorNode,s=c.anchorOffset,l=c.focusNode,c=c.focusOffset;try{a.nodeType,l.nodeType}catch{a=null;break e}var h=0,p=-1,y=-1,k=0,T=0,w=o,_=null;t:for(;;){for(var g;w!==a||s!==0&&w.nodeType!==3||(p=h+s),w!==l||c!==0&&w.nodeType!==3||(y=h+c),w.nodeType===3&&(h+=w.nodeValue.length),(g=w.firstChild)!==null;)_=w,w=g;for(;;){if(w===o)break t;if(_===a&&++k===s&&(p=h),_===l&&++T===c&&(y=h),(g=w.nextSibling)!==null)break;w=_,_=w.parentNode}w=g}a=p===-1||y===-1?null:{start:p,end:y}}else a=null;a=a||{start:0,end:0}}else a=null;Gl={focusedElem:o,selectionRange:a},ya=!1,Is=null,Ca=!1,G=r;do try{rE()}catch(S){if(G===null)throw Error(j(330));Fn(G,S),G=G.nextEffect}while(G!==null);Is=null,G=r;do try{for(o=t;G!==null;){var v=G.flags;if(v&16&&xs(G.stateNode,""),v&128){var P=G.alternate;if(P!==null){var u=P.ref;u!==null&&(typeof u=="function"?u(null):u.current=null)}}switch(v&1038){case 2:Sm(G),G.flags&=-3;break;case 6:Sm(G),G.flags&=-3,ec(G.alternate,G);break;case 1024:G.flags&=-1025;break;case 1028:G.flags&=-1025,ec(G.alternate,G);break;case 4:ec(G.alternate,G);break;case 8:a=G,V_(o,a);var f=a.alternate;Em(a),f!==null&&Em(f)}G=G.nextEffect}}catch(S){if(G===null)throw Error(j(330));Fn(G,S),G=G.nextEffect}while(G!==null);if(u=Gl,P=$p(),v=u.focusedElem,o=u.selectionRange,P!==v&&v&&v.ownerDocument&&e_(v.ownerDocument.documentElement,v)){for(o!==null&&Gc(v)&&(P=o.start,u=o.end,u===void 0&&(u=P),"selectionStart"in v?(v.selectionStart=P,v.selectionEnd=Math.min(u,v.value.length)):(u=(P=v.ownerDocument||document)&&P.defaultView||window,u.getSelection&&(u=u.getSelection(),a=v.textContent.length,f=Math.min(o.start,a),o=o.end===void 0?f:Math.min(o.end,a),!u.extend&&f>o&&(a=o,o=f,f=a),a=Lp(v,f),s=Lp(v,o),a&&s&&(u.rangeCount!==1||u.anchorNode!==a.node||u.anchorOffset!==a.offset||u.focusNode!==s.node||u.focusOffset!==s.offset)&&(P=P.createRange(),P.setStart(a.node,a.offset),u.removeAllRanges(),f>o?(u.addRange(P),u.extend(s.node,s.offset)):(P.setEnd(s.node,s.offset),u.addRange(P)))))),P=[],u=v;u=u.parentNode;)u.nodeType===1&&P.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<P.length;v++)u=P[v],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}ya=!!Wl,Gl=Wl=null,t.current=n,G=r;do try{for(v=t;G!==null;){var d=G.flags;if(d&36&&X3(v,G.alternate,G),d&128){P=void 0;var m=G.ref;if(m!==null){var E=G.stateNode;switch(G.tag){case 5:P=E;break;default:P=E}typeof m=="function"?m(P):m.current=P}}G=G.nextEffect}}catch(S){if(G===null)throw Error(j(330));Fn(G,S),G=G.nextEffect}while(G!==null);G=null,$3(),Z=i}else t.current=n;if(Kn)Kn=!1,As=t,cs=e;else for(G=r;G!==null;)e=G.nextEffect,G.nextEffect=null,G.flags&8&&(d=G,d.sibling=null,d.stateNode=null),G=e;if(r=t.pendingLanes,r===0&&(Xt=null),r===1?t===gd?Ps++:(Ps=0,gd=t):Ps=0,n=n.stateNode,yr&&typeof yr.onCommitFiberRoot=="function")try{yr.onCommitFiberRoot(Df,n,void 0,(n.current.flags&64)===64)}catch{}if(xt(t,at()),eu)throw eu=!1,t=hd,hd=null,t;return Z&8||un(),null}function rE(){for(;G!==null;){var t=G.alternate;Ca||Is===null||(G.flags&8?Sp(G,Is)&&(Ca=!0):G.tag===13&&Y3(t,G)&&Sp(G,Is)&&(Ca=!0));var e=G.flags;e&256&&Q3(t,G),!(e&512)||Kn||(Kn=!0,Us(97,function(){return er(),null})),G=G.nextEffect}}function er(){if(cs!==90){var t=97<cs?97:cs;return cs=90,Er(t,sE)}return!1}function iE(t,e){pd.push(e,t),Kn||(Kn=!0,Us(97,function(){return er(),null}))}function H_(t,e){md.push(e,t),Kn||(Kn=!0,Us(97,function(){return er(),null}))}function sE(){if(As===null)return!1;var t=As;if(As=null,Z&48)throw Error(j(331));var e=Z;Z|=32;var n=md;md=[];for(var r=0;r<n.length;r+=2){var i=n[r],s=n[r+1],o=i.destroy;if(i.destroy=void 0,typeof o=="function")try{o()}catch(l){if(s===null)throw Error(j(330));Fn(s,l)}}for(n=pd,pd=[],r=0;r<n.length;r+=2){i=n[r],s=n[r+1];try{var a=i.create;i.destroy=a()}catch(l){if(s===null)throw Error(j(330));Fn(s,l)}}for(a=t.current.firstEffect;a!==null;)t=a.nextEffect,a.nextEffect=null,a.flags&8&&(a.sibling=null,a.stateNode=null),a=t;return Z=e,un(),!0}function km(t,e,n){e=Hf(n,e),e=M_(t,e,1),Ln(t,e),e=St(),t=xu(t,1),t!==null&&(Pu(t,1,e),xt(t,e))}function Fn(t,e){if(t.tag===3)km(t,t,e);else for(var n=t.return;n!==null;){if(n.tag===3){km(n,t,e);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xt===null||!Xt.has(r))){t=Hf(e,t);var i=x_(n,t,1);if(Ln(n,i),i=St(),n=xu(n,1),n!==null)Pu(n,1,i),xt(n,i);else if(typeof r.componentDidCatch=="function"&&(Xt===null||!Xt.has(r)))try{r.componentDidCatch(e,t)}catch{}break}}n=n.return}}function oE(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=St(),t.pingedLanes|=t.suspendedLanes&n,mt===t&&(ut&n)===n&&(Xe===4||Xe===3&&(ut&62914560)===ut&&500>at()-Gf?si(t,0):Wf|=n),xt(t,e)}function aE(t,e){var n=t.stateNode;n!==null&&n.delete(e),e=0,e===0&&(e=t.mode,e&2?e&4?(hn===0&&(hn=Ni),e=$r(62914560&~hn),e===0&&(e=4194304)):e=hi()===99?1:2:e=1),n=St(),t=xu(t,e),t!==null&&(Pu(t,e,n),xt(t,n))}var q_;q_=function(t,e,n){var r=e.lanes;if(t!==null)if(t.memoizedProps!==e.pendingProps||vt.current)Ut=!0;else if(n&r)Ut=!!(t.flags&16384);else{switch(Ut=!1,e.tag){case 3:dm(e),Yl();break;case 5:nm(e);break;case 1:wt(e.type)&&wa(e);break;case 4:td(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var i=e.type._context;be(Ba,i._currentValue),i._currentValue=r;break;case 13:if(e.memoizedState!==null)return n&e.child.childLanes?fm(t,e,n):(be(Ie,Ie.current&1),e=mn(t,e,n),e!==null?e.sibling:null);be(Ie,Ie.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&64){if(r)return ym(t,e,n);e.flags|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),be(Ie,Ie.current),r)break;return null;case 23:case 24:return e.lanes=0,Jl(t,e,n)}return mn(t,e,n)}else Ut=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=fi(e,dt.current),ni(e,n),i=Ff(null,e,r,t,i,n),e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,wt(r)){var s=!0;wa(e)}else s=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Vf(e);var o=r.getDerivedStateFromProps;typeof o=="function"&&qa(e,r,o,t),i.updater=Ou,e.stateNode=i,i._reactInternals=e,ed(e,r,t,n),e=sd(null,e,r,!0,s,n)}else e.tag=0,_t(null,e,i,n),e=e.child;return e;case 16:i=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=lE(i),t=Bt(i,t),s){case 0:e=id(null,e,i,t,n);break e;case 1:e=cm(null,e,i,t,n);break e;case 11:e=um(null,e,i,t,n);break e;case 14:e=lm(null,e,i,Bt(i.type,t),r,n);break e}throw Error(j(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bt(r,i),id(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bt(r,i),cm(t,e,r,i,n);case 3:if(dm(e),r=e.updateQueue,t===null||r===null)throw Error(j(282));if(r=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,g_(t,e),Hs(e,r,null,n),r=e.memoizedState.element,r===i)Yl(),e=mn(t,e,n);else{if(i=e.stateNode,(s=i.hydrate)&&(Nn=ti(e.stateNode.containerInfo.firstChild),pn=e,s=tn=!0),s){if(t=i.mutableSourceEagerHydrationData,t!=null)for(i=0;i<t.length;i+=2)s=t[i],s._workInProgressVersionPrimary=t[i+1],ri.push(s);for(n=w_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|1024,n=n.sibling}else _t(t,e,r,n),Yl();e=e.child}return e;case 5:return nm(e),t===null&&nd(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Xc(r,i)?o=null:s!==null&&Xc(r,s)&&(e.flags|=16),R_(t,e),_t(t,e,o,n),e.child;case 6:return t===null&&nd(e),null;case 13:return fm(t,e,n);case 4:return td(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Wa(e,null,r,n):_t(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bt(r,i),um(t,e,r,i,n);case 7:return _t(t,e,e.pendingProps,n),e.child;case 8:return _t(t,e,e.pendingProps.children,n),e.child;case 12:return _t(t,e,e.pendingProps.children,n),e.child;case 10:e:{r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value;var a=e.type._context;if(be(Ba,a._currentValue),a._currentValue=s,o!==null)if(a=o.value,s=It(a,s)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(a,s):1073741823)|0,s===0){if(o.children===i.children&&!vt.current){e=mn(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r&&c.observedBits&s){a.tag===1&&(c=Vn(-1,n&-n),c.tag=2,Ln(a,c)),a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),m_(a.return,n),l.lanes|=n;break}c=c.next}}else o=a.tag===10&&a.type===e.type?null:a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}_t(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps,r=s.children,ni(e,n),i=Mt(i,s.unstable_observedBits),r=r(i),e.flags|=1,_t(t,e,r,n),e.child;case 14:return i=e.type,s=Bt(i,e.pendingProps),s=Bt(i.type,s),lm(t,e,i,s,r,n);case 15:return b_(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bt(r,i),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,wt(r)?(t=!0,wa(e)):t=!1,ni(e,n),__(e,r,i),ed(e,r,i,n),sd(null,e,r,!0,t,n);case 19:return ym(t,e,n);case 23:return Jl(t,e,n);case 24:return Jl(t,e,n)}throw Error(j(156,e.tag))};function uE(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function bt(t,e,n,r){return new uE(t,e,n,r)}function Qf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function lE(t){if(typeof t=="function")return Qf(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Cu)return 11;if(t===ku)return 14}return 2}function Qn(t,e){var n=t.alternate;return n===null?(n=bt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ka(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Qf(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case In:return oi(n.children,i,s,e);case Ey:o=8,i|=16;break;case df:o=8,i|=1;break;case ys:return t=bt(12,n,e,i|8),t.elementType=ys,t.type=ys,t.lanes=s,t;case _s:return t=bt(13,n,e,i),t.type=_s,t.elementType=_s,t.lanes=s,t;case Oa:return t=bt(19,n,e,i),t.elementType=Oa,t.lanes=s,t;case yf:return Xf(n,i,s,e);case Dc:return t=bt(24,n,e,i),t.elementType=Dc,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ff:o=10;break e;case hf:o=9;break e;case Cu:o=11;break e;case ku:o=14;break e;case pf:o=16,r=null;break e;case mf:o=22;break e}throw Error(j(130,t==null?t:typeof t,""))}return e=bt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function oi(t,e,n,r){return t=bt(7,t,r,e),t.lanes=n,t}function Xf(t,e,n,r){return t=bt(23,t,r,e),t.elementType=yf,t.lanes=n,t}function tc(t,e,n){return t=bt(6,t,null,e),t.lanes=n,t}function nc(t,e,n){return e=bt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function cE(t,e,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=jl(0),this.expirationTimes=jl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jl(0),this.mutableSourceEagerHydrationData=null}function dE(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function tu(t,e,n,r){var i=e.current,s=St(),o=$n(i);e:if(n){n=n._reactInternals;t:{if(br(n)!==n||n.tag!==1)throw Error(j(170));var a=n;do{switch(a.tag){case 3:a=a.stateNode.context;break t;case 1:if(wt(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break t}}a=a.return}while(a!==null);throw Error(j(171))}if(n.tag===1){var l=n.type;if(wt(l)){n=u_(n,l,a);break e}}n=a}else n=Gn;return e.context===null?e.context=n:e.pendingContext=n,e=Vn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),Ln(i,e),jn(i,o,s),o}function rc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Am(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Yf(t,e){Am(t,e),(t=t.alternate)&&Am(t,e)}function fE(){return null}function Jf(t,e,n){var r=n!=null&&n.hydrationOptions!=null&&n.hydrationOptions.mutableSources||null;if(n=new cE(t,e,n!=null&&n.hydrate===!0),e=bt(3,null,null,e===2?7:e===1?3:0),n.current=e,e.stateNode=n,Vf(e),t[Ri]=n.current,r_(t.nodeType===8?t.parentNode:t),r)for(t=0;t<r.length;t++){e=r[t];var i=e._getVersion;i=i(e._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[e,i]:n.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=n}Jf.prototype.render=function(t){tu(t,this._internalRoot,null,null)};Jf.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;tu(null,t,null,function(){e[Ri]=null})};function vo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function hE(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new Jf(t,0,e?{hydrate:!0}:void 0)}function Vu(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s._internalRoot;if(typeof i=="function"){var a=i;i=function(){var c=rc(o);a.call(c)}}tu(e,o,t,i)}else{if(s=n._reactRootContainer=hE(n,r),o=s._internalRoot,typeof i=="function"){var l=i;i=function(){var c=rc(o);l.call(c)}}j_(function(){tu(e,o,t,i)})}return rc(o)}Vy=function(t){if(t.tag===13){var e=St();jn(t,4,e),Yf(t,4)}};Tf=function(t){if(t.tag===13){var e=St();jn(t,67108864,e),Yf(t,67108864)}};Ly=function(t){if(t.tag===13){var e=St(),n=$n(t);jn(t,n,e),Yf(t,n)}};$y=function(t,e){return e()};Bc=function(t,e,n){switch(e){case"input":if(Mc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Nu(r);if(!i)throw Error(j(90));Sy(r),Mc(r,i)}}}break;case"textarea":ky(t,n);break;case"select":e=n.value,e!=null&&Jr(t,!!n.multiple,e,!1)}};vf=$_;Dy=function(t,e,n,r,i){var s=Z;Z|=4;try{return Er(98,t.bind(null,e,n,r,i))}finally{Z=s,Z===0&&(Oi(),un())}};wf=function(){!(Z&49)&&(Z3(),er())};Oy=function(t,e){var n=Z;Z|=2;try{return t(e)}finally{Z=n,Z===0&&(Oi(),un())}};function W_(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vo(e))throw Error(j(200));return dE(t,e,null,n)}var pE={Events:[go,qr,Nu,Ry,Ny,er,{current:!1}]},Zi={findFiberByHostInstance:dr,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},mE={bundleType:Zi.bundleType,version:Zi.version,rendererPackageName:Zi.rendererPackageName,rendererConfig:Zi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ir.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=xy(t),t===null?null:t.stateNode},findFiberByHostInstance:Zi.findFiberByHostInstance||fE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ta=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ta.isDisabled&&ta.supportsFiber)try{Df=ta.inject(mE),yr=ta}catch{}}Vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pE;Vt.createPortal=W_;Vt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(j(188)):Error(j(268,Object.keys(t)));return t=xy(e),t=t===null?null:t.stateNode,t};Vt.flushSync=function(t,e){var n=Z;if(n&48)return t(e);Z|=1;try{if(t)return Er(99,t.bind(null,e))}finally{Z=n,un()}};Vt.hydrate=function(t,e,n){if(!vo(e))throw Error(j(200));return Vu(null,t,e,!0,n)};Vt.render=function(t,e,n){if(!vo(e))throw Error(j(200));return Vu(null,t,e,!1,n)};Vt.unmountComponentAtNode=function(t){if(!vo(t))throw Error(j(40));return t._reactRootContainer?(j_(function(){Vu(null,null,t,!1,function(){t._reactRootContainer=null,t[Ri]=null})}),!0):!1};Vt.unstable_batchedUpdates=$_;Vt.unstable_createPortal=function(t,e){return W_(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};Vt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!vo(n))throw Error(j(200));if(t==null||t._reactInternals===void 0)throw Error(j(38));return Vu(t,e,n,!1,r)};Vt.version="17.0.2";function G_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(G_)}catch(t){console.error(t)}}G_(),yy.exports=Vt;var gE=yy.exports;const yE=Ai(gE);function _E(t){const e=t.notes.map((n,r)=>ce.jsx("div",{children:ce.jsxs("div",{className:`title ${n.id===t.currentNote.id?"selected-note":""}`,onClick:()=>t.setCurrentNoteId(n.id),children:[ce.jsxs("h4",{className:"text-snippet",children:[n.body.split(`
`)[0]," "]}),ce.jsx("button",{className:"delete-btn",onClick:()=>t.deleteNote(n.id),children:ce.jsx("i",{className:"gg-trash trash-icon"})})]})},n.id));return ce.jsxs("section",{className:"pane sidebar",style:{marginTop:"20px"},children:[ce.jsxs("div",{className:"sidebar--header",children:[ce.jsx("h3",{children:"Notes"}),ce.jsx("button",{className:"new-note",onClick:t.newNote,children:"+"})]}),e]})}var ic={},Ve={};Object.defineProperty(Ve,"__esModule",{value:!0});Ve.getBreaksNeededForEmptyLineAfter=Ve.getBreaksNeededForEmptyLineBefore=Ve.selectWord=Ve.getSurroundingWord=void 0;function K_(t,e){if(!t)throw Error("Argument 'text' should be truthy");for(var n=function(o){return o===" "||o.charCodeAt(0)===10},r=0,i=t.length,s=e;s-1>-1;s--)if(n(t[s-1])){r=s;break}for(var s=e;s<t.length;s++)if(n(t[s])){i=s;break}return{start:r,end:i}}Ve.getSurroundingWord=K_;function vE(t){var e=t.text,n=t.selection;return e&&e.length&&n.start===n.end?K_(e,n.start):n}Ve.selectWord=vE;function wE(t,e){if(t===void 0&&(t=""),e===0)return 0;for(var n=2,r=!0,i=e-1;i>=0&&n>=0;i--)switch(t.charCodeAt(i)){case 32:continue;case 10:n--,r=!1;break;default:return n}return r?0:n}Ve.getBreaksNeededForEmptyLineBefore=wE;function EE(t,e){if(t===void 0&&(t=""),e===t.length-1)return 0;for(var n=2,r=!0,i=e;i<t.length&&n>=0;i++)switch(t.charCodeAt(i)){case 32:continue;case 10:{n--,r=!1;break}default:return n}return r?0:n}Ve.getBreaksNeededForEmptyLineAfter=EE;var sc={},wo={},Cn={};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/Object.defineProperty(Cn,"__esModule",{value:!0});Cn.classNames=void 0;function TE(t){return typeof t=="string"}function SE(t){return Array.isArray(t)&&t.length>0}function CE(t){return typeof t=="object"}function Q_(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=[],r=0;r<t.length;r++){var i=t[r];if(i){if(TE(i))n.push(i);else if(SE(i)){var s=Q_.apply(null,i);s&&n.push(s)}else if(CE(i))for(var o in i)i.hasOwnProperty(o)&&i[o]&&n.push(o)}}return n.join(" ")}Cn.classNames=Q_;Object.defineProperty(wo,"__esModule",{value:!0});wo.ToolbarButtonGroup=void 0;var kE=F,AE=Cn,PE=function(t){return kE.createElement("ul",{className:AE.classNames("mde-header-group",{hidden:t.hidden})},t.children)};wo.ToolbarButtonGroup=PE;var Eo={},Kr=re&&re.__assign||function(){return Kr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Kr.apply(this,arguments)};Object.defineProperty(Eo,"__esModule",{value:!0});Eo.ToolbarButton=void 0;var Pm=F,IE={tabIndex:-1},bE=function(t){var e=t.buttonComponentClass,n=t.buttonContent,r=t.buttonProps,i=t.onClick,s=t.readOnly,o=t.name,a=Kr(Kr({},IE),r||{}),l=e||"button";return Pm.createElement("li",{className:"mde-header-item"},Pm.createElement(l,Kr(Kr({"data-name":o},a),{onClick:i,disabled:s,type:"button"}),n))};Eo.ToolbarButton=bE;var To={};Object.defineProperty(To,"__esModule",{value:!0});To.MdeFontAwesomeIcon=void 0;var RE=F,NE=function(t){var e=t.icon,n=e;switch(e){case"header":n="heading";break;case"quote":n="quote-right";break;case"unordered-list":n="tasks";break;case"ordered-list":n="list-ol";break;case"checked-list":n="tasks";break;default:n=e}return RE.createElement("i",{className:"fas fa-"+n,"aria-hidden":"true"})};To.MdeFontAwesomeIcon=NE;var Lu={},DE=re&&re.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Lu,"__esModule",{value:!0});Lu.Preview=void 0;var na=F,OE=Cn,ME=function(t){DE(e,t);function e(n){var r=t.call(this,n)||this;return r.state={loading:!0},r}return e.prototype.componentDidMount=function(){this.generatePreview()},e.prototype.componentDidUpdate=function(n,r){this.props.markdown!==n.markdown&&this.generatePreview()},e.prototype.generatePreview=function(){var n=this,r=this.props,i=r.markdown,s=r.generateMarkdownPreview;s(i).then(function(o){n.setState({preview:o,loading:!1})})},e.prototype.render=function(){var n=this.props,r=n.classes,i=n.minHeight,s=n.loadingPreview,o=n.refObject,a=n.heightUnits,l=this.state,c=l.preview,h=l.loading,p=h?s:c,y;typeof p=="string"?y=na.createElement("div",{className:"mde-preview-content",dangerouslySetInnerHTML:{__html:p||"<p>&nbsp;</p>"},ref:o}):y=na.createElement("div",{className:"mde-preview-content"},p);var k=i&&a?i+10+a:i+10;return na.createElement("div",{className:OE.classNames("mde-preview",r,{loading:h}),style:{minHeight:k},"data-testid":"mde-preview"},y)},e}(na.Component);Lu.Preview=ME;var $u={},ju={};Object.defineProperty(ju,"__esModule",{value:!0});ju.getCaretCoordinates=void 0;var xE=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],X_=typeof window<"u",VE=X_&&window.mozInnerScreenX!=null;function LE(t,e){if(!X_)throw new Error("getCaretCoordinates should only be called in a browser");var n=document.createElement("div");n.id="input-textarea-caret-position-mirror-div",document.body.appendChild(n);var r=n.style,i=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle;r.whiteSpace="pre-wrap",r.wordWrap="break-word",r.position="absolute",r.visibility="hidden",xE.forEach(function(a){r[a]=i[a]}),VE?t.scrollHeight>parseInt(i.height)&&(r.overflowY="scroll"):r.overflow="hidden",n.textContent=t.value.substring(0,t.selectionStart),e&&(n.textContent+=e);var s=document.createElement("span");s.textContent=t.value.substring(t.selectionEnd)||".",n.appendChild(s);var o={top:s.offsetTop+parseInt(i.borderTopWidth),left:s.offsetLeft+parseInt(i.borderLeftWidth),lineHeight:parseInt(i.lineHeight)};return document.body.removeChild(n),o}ju.getCaretCoordinates=LE;var So={};/*!
 * The MIT License
   Copyright (c) 2018 Dmitriy Kubyshkin
   Copied from https://github.com/grassator/insert-text-at-cursor
 */Object.defineProperty(So,"__esModule",{value:!0});So.insertText=void 0;function $E(t,e){if(t.focus(),document.selection){var n=document.selection.createRange();n.text=e,n.collapse(!1),n.select();return}var r=document.execCommand("insertText",!1,e);if(!r){var i=t.selectionStart,s=t.selectionEnd;if(typeof t.setRangeText=="function")t.setRangeText(e);else if(jE(t)){var o=document.createTextNode(e),a=t.firstChild;if(!a)t.appendChild(o);else{for(var l=0,c=null,h=null,p=document.createRange();a&&(c===null||h===null);){var y=a.nodeValue.length;i>=l&&i<=l+y&&p.setStart(c=a,i-l),s>=l&&s<=l+y&&p.setEnd(h=a,s-l),l+=y,a=a.nextSibling}i!==s&&p.deleteContents(),p.insertNode(o)}}else{var k=t.value;t.value=k.slice(0,i)+e+k.slice(s)}t.setSelectionRange(i+e.length,i+e.length);var T=document.createEvent("UIEvent");T.initEvent("input",!0,!1),t.dispatchEvent(T)}}So.insertText=$E;function jE(t){if(t.nodeName!=="TEXTAREA")return!1;var e;if(typeof e>"u"){var n=document.createElement("textarea");n.value="1",e=!!n.firstChild}return e}var Fu={};Object.defineProperty(Fu,"__esModule",{value:!0});Fu.mod=void 0;function FE(t,e){return(t%e+e)%e}Fu.mod=FE;var Co={};Object.defineProperty(Co,"__esModule",{value:!0});Co.SuggestionsDropdown=void 0;var Im=F,zE=Cn,BE=function(t){var e=t.classes,n=t.suggestions,r=t.caret,i=t.onSuggestionSelected,s=t.suggestionsAutoplace,o=t.focusIndex,a=t.textAreaRef,l=function(w){w.preventDefault();var _=parseInt(w.currentTarget.attributes["data-index"].value);i(_)},c=function(w){return w.preventDefault()},h=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),p=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0),y=r.left-a.current.scrollLeft,k=r.top-a.current.scrollTop,T={};return s&&k+a.current.getBoundingClientRect().top>p/2?T.bottom=a.current.offsetHeight-k:T.top=k,s&&y+a.current.getBoundingClientRect().left>h/2?T.right=a.current.offsetWidth-y:T.left=y,Im.createElement("ul",{className:zE.classNames("mde-suggestions",e),style:T},n.map(function(w,_){return Im.createElement("li",{onClick:l,onMouseDown:c,key:_,"aria-selected":o===_?"true":"false","data-index":""+_},w.preview)}))};Co.SuggestionsDropdown=BE;var UE=re&&re.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Tt=re&&re.__assign||function(){return Tt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Tt.apply(this,arguments)};Object.defineProperty($u,"__esModule",{value:!0});$u.TextArea=void 0;var ra=F,HE=Cn,qE=ju,WE=So,GE=Fu,KE=Co,QE=function(t){UE(e,t);function e(n){var r=t.call(this,n)||this;return r.currentLoadSuggestionsPromise=Promise.resolve(void 0),r.suggestionsPromiseIndex=0,r.getTextArea=function(){return r.props.refObject.current},r.handleOnChange=function(i){var s=r.props.onChange;s(i.target.value)},r.handleBlur=function(){var i=r.state.mention;i&&r.setState({mention:{status:"inactive",suggestions:[]}})},r.startLoadingSuggestions=function(i){var s=++r.suggestionsPromiseIndex,o=r.props.loadSuggestions;r.currentLoadSuggestionsPromise=r.currentLoadSuggestionsPromise.then(function(){return o(i,r.state.mention.triggeredBy)}).then(function(a){if(r.state.mention.status!=="inactive")return r.suggestionsPromiseIndex===s&&(!a||!a.length?r.setState({mention:{status:"inactive",suggestions:[]}}):r.setState({mention:Tt(Tt({},r.state.mention),{status:"active",suggestions:a,focusIndex:0})}),r.suggestionsPromiseIndex=0),Promise.resolve()})},r.loadEmptySuggestion=function(i,s){var o=qE.getCaretCoordinates(i,s);r.startLoadingSuggestions(""),r.setState({mention:{status:"loading",startPosition:i.selectionStart+1,caret:o,suggestions:[],triggeredBy:s}})},r.handleSuggestionSelected=function(i){var s=r.state.mention;r.getTextArea().selectionStart=s.startPosition-1,r.props.value.substr(r.getTextArea().selectionStart,r.getTextArea().selectionEnd-r.getTextArea().selectionStart),WE.insertText(r.getTextArea(),s.suggestions[i].value+" "),r.setState({mention:{status:"inactive",suggestions:[]}})},r.handleKeyDown=function(i){if(r.props.onPossibleKeyCommand){var s=r.props.onPossibleKeyCommand(i);if(s){i.preventDefault(),r.suggestionsPromiseIndex=0,r.setState({mention:{status:"inactive",suggestions:[]}});return}}if(r.suggestionsEnabled()){var o=i.key,a=i.shiftKey,l=i.currentTarget,c=l.selectionStart,h=r.state.mention;switch(h.status){case"loading":case"active":if(o==="Escape"||o==="Backspace"&&c<=r.state.mention.startPosition)r.suggestionsPromiseIndex=0,r.setState({mention:{status:"inactive",suggestions:[]}});else if(h.status==="active"&&(o==="ArrowUp"||o==="ArrowDown")&&!a){i.preventDefault();var p=o==="ArrowUp"?-1:1;r.setState({mention:Tt(Tt({},h),{focusIndex:GE.mod(h.focusIndex+p,h.suggestions.length)})})}else o==="Enter"&&h.status==="active"&&h.suggestions.length&&(i.preventDefault(),r.handleSuggestionSelected(h.focusIndex));break}}},r.handleKeyUp=function(i){var s=i.key,o=r.state.mention,a=r.props,l=a.suggestionTriggerCharacters,c=a.value;switch(o.status){case"loading":case"active":if(s==="Backspace"){var h=c.substr(o.startPosition,r.getTextArea().selectionStart-o.startPosition);r.startLoadingSuggestions(h),o.status!=="loading"&&r.setState({mention:Tt(Tt({},r.state.mention),{status:"loading"})})}break;case"inactive":if(s==="Backspace"){var p=c.charAt(r.getTextArea().selectionStart-1),y=l.includes(c.charAt(r.getTextArea().selectionStart-1));y&&r.loadEmptySuggestion(i.currentTarget,p)}break}},r.handleKeyPress=function(i){var s=r.props,o=s.suggestionTriggerCharacters,a=s.value,l=r.state.mention,c=i.key;switch(l.status){case"loading":case"active":if(c===" "){r.setState({mention:Tt(Tt({},r.state.mention),{status:"inactive"})});return}var h=a.substr(l.startPosition,r.getTextArea().selectionStart-l.startPosition)+c;r.startLoadingSuggestions(h),l.status!=="loading"&&r.setState({mention:Tt(Tt({},r.state.mention),{status:"loading"})});break;case"inactive":if(o.indexOf(i.key)===-1||!/\s|\(|\[|^.{0}$/.test(a.charAt(r.getTextArea().selectionStart-1)))return;r.loadEmptySuggestion(i.currentTarget,i.key);break}},r.state={mention:{status:"inactive",suggestions:[]}},r}return e.prototype.suggestionsEnabled=function(){return this.props.suggestionTriggerCharacters&&this.props.suggestionTriggerCharacters.length&&this.props.loadSuggestions},e.prototype.render=function(){var n=this,r=this.props,i=r.classes,s=r.readOnly,o=r.textAreaProps,a=r.height,l=r.heightUnits,c=r.value,h=r.suggestionTriggerCharacters,p=r.loadSuggestions,y=r.suggestionsDropdownClasses,k=r.textAreaComponent,T=r.onPaste,w=r.onDrop,_=h&&h.length&&p,g=this.state.mention,v=k||"textarea",P=a&&l?a+l:a;return ra.createElement("div",{className:"mde-textarea-wrapper"},ra.createElement(v,Tt({className:HE.classNames("mde-text",i),style:{height:P},ref:this.props.refObject,readOnly:s,value:c,"data-testid":"text-area"},o,{onChange:function(u){var f;(f=o==null?void 0:o.onChange)===null||f===void 0||f.call(o,u),n.handleOnChange(u)},onBlur:function(u){var f;(f=o==null?void 0:o.onBlur)===null||f===void 0||f.call(o,u),_&&n.handleBlur()},onKeyDown:function(u){var f;(f=o==null?void 0:o.onKeyDown)===null||f===void 0||f.call(o,u),n.handleKeyDown(u)},onKeyUp:function(u){var f;(f=o==null?void 0:o.onKeyUp)===null||f===void 0||f.call(o,u),_&&n.handleKeyUp(u)},onKeyPress:function(u){var f;(f=o==null?void 0:o.onKeyPress)===null||f===void 0||f.call(o,u),_&&n.handleKeyPress(u)},onPaste:function(u){var f;(f=o==null?void 0:o.onPaste)===null||f===void 0||f.call(o,u),T(u)},onDragOver:function(u){u.preventDefault(),u.stopPropagation()},onDrop:function(u){var f;(f=o==null?void 0:o.onDrop)===null||f===void 0||f.call(o,u),w(u),u.preventDefault()}})),g.status==="active"&&g.suggestions.length&&ra.createElement(KE.SuggestionsDropdown,{classes:y,caret:g.caret,suggestions:g.suggestions,onSuggestionSelected:this.handleSuggestionSelected,suggestionsAutoplace:this.props.suggestionsAutoplace,focusIndex:g.focusIndex,textAreaRef:this.props.refObject}))},e}(ra.Component);$u.TextArea=QE;var zu={},XE=re&&re.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qr=re&&re.__assign||function(){return Qr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Qr.apply(this,arguments)};Object.defineProperty(zu,"__esModule",{value:!0});zu.Toolbar=void 0;var ir=F,oc=Cn,YE=wo,JE=Eo,ZE=function(t){XE(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.handleTabChange=function(r){var i=n.props.onTabChange;i(r)},n}return e.prototype.render=function(){var n=this,r=this.props.l18n,i=this.props,s=i.classes,o=i.children,a=i.buttons,l=i.onCommand,c=i.readOnly,h=i.disablePreview,p=i.writeButtonProps,y=i.previewButtonProps,k=i.buttonProps;if((!a||a.length===0)&&!o)return null;var T=ir.createElement("div",{className:"mde-tabs"},ir.createElement("button",Qr({type:"button",className:oc.classNames({selected:this.props.tab==="write"}),onClick:function(){return n.handleTabChange("write")}},p),r.write),ir.createElement("button",Qr({type:"button",className:oc.classNames({selected:this.props.tab==="preview"}),onClick:function(){return n.handleTabChange("preview")}},y),r.preview));return ir.createElement("div",{className:oc.classNames("mde-header",s)},!h&&T,a.map(function(w,_){return ir.createElement(YE.ToolbarButtonGroup,{key:_,hidden:n.props.tab==="preview"},w.map(function(g,v){return ir.createElement(JE.ToolbarButton,{key:v,name:g.commandName,buttonContent:g.buttonContent,buttonProps:Qr(Qr({},k||{}),g.buttonProps),onClick:function(){return l(g.commandName)},readOnly:c,buttonComponentClass:g.buttonComponentClass})}))}))},e}(ir.Component);zu.Toolbar=ZE;var es={},nn={},Bu={};Object.defineProperty(Bu,"__esModule",{value:!0});Bu.headerCommand=void 0;var e2=Ve;function t2(t,e,n){var r=e2.selectWord({text:t.text,selection:t.selection}),i=e.setSelectionRange(r),s=e.replaceSelection(""+n+i.selectedText);e.setSelectionRange({start:s.selection.end-i.selectedText.length,end:s.selection.end})}Bu.headerCommand={buttonProps:{"aria-label":"Add header"},execute:function(t){var e=t.initialState,n=t.textApi;t2(e,n,"### ")}};var Uu={};Object.defineProperty(Uu,"__esModule",{value:!0});Uu.boldCommand=void 0;var n2=Ve;Uu.boldCommand={buttonProps:{"aria-label":"Add bold text"},execute:function(t){var e=t.initialState,n=t.textApi,r=n2.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=n.replaceSelection("**"+i.selectedText+"**");n.setSelectionRange({start:s.selection.end-2-i.selectedText.length,end:s.selection.end-2})},handleKeyCommand:function(t){return(t.ctrlKey||t.metaKey)&&t.key=="b"}};var Hu={};Object.defineProperty(Hu,"__esModule",{value:!0});Hu.italicCommand=void 0;var r2=Ve;Hu.italicCommand={buttonProps:{"aria-label":"Add italic text"},execute:function(t){var e=t.initialState,n=t.textApi,r=r2.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=n.replaceSelection("*"+i.selectedText+"*");n.setSelectionRange({start:s.selection.end-1-i.selectedText.length,end:s.selection.end-1})},handleKeyCommand:function(t){return(t.ctrlKey||t.metaKey)&&t.key=="i"}};var qu={};Object.defineProperty(qu,"__esModule",{value:!0});qu.strikeThroughCommand=void 0;var i2=Ve;qu.strikeThroughCommand={buttonProps:{"aria-label":"Add strikethrough text"},execute:function(t){var e=t.initialState,n=t.textApi,r=i2.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=n.replaceSelection("~~"+i.selectedText+"~~");n.setSelectionRange({start:s.selection.end-2-i.selectedText.length,end:s.selection.end-2})}};var Wu={};Object.defineProperty(Wu,"__esModule",{value:!0});Wu.linkCommand=void 0;var s2=Ve;Wu.linkCommand={buttonProps:{"aria-label":"Add a link"},execute:function(t){var e=t.initialState,n=t.textApi,r=s2.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=n.replaceSelection("["+i.selectedText+"](url)");n.setSelectionRange({start:s.selection.end-6-i.selectedText.length,end:s.selection.end-6})},handleKeyCommand:function(t){return(t.ctrlKey||t.metaKey)&&t.key=="k"}};var Gu={};Object.defineProperty(Gu,"__esModule",{value:!0});Gu.quoteCommand=void 0;var ac=Ve;Gu.quoteCommand={buttonProps:{"aria-label":"Insert a quote"},execute:function(t){var e=t.initialState,n=t.textApi,r=ac.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=ac.getBreaksNeededForEmptyLineBefore(i.text,i.selection.start),o=Array(s+1).join(`
`),a=ac.getBreaksNeededForEmptyLineAfter(i.text,i.selection.end),l=Array(a+1).join(`
`);n.replaceSelection(o+"> "+i.selectedText+l);var c=i.selection.start+s+2,h=c+i.selectedText.length;n.setSelectionRange({start:c,end:h})}};var Ku={};Object.defineProperty(Ku,"__esModule",{value:!0});Ku.codeCommand=void 0;var uc=Ve;Ku.codeCommand={buttonProps:{"aria-label":"Insert code"},execute:function(t){var e=t.initialState,n=t.textApi,r=uc.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r);if(i.selectedText.indexOf(`
`)===-1){n.replaceSelection("`"+i.selectedText+"`");var s=i.selection.start+1,o=s+i.selectedText.length;n.setSelectionRange({start:s,end:o});return}var a=uc.getBreaksNeededForEmptyLineBefore(i.text,i.selection.start),l=Array(a+1).join(`
`),c=uc.getBreaksNeededForEmptyLineAfter(i.text,i.selection.end),h=Array(c+1).join(`
`);n.replaceSelection(l+"```\n"+i.selectedText+"\n```"+h);var p=i.selection.start+a+4,y=p+i.selectedText.length;n.setSelectionRange({start:p,end:y})}};var Y_={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.checkedListCommand=t.orderedListCommand=t.unorderedListCommand=t.makeList=t.insertBeforeEachLine=void 0;var e=Ve;function n(i,s){var o=i.split(/\n/),a=0,l=o.map(function(c,h){if(typeof s=="string")return a+=s.length,s+c;if(typeof s=="function"){var p=s(c,h);return a+=p.length,s(c,h)+c}throw Error("insertion is expected to be either a string or a function")}).join(`
`);return{modifiedText:l,insertionLength:a}}t.insertBeforeEachLine=n;var r=function(i,s,o){var a=e.selectWord({text:i.text,selection:i.selection}),l=s.setSelectionRange(a),c=e.getBreaksNeededForEmptyLineBefore(l.text,l.selection.start),h=Array(c+1).join(`
`),p=e.getBreaksNeededForEmptyLineAfter(l.text,l.selection.end),y=Array(p+1).join(`
`),k=n(l.selectedText,o);s.replaceSelection(""+h+k.modifiedText+y);var T=l.selectedText.indexOf(`
`)===-1?k.insertionLength:0,w=l.selection.start+c+T,_=w+k.modifiedText.length-T;s.setSelectionRange({start:w,end:_})};t.makeList=r,t.unorderedListCommand={buttonProps:{"aria-label":"Add unordered list"},execute:function(i){var s=i.initialState,o=i.textApi;t.makeList(s,o,"- ")}},t.orderedListCommand={buttonProps:{"aria-label":"Add ordered list"},execute:function(i){var s=i.initialState,o=i.textApi;t.makeList(s,o,function(a,l){return l+1+". "})}},t.checkedListCommand={buttonProps:{"aria-label":"Add checked list"},execute:function(i){var s=i.initialState,o=i.textApi;t.makeList(s,o,function(a,l){return"- [ ] "})}}})(Y_);var Qu={};Object.defineProperty(Qu,"__esModule",{value:!0});Qu.imageCommand=void 0;var o2=Ve;Qu.imageCommand={buttonProps:{"aria-label":"Add image"},execute:function(t){var e=t.initialState,n=t.textApi,r=n.setSelectionRange(o2.selectWord({text:e.text,selection:e.selection})),i=r.selectedText||"https://example.com/your-image.png";n.replaceSelection("![]("+i+")"),n.setSelectionRange({start:r.selection.start+4,end:r.selection.start+4+i.length})}};var Xu={},Yu={},a2=re&&re.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{c(r.next(h))}catch(p){o(p)}}function l(h){try{c(r.throw(h))}catch(p){o(p)}}function c(h){h.done?s(h.value):i(h.value).then(a,l)}c((r=r.apply(t,e||[])).next())})},u2=re&&re.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(h){return l([c,h])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(h){c=[6,h],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(Yu,"__esModule",{value:!0});Yu.readFileAsync=void 0;function l2(t){return a2(this,void 0,void 0,function(){return u2(this,function(e){return[2,new Promise(function(n,r){var i=new FileReader;i.onload=function(){if(typeof i.result=="string")throw new Error("reader.result is expected to be an ArrayBuffer");n(i.result)},i.onerror=r,i.readAsArrayBuffer(t)})]})})}Yu.readFileAsync=l2;var c2=re&&re.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{c(r.next(h))}catch(p){o(p)}}function l(h){try{c(r.throw(h))}catch(p){o(p)}}function c(h){h.done?s(h.value):i(h.value).then(a,l)}c((r=r.apply(t,e||[])).next())})},d2=re&&re.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(h){return l([c,h])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(h){c=[6,h],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(Xu,"__esModule",{value:!0});Xu.saveImageCommand=void 0;var f2=Yu,h2=Ve;function bm(t){var e=[];for(var n in t){var r=t[n];r.kind==="file"&&e.push(r.getAsFile())}return e}function p2(t){for(var e=[],n=0;n<t.length;n++)e.push(t[0]);return e}function m2(t,e){var n=e.multiple,r=e.accept,i=t;if(n||(i=i.slice(0,1)),r){var s=r.split(","),o=new Set(s.filter(function(c){return/^\.\w+/.test(c)}).map(function(c){return c.split(".")[1]})),a=new Set(s.filter(function(c){return/^[-\w.]+\/[-\w.]+$/.test(c)})),l=new Set(s.filter(function(c){return/(audio|video|image)\/\*/.test(c)}).map(function(c){return c.split("/")[0]}));i=i.filter(function(c){return o.has(c.name.split(".")[1])||a.has(c.type)||l.has(c.type.split("/")[0])})}return i}Xu.saveImageCommand={execute:function(t){t.initialState;var e=t.textApi,n=t.context,r=t.l18n;return c2(this,void 0,void 0,function(){var i,s,o,a,l,c,h,p,y,k,T,w,_,g,v,P,u,f,d,m,E,S,C,I;return d2(this,function(x){switch(x.label){case 0:if(!n)throw new Error("wrong context");i=n,s=i.event,o=i.pasteOptions,a=o.saveImage,l=o.multiple,c=o.accept,h=g2(n)?bm(s.clipboardData.items):y2(n)?bm(s.dataTransfer.items):p2(s.target.files),p=m2(h,{multiple:l,accept:c}),y=[];for(k in p)y.push(k);T=0,x.label=1;case 1:return T<y.length?(w=y[T],_=e.getState(),g=h2.getBreaksNeededForEmptyLineBefore(_.text,_.selection.start),v=Array(g+1).join(`
`),P=v+"!["+r.uploadingImage+"]()",e.replaceSelection(P),u=h[w],[4,f2.readFileAsync(u)]):[3,5];case 2:return f=x.sent(),d=a(f,u),[4,d.next()];case 3:m=x.sent().value,E=e.getState(),S=E.text.substr(_.selection.start,P.length),S===P&&(e.setSelectionRange({start:_.selection.start,end:_.selection.start+P.length}),C=m?v+"![image]("+m+")":"",I=C.length-P.length,e.replaceSelection(C),e.setSelectionRange({start:E.selection.start+I,end:E.selection.end+I})),x.label=4;case 4:return T++,[3,1];case 5:return[2]}})})}};function g2(t){return t.event.clipboardData!==void 0}function y2(t){return t.event.dataTransfer!==void 0}Object.defineProperty(nn,"__esModule",{value:!0});nn.getDefaultSaveImageCommandName=nn.getDefaultCommandMap=nn.getDefaultToolbarCommands=void 0;var _2=Bu,v2=Uu,w2=Hu,E2=qu,T2=Wu,S2=Gu,C2=Ku,lc=Y_,k2=Qu,A2=Xu;function P2(){return[["header","bold","italic","strikethrough"],["link","quote","code","image"],["unordered-list","ordered-list","checked-list"]]}nn.getDefaultToolbarCommands=P2;function I2(){return{header:_2.headerCommand,bold:v2.boldCommand,italic:w2.italicCommand,strikethrough:E2.strikeThroughCommand,link:T2.linkCommand,quote:S2.quoteCommand,code:C2.codeCommand,image:k2.imageCommand,"unordered-list":lc.unorderedListCommand,"ordered-list":lc.orderedListCommand,"checked-list":lc.checkedListCommand,"save-image":A2.saveImageCommand}}nn.getDefaultCommandMap=I2;function b2(){return"save-image"}nn.getDefaultSaveImageCommandName=b2;var Ju={};Object.defineProperty(Ju,"__esModule",{value:!0});Ju.enL18n=void 0;Ju.enL18n={write:"Write",preview:"Preview",uploadingImage:"Uploading image...",pasteDropSelect:"Attach files by dragging & dropping, selecting or pasting them."};var Zf={},Zu={};Object.defineProperty(Zu,"__esModule",{value:!0});Zu.SvgIcon=void 0;var Re=F,R2=Re.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"tasks",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Re.createElement("path",{fill:"currentColor",d:"M208 132h288c8.8 0 16-7.2 16-16V76c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zm0 160h288c8.8 0 16-7.2 16-16v-40c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zm0 160h288c8.8 0 16-7.2 16-16v-40c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zM64 368c-26.5 0-48.6 21.5-48.6 48s22.1 48 48.6 48 48-21.5 48-48-21.5-48-48-48zm92.5-299l-72.2 72.2-15.6 15.6c-4.7 4.7-12.9 4.7-17.6 0L3.5 109.4c-4.7-4.7-4.7-12.3 0-17l15.7-15.7c4.7-4.7 12.3-4.7 17 0l22.7 22.1 63.7-63.3c4.7-4.7 12.3-4.7 17 0l17 16.5c4.6 4.7 4.6 12.3-.1 17zm0 159.6l-72.2 72.2-15.7 15.7c-4.7 4.7-12.9 4.7-17.6 0L3.5 269c-4.7-4.7-4.7-12.3 0-17l15.7-15.7c4.7-4.7 12.3-4.7 17 0l22.7 22.1 63.7-63.7c4.7-4.7 12.3-4.7 17 0l17 17c4.6 4.6 4.6 12.2-.1 16.9z"})),N2=Re.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"list-ol",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Re.createElement("path",{fill:"currentColor",d:"M3.263 139.527c0-7.477 3.917-11.572 11.573-11.572h15.131V88.078c0-5.163.534-10.503.534-10.503h-.356s-1.779 2.67-2.848 3.738c-4.451 4.273-10.504 4.451-15.666-1.068l-5.518-6.231c-5.342-5.341-4.984-11.216.534-16.379l21.72-19.938C32.815 33.602 36.732 32 42.785 32H54.89c7.656 0 11.749 3.916 11.749 11.572v84.384h15.488c7.655 0 11.572 4.094 11.572 11.572v8.901c0 7.477-3.917 11.572-11.572 11.572H14.836c-7.656 0-11.573-4.095-11.573-11.572v-8.902zM2.211 304.591c0-47.278 50.955-56.383 50.955-69.165 0-7.18-5.954-8.755-9.28-8.755-3.153 0-6.479 1.051-9.455 3.852-5.079 4.903-10.507 7.004-16.111 2.451l-8.579-6.829c-5.779-4.553-7.18-9.805-2.803-15.409C13.592 201.981 26.025 192 47.387 192c19.437 0 44.476 10.506 44.476 39.573 0 38.347-46.753 46.402-48.679 56.909h39.049c7.529 0 11.557 4.027 11.557 11.382v8.755c0 7.354-4.028 11.382-11.557 11.382h-67.94c-7.005 0-12.083-4.028-12.083-11.382v-4.028zM5.654 454.61l5.603-9.28c3.853-6.654 9.105-7.004 15.584-3.152 4.903 2.101 9.63 3.152 14.359 3.152 10.155 0 14.358-3.502 14.358-8.23 0-6.654-5.604-9.106-15.934-9.106h-4.728c-5.954 0-9.28-2.101-12.258-7.88l-1.05-1.926c-2.451-4.728-1.226-9.806 2.801-14.884l5.604-7.004c6.829-8.405 12.257-13.483 12.257-13.483v-.35s-4.203 1.051-12.608 1.051H16.685c-7.53 0-11.383-4.028-11.383-11.382v-8.755c0-7.53 3.853-11.382 11.383-11.382h58.484c7.529 0 11.382 4.027 11.382 11.382v3.327c0 5.778-1.401 9.806-5.079 14.183l-17.509 20.137c19.611 5.078 28.716 20.487 28.716 34.845 0 21.363-14.358 44.126-48.503 44.126-16.636 0-28.192-4.728-35.896-9.455-5.779-4.202-6.304-9.805-2.626-15.934zM144 132h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"})),D2=Re.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"list-ul",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Re.createElement("path",{fill:"currentColor",d:"M96 96c0 26.51-21.49 48-48 48S0 122.51 0 96s21.49-48 48-48 48 21.49 48 48zM48 208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm0 160c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm96-236h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"})),O2=Re.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"image",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Re.createElement("path",{fill:"currentColor",d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"})),M2=Re.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"code",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512","data-fa-i2svg":""},Re.createElement("path",{fill:"currentColor",d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"})),x2=Re.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"quote-right",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Re.createElement("path",{fill:"currentColor",d:"M512 80v128c0 137.018-63.772 236.324-193.827 271.172-15.225 4.08-30.173-7.437-30.173-23.199v-33.895c0-10.057 6.228-19.133 15.687-22.55C369.684 375.688 408 330.054 408 256h-72c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h128c26.51 0 48 21.49 48 48zM176 32H48C21.49 32 0 53.49 0 80v128c0 26.51 21.49 48 48 48h72c0 74.054-38.316 119.688-104.313 143.528C6.228 402.945 0 412.021 0 422.078v33.895c0 15.762 14.948 27.279 30.173 23.199C160.228 444.324 224 345.018 224 208V80c0-26.51-21.49-48-48-48z"})),V2=Re.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"link",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Re.createElement("path",{fill:"currentColor",d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"})),L2=Re.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"strikethrough",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Re.createElement("path",{fill:"currentColor",d:"M496 288H16c-8.837 0-16-7.163-16-16v-32c0-8.837 7.163-16 16-16h480c8.837 0 16 7.163 16 16v32c0 8.837-7.163 16-16 16zm-214.666 16c27.258 12.937 46.524 28.683 46.524 56.243 0 33.108-28.977 53.676-75.621 53.676-32.325 0-76.874-12.08-76.874-44.271V368c0-8.837-7.164-16-16-16H113.75c-8.836 0-16 7.163-16 16v19.204c0 66.845 77.717 101.82 154.487 101.82 88.578 0 162.013-45.438 162.013-134.424 0-19.815-3.618-36.417-10.143-50.6H281.334zm-30.952-96c-32.422-13.505-56.836-28.946-56.836-59.683 0-33.92 30.901-47.406 64.962-47.406 42.647 0 64.962 16.593 64.962 32.985V136c0 8.837 7.164 16 16 16h45.613c8.836 0 16-7.163 16-16v-30.318c0-52.438-71.725-79.875-142.575-79.875-85.203 0-150.726 40.972-150.726 125.646 0 22.71 4.665 41.176 12.777 56.547h129.823z"})),$2=Re.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"italic",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512","data-fa-i2svg":""},Re.createElement("path",{fill:"currentColor",d:"M204.758 416h-33.849l62.092-320h40.725a16 16 0 0 0 15.704-12.937l6.242-32C297.599 41.184 290.034 32 279.968 32H120.235a16 16 0 0 0-15.704 12.937l-6.242 32C96.362 86.816 103.927 96 113.993 96h33.846l-62.09 320H46.278a16 16 0 0 0-15.704 12.935l-6.245 32C22.402 470.815 29.967 480 40.034 480h158.479a16 16 0 0 0 15.704-12.935l6.245-32c1.927-9.88-5.638-19.065-15.704-19.065z"})),j2=Re.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"heading",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Re.createElement("path",{fill:"currentColor",d:"M496 80V48c0-8.837-7.163-16-16-16H320c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h37.621v128H154.379V96H192c8.837 0 16-7.163 16-16V48c0-8.837-7.163-16-16-16H32c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h37.275v320H32c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h160c8.837 0 16-7.163 16-16v-32c0-8.837-7.163-16-16-16h-37.621V288H357.62v128H320c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h160c8.837 0 16-7.163 16-16v-32c0-8.837-7.163-16-16-16h-37.275V96H480c8.837 0 16-7.163 16-16z"})),F2=Re.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"bold",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512","data-fa-i2svg":""},Re.createElement("path",{fill:"currentColor",d:"M304.793 243.891c33.639-18.537 53.657-54.16 53.657-95.693 0-48.236-26.25-87.626-68.626-104.179C265.138 34.01 240.849 32 209.661 32H24c-8.837 0-16 7.163-16 16v33.049c0 8.837 7.163 16 16 16h33.113v318.53H24c-8.837 0-16 7.163-16 16V464c0 8.837 7.163 16 16 16h195.69c24.203 0 44.834-1.289 66.866-7.584C337.52 457.193 376 410.647 376 350.014c0-52.168-26.573-91.684-71.207-106.123zM142.217 100.809h67.444c16.294 0 27.536 2.019 37.525 6.717 15.828 8.479 24.906 26.502 24.906 49.446 0 35.029-20.32 56.79-53.029 56.79h-76.846V100.809zm112.642 305.475c-10.14 4.056-22.677 4.907-31.409 4.907h-81.233V281.943h84.367c39.645 0 63.057 25.38 63.057 63.057.001 28.425-13.66 52.483-34.782 61.284z"})),z2=function(t){var e=t.icon;switch(e){case"header":return j2;case"bold":return F2;case"italic":return $2;case"strikethrough":return L2;case"link":return V2;case"quote":return x2;case"code":return M2;case"image":return O2;case"unordered-list":return D2;case"ordered-list":return N2;case"checked-list":return R2;default:return null}};Zu.SvgIcon=z2;(function(t){var e=re&&re.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=re&&re.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(To,t),n(Zu,t)})(Zf);var cn={},el={};Object.defineProperty(el,"__esModule",{value:!0});el.extractKeyActivatedCommands=void 0;function B2(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&t[n].handleKeyCommand&&e.push(n);return e}el.extractKeyActivatedCommands=B2;var Rm;function U2(){if(Rm)return cn;Rm=1;var t=re&&re.__assign||function(){return t=Object.assign||function(h){for(var p,y=1,k=arguments.length;y<k;y++){p=arguments[y];for(var T in p)Object.prototype.hasOwnProperty.call(p,T)&&(h[T]=p[T])}return h},t.apply(this,arguments)},e=re&&re.__awaiter||function(h,p,y,k){function T(w){return w instanceof y?w:new y(function(_){_(w)})}return new(y||(y=Promise))(function(w,_){function g(u){try{P(k.next(u))}catch(f){_(f)}}function v(u){try{P(k.throw(u))}catch(f){_(f)}}function P(u){u.done?w(u.value):T(u.value).then(g,v)}P((k=k.apply(h,p||[])).next())})},n=re&&re.__generator||function(h,p){var y={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},k,T,w,_;return _={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function g(P){return function(u){return v([P,u])}}function v(P){if(k)throw new TypeError("Generator is already executing.");for(;y;)try{if(k=1,T&&(w=P[0]&2?T.return:P[0]?T.throw||((w=T.return)&&w.call(T),0):T.next)&&!(w=w.call(T,P[1])).done)return w;switch(T=0,w&&(P=[P[0]&2,w.value]),P[0]){case 0:case 1:w=P;break;case 4:return y.label++,{value:P[1],done:!1};case 5:y.label++,T=P[1],P=[0];continue;case 7:P=y.ops.pop(),y.trys.pop();continue;default:if(w=y.trys,!(w=w.length>0&&w[w.length-1])&&(P[0]===6||P[0]===2)){y=0;continue}if(P[0]===3&&(!w||P[1]>w[0]&&P[1]<w[3])){y.label=P[1];break}if(P[0]===6&&y.label<w[1]){y.label=w[1],w=P;break}if(w&&y.label<w[2]){y.label=w[2],y.ops.push(P);break}w[2]&&y.ops.pop(),y.trys.pop();continue}P=p.call(h,y)}catch(u){P=[6,u],T=0}finally{k=w=0}if(P[0]&5)throw P[1];return{value:P[0]?P[1]:void 0,done:!0}}};Object.defineProperty(cn,"__esModule",{value:!0}),cn.CommandOrchestrator=cn.getStateFromTextArea=cn.TextAreaTextApi=void 0;var r=Z_(),i=So,s=el,o=nn,a=function(){function h(p){this.textAreaRef=p}return h.prototype.replaceSelection=function(p){var y=this.textAreaRef.current;return i.insertText(y,p),l(y)},h.prototype.setSelectionRange=function(p){var y=this.textAreaRef.current;return y.focus(),y.selectionStart=p.start,y.selectionEnd=p.end,l(y)},h.prototype.getState=function(){var p=this.textAreaRef.current;return l(p)},h}();cn.TextAreaTextApi=a;function l(h){return{selection:{start:h.selectionStart,end:h.selectionEnd},text:h.value,selectedText:h.value.slice(h.selectionStart,h.selectionEnd)}}cn.getStateFromTextArea=l;var c=function(){function h(p,y,k,T){var w=this;if(this.getCommand=function(_){var g=w.commandMap[_];if(!g)throw new Error("Cannot execute command. Command not found: "+_);return g},this.handlePossibleKeyCommand=function(_){for(var g=0,v=w.keyActivatedCommands;g<v.length;g++){var P=v[g];if(w.getCommand(P).handleKeyCommand(_))return w.executeCommand(P).then(function(u){}),!0}return!1},T&&!T.saveImage)throw new Error("paste options are incomplete. saveImage are required ");this.commandMap=t(t({},r.getDefaultCommandMap()),p||{}),this.pasteOptions=T,this.keyActivatedCommands=s.extractKeyActivatedCommands(p),this.textAreaRef=y,this.textApi=new a(y),this.l18n=k}return h.prototype.executeCommand=function(p,y){return e(this,void 0,void 0,function(){var k,T;return n(this,function(w){switch(w.label){case 0:return this.isExecuting?[2]:(this.isExecuting=!0,k=this.commandMap[p],T=k.execute({initialState:l(this.textAreaRef.current),textApi:this.textApi,l18n:this.l18n,context:y}),[4,T]);case 1:return w.sent(),this.isExecuting=!1,[2]}})})},h.prototype.executePasteCommand=function(p){return e(this,void 0,void 0,function(){return n(this,function(y){return this.pasteOptions?[2,this.executeCommand(this.pasteOptions.command||o.getDefaultSaveImageCommandName(),{pasteOptions:this.pasteOptions,event:p})]:[2]})})},h.prototype.executeDropCommand=function(p){return e(this,void 0,void 0,function(){return n(this,function(y){return this.pasteOptions?[2,this.executeCommand(this.pasteOptions.command||o.getDefaultSaveImageCommandName(),{pasteOptions:this.pasteOptions,event:p})]:[2]})})},h.prototype.executeSelectImageCommand=function(p){return e(this,void 0,void 0,function(){return n(this,function(y){return this.pasteOptions?[2,this.executeCommand(this.pasteOptions.command||o.getDefaultSaveImageCommandName(),{pasteOptions:this.pasteOptions,event:p})]:[2]})})},h.prototype.getCommandByName=function(p){return this.commandMap[p]},h}();return cn.CommandOrchestrator=c,cn}var Nm;function H2(){if(Nm)return es;Nm=1;var t=re&&re.__extends||function(){var k=function(T,w){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,g){_.__proto__=g}||function(_,g){for(var v in g)Object.prototype.hasOwnProperty.call(g,v)&&(_[v]=g[v])},k(T,w)};return function(T,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");k(T,w);function _(){this.constructor=T}T.prototype=w===null?Object.create(w):(_.prototype=w.prototype,new _)}}(),e=re&&re.__assign||function(){return e=Object.assign||function(k){for(var T,w=1,_=arguments.length;w<_;w++){T=arguments[w];for(var g in T)Object.prototype.hasOwnProperty.call(T,g)&&(k[g]=T[g])}return k},e.apply(this,arguments)},n=re&&re.__awaiter||function(k,T,w,_){function g(v){return v instanceof w?v:new w(function(P){P(v)})}return new(w||(w=Promise))(function(v,P){function u(m){try{d(_.next(m))}catch(E){P(E)}}function f(m){try{d(_.throw(m))}catch(E){P(E)}}function d(m){m.done?v(m.value):g(m.value).then(u,f)}d((_=_.apply(k,T||[])).next())})},r=re&&re.__generator||function(k,T){var w={label:0,sent:function(){if(v[0]&1)throw v[1];return v[1]},trys:[],ops:[]},_,g,v,P;return P={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(P[Symbol.iterator]=function(){return this}),P;function u(d){return function(m){return f([d,m])}}function f(d){if(_)throw new TypeError("Generator is already executing.");for(;w;)try{if(_=1,g&&(v=d[0]&2?g.return:d[0]?g.throw||((v=g.return)&&v.call(g),0):g.next)&&!(v=v.call(g,d[1])).done)return v;switch(g=0,v&&(d=[d[0]&2,v.value]),d[0]){case 0:case 1:v=d;break;case 4:return w.label++,{value:d[1],done:!1};case 5:w.label++,g=d[1],d=[0];continue;case 7:d=w.ops.pop(),w.trys.pop();continue;default:if(v=w.trys,!(v=v.length>0&&v[v.length-1])&&(d[0]===6||d[0]===2)){w=0;continue}if(d[0]===3&&(!v||d[1]>v[0]&&d[1]<v[3])){w.label=d[1];break}if(d[0]===6&&w.label<v[1]){w.label=v[1],v=d;break}if(v&&w.label<v[2]){w.label=v[2],w.ops.push(d);break}v[2]&&w.ops.pop(),w.trys.pop();continue}d=T.call(k,w)}catch(m){d=[6,m],g=0}finally{_=v=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}};Object.defineProperty(es,"__esModule",{value:!0}),es.ReactMde=void 0;var i=F,s=J_(),o=nn,a=Ju,l=Zf,c=Cn,h=U2(),p={accept:"image/*",multiple:!1},y=function(k){t(T,k);function T(w){var _,g=k.call(this,w)||this;g.handleTextChange=function(P){var u=g.props.onChange;u(P)},g.handlePaste=function(P){return n(g,void 0,void 0,function(){var u;return r(this,function(f){switch(f.label){case 0:return u=this.props.paste,!u||!u.saveImage?[2]:[4,this.commandOrchestrator.executePasteCommand(P)];case 1:return f.sent(),[2]}})})},g.handleDrop=function(P){return n(g,void 0,void 0,function(){var u;return r(this,function(f){switch(f.label){case 0:return u=this.props.paste,!u||!u.saveImage?[2]:[4,this.commandOrchestrator.executeDropCommand(P)];case 1:return f.sent(),[2]}})})},g.handleImageSelection=function(P){return n(g,void 0,void 0,function(){var u;return r(this,function(f){switch(f.label){case 0:return u=this.props.paste,!u||!u.saveImage?[2]:[4,this.commandOrchestrator.executeSelectImageCommand(P)];case 1:return f.sent(),[2]}})})},g.handleTabChange=function(P){var u=g.props.onTabChange;u(P)},g.handleCommand=function(P){return n(g,void 0,void 0,function(){return r(this,function(u){switch(u.label){case 0:return[4,this.commandOrchestrator.executeCommand(P)];case 1:return u.sent(),[2]}})})},g.finalRefs=e({},w.refs||{}),g.finalRefs.textarea||(g.finalRefs.textarea=i.createRef()),g.finalRefs.preview||(g.finalRefs.preview=i.createRef()),g.commandOrchestrator=new h.CommandOrchestrator(g.props.commands,g.finalRefs.textarea,g.props.l18n,g.props.paste?e(e({},p),g.props.paste):void 0);var v=Math.min(w.maxEditorHeight,w.minEditorHeight);return g.state={editorHeight:(_=w.initialEditorHeight)!==null&&_!==void 0?_:v},g}return T.prototype.render=function(){var w=this,_,g,v=this.props,P=v.getIcon,u=v.toolbarCommands,f=v.classes,d=v.loadingPreview,m=v.readOnly,E=v.disablePreview,S=v.value,C=v.l18n,I=v.minPreviewHeight,x=v.heightUnits,R=v.childProps,O=v.selectedTab,M=v.generateMarkdownPreview,A=v.loadSuggestions,D=v.suggestionTriggerCharacters,H=v.textAreaComponent,q=R||{},ae=u.map(function(b){return b.map(function(W){var Q=w.commandOrchestrator.getCommand(W);return{commandName:W,buttonContent:Q.icon?Q.icon(P):P(W),buttonProps:Q.buttonProps,buttonComponentClass:Q.buttonComponentClass}})});return i.createElement("div",{className:c.classNames("react-mde","react-mde-tabbed-layout",f==null?void 0:f.reactMde)},i.createElement(s.Toolbar,{classes:f==null?void 0:f.toolbar,buttons:ae,onCommand:this.handleCommand,onTabChange:this.handleTabChange,tab:O,readOnly:m,disablePreview:E,l18n:C,buttonProps:q.commandButtons,writeButtonProps:q.writeButton,previewButtonProps:q.previewButton}),i.createElement("div",{className:c.classNames({invisible:O!=="write"})},i.createElement(s.TextArea,{classes:f==null?void 0:f.textArea,suggestionsDropdownClasses:f==null?void 0:f.suggestionsDropdown,suggestionsAutoplace:this.props.suggestionsAutoplace,refObject:this.finalRefs.textarea,onChange:this.handleTextChange,onPaste:this.handlePaste,onDrop:this.handleDrop,readOnly:m,textAreaComponent:H,textAreaProps:R&&R.textArea,height:this.state.editorHeight,heightUnits:this.props.heightUnits,value:S,suggestionTriggerCharacters:D,loadSuggestions:A,onPossibleKeyCommand:this.commandOrchestrator.handlePossibleKeyCommand}),this.props.paste&&i.createElement("label",{className:c.classNames("image-tip")},i.createElement("input",{className:c.classNames("image-input"),type:"file",accept:(_=this.props.paste.accept)!==null&&_!==void 0?_:p.accept,multiple:(g=this.props.paste.multiple)!==null&&g!==void 0?g:p.multiple,onChange:this.handleImageSelection}),i.createElement("span",null,C.pasteDropSelect))),O!=="write"&&i.createElement(s.Preview,{classes:f==null?void 0:f.preview,refObject:this.finalRefs.preview,loadingPreview:d,minHeight:I,heightUnits:x,generateMarkdownPreview:M,markdown:S}))},T.defaultProps={commands:o.getDefaultCommandMap(),toolbarCommands:o.getDefaultToolbarCommands(),getIcon:function(w){return i.createElement(l.SvgIcon,{icon:w})},readOnly:!1,l18n:a.enL18n,minEditorHeight:200,maxEditorHeight:500,minPreviewHeight:200,heightUnits:"px",selectedTab:"write",disablePreview:!1,suggestionTriggerCharacters:["@"],suggestionsAutoplace:!1},T}(i.Component);return es.ReactMde=y,es}var Dm;function J_(){return Dm||(Dm=1,function(t){var e=re&&re.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=re&&re.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(wo,t),n(Eo,t),n(To,t),n(Lu,t),n($u,t),n(zu,t),n(H2(),t),n(Co,t)}(sc)),sc}var Om;function Z_(){return Om||(Om=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultToolbarCommands=t.getDefaultCommandMap=t.MdeFontAwesomeIcon=t.SvgIcon=t.MarkdownUtil=t.ToolbarButtonGroup=t.Toolbar=t.Preview=t.SuggestionsDropdown=t.TextArea=void 0;var e=Ve;t.MarkdownUtil=e;var n=J_();Object.defineProperty(t,"TextArea",{enumerable:!0,get:function(){return n.TextArea}}),Object.defineProperty(t,"SuggestionsDropdown",{enumerable:!0,get:function(){return n.SuggestionsDropdown}}),Object.defineProperty(t,"Preview",{enumerable:!0,get:function(){return n.Preview}}),Object.defineProperty(t,"Toolbar",{enumerable:!0,get:function(){return n.Toolbar}}),Object.defineProperty(t,"ToolbarButtonGroup",{enumerable:!0,get:function(){return n.ToolbarButtonGroup}});var r=Zf;Object.defineProperty(t,"SvgIcon",{enumerable:!0,get:function(){return r.SvgIcon}}),Object.defineProperty(t,"MdeFontAwesomeIcon",{enumerable:!0,get:function(){return r.MdeFontAwesomeIcon}});var i=nn;Object.defineProperty(t,"getDefaultCommandMap",{enumerable:!0,get:function(){return i.getDefaultCommandMap}}),Object.defineProperty(t,"getDefaultToolbarCommands",{enumerable:!0,get:function(){return i.getDefaultToolbarCommands}}),t.default=n.ReactMde}(ic)),ic}var q2=Z_();const W2=Ai(q2);var ev={exports:{}};(function(t){(function(){function e(u){var f={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix",type:"string"},rawPrefixHeaderId:{defaultValue:!1,describe:'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',type:"boolean"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},rawHeaderId:{defaultValue:!1,describe:`Remove only spaces, ' and " from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids`,type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,description:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,description:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,description:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,description:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"},ghMentions:{defaultValue:!1,description:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",description:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,description:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,description:"Open all links in new windows",type:"boolean"},backslashEscapesHTMLTags:{defaultValue:!1,description:"Support for HTML Tag escaping. ex: <div>foo</div>",type:"boolean"},emoji:{defaultValue:!1,description:"Enable emoji support. Ex: `this is a :smile: emoji`",type:"boolean"},underline:{defaultValue:!1,description:"Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`",type:"boolean"},completeHTMLDocument:{defaultValue:!1,description:"Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags",type:"boolean"},metadata:{defaultValue:!1,description:"Enable support for document metadata (defined at the top of the document between `` and `` or between `---` and `---`).",type:"boolean"},splitAdjacentBlockquotes:{defaultValue:!1,description:"Split adjacent blockquote blocks",type:"boolean"}};if(u===!1)return JSON.parse(JSON.stringify(f));var d={};for(var m in f)f.hasOwnProperty(m)&&(d[m]=f[m].defaultValue);return d}function n(){var u=e(!0),f={};for(var d in u)u.hasOwnProperty(d)&&(f[d]=!0);return f}var r={},i={},s={},o=e(!0),a="vanilla",l={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0,backslashEscapesHTMLTags:!0,emoji:!0,splitAdjacentBlockquotes:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:e(!0),allOn:n()};r.helper={},r.extensions={},r.setOption=function(u,f){return o[u]=f,this},r.getOption=function(u){return o[u]},r.getOptions=function(){return o},r.resetOptions=function(){o=e(!0)},r.setFlavor=function(u){if(!l.hasOwnProperty(u))throw Error(u+" flavor was not found");r.resetOptions();var f=l[u];a=u;for(var d in f)f.hasOwnProperty(d)&&(o[d]=f[d])},r.getFlavor=function(){return a},r.getFlavorOptions=function(u){if(l.hasOwnProperty(u))return l[u]},r.getDefaultOptions=function(u){return e(u)},r.subParser=function(u,f){if(r.helper.isString(u))if(typeof f<"u")i[u]=f;else{if(i.hasOwnProperty(u))return i[u];throw Error("SubParser named "+u+" not registered!")}},r.extension=function(u,f){if(!r.helper.isString(u))throw Error("Extension 'name' must be a string");if(u=r.helper.stdExtName(u),r.helper.isUndefined(f)){if(!s.hasOwnProperty(u))throw Error("Extension named "+u+" is not registered!");return s[u]}else{typeof f=="function"&&(f=f()),r.helper.isArray(f)||(f=[f]);var d=c(f,u);if(d.valid)s[u]=f;else throw Error(d.error)}},r.getAllExtensions=function(){return s},r.removeExtension=function(u){delete s[u]},r.resetExtensions=function(){s={}};function c(u,f){var d=f?"Error in "+f+" extension->":"Error in unnamed extension",m={valid:!0,error:""};r.helper.isArray(u)||(u=[u]);for(var E=0;E<u.length;++E){var S=d+" sub-extension "+E+": ",C=u[E];if(typeof C!="object")return m.valid=!1,m.error=S+"must be an object, but "+typeof C+" given",m;if(!r.helper.isString(C.type))return m.valid=!1,m.error=S+'property "type" must be a string, but '+typeof C.type+" given",m;var I=C.type=C.type.toLowerCase();if(I==="language"&&(I=C.type="lang"),I==="html"&&(I=C.type="output"),I!=="lang"&&I!=="output"&&I!=="listener")return m.valid=!1,m.error=S+"type "+I+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',m;if(I==="listener"){if(r.helper.isUndefined(C.listeners))return m.valid=!1,m.error=S+'. Extensions of type "listener" must have a property called "listeners"',m}else if(r.helper.isUndefined(C.filter)&&r.helper.isUndefined(C.regex))return m.valid=!1,m.error=S+I+' extensions must define either a "regex" property or a "filter" method',m;if(C.listeners){if(typeof C.listeners!="object")return m.valid=!1,m.error=S+'"listeners" property must be an object but '+typeof C.listeners+" given",m;for(var x in C.listeners)if(C.listeners.hasOwnProperty(x)&&typeof C.listeners[x]!="function")return m.valid=!1,m.error=S+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+x+" must be a function but "+typeof C.listeners[x]+" given",m}if(C.filter){if(typeof C.filter!="function")return m.valid=!1,m.error=S+'"filter" must be a function, but '+typeof C.filter+" given",m}else if(C.regex){if(r.helper.isString(C.regex)&&(C.regex=new RegExp(C.regex,"g")),!(C.regex instanceof RegExp))return m.valid=!1,m.error=S+'"regex" property must either be a string or a RegExp object, but '+typeof C.regex+" given",m;if(r.helper.isUndefined(C.replace))return m.valid=!1,m.error=S+'"regex" extensions must implement a replace string or function',m}}return m}r.validateExtension=function(u){var f=c(u,null);return f.valid?!0:(console.warn(f.error),!1)},r.hasOwnProperty("helper")||(r.helper={}),r.helper.isString=function(u){return typeof u=="string"||u instanceof String},r.helper.isFunction=function(u){var f={};return u&&f.toString.call(u)==="[object Function]"},r.helper.isArray=function(u){return Array.isArray(u)},r.helper.isUndefined=function(u){return typeof u>"u"},r.helper.forEach=function(u,f){if(r.helper.isUndefined(u))throw new Error("obj param is required");if(r.helper.isUndefined(f))throw new Error("callback param is required");if(!r.helper.isFunction(f))throw new Error("callback param must be a function/closure");if(typeof u.forEach=="function")u.forEach(f);else if(r.helper.isArray(u))for(var d=0;d<u.length;d++)f(u[d],d,u);else if(typeof u=="object")for(var m in u)u.hasOwnProperty(m)&&f(u[m],m,u);else throw new Error("obj does not seem to be an array or an iterable object")},r.helper.stdExtName=function(u){return u.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()};function h(u,f){var d=f.charCodeAt(0);return"E"+d+"E"}r.helper.escapeCharactersCallback=h,r.helper.escapeCharacters=function(u,f,d){var m="(["+f.replace(/([\[\]\\])/g,"\\$1")+"])";d&&(m="\\\\"+m);var E=new RegExp(m,"g");return u=u.replace(E,h),u},r.helper.unescapeHTMLEntities=function(u){return u.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};var p=function(u,f,d,m){var E=m||"",S=E.indexOf("g")>-1,C=new RegExp(f+"|"+d,"g"+E.replace(/g/g,"")),I=new RegExp(f,E.replace(/g/g,"")),x=[],R,O,M,A,D;do for(R=0;M=C.exec(u);)if(I.test(M[0]))R++||(O=C.lastIndex,A=O-M[0].length);else if(R&&!--R){D=M.index+M[0].length;var H={left:{start:A,end:O},match:{start:O,end:M.index},right:{start:M.index,end:D},wholeMatch:{start:A,end:D}};if(x.push(H),!S)return x}while(R&&(C.lastIndex=O));return x};r.helper.matchRecursiveRegExp=function(u,f,d,m){for(var E=p(u,f,d,m),S=[],C=0;C<E.length;++C)S.push([u.slice(E[C].wholeMatch.start,E[C].wholeMatch.end),u.slice(E[C].match.start,E[C].match.end),u.slice(E[C].left.start,E[C].left.end),u.slice(E[C].right.start,E[C].right.end)]);return S},r.helper.replaceRecursiveRegExp=function(u,f,d,m,E){if(!r.helper.isFunction(f)){var S=f;f=function(){return S}}var C=p(u,d,m,E),I=u,x=C.length;if(x>0){var R=[];C[0].wholeMatch.start!==0&&R.push(u.slice(0,C[0].wholeMatch.start));for(var O=0;O<x;++O)R.push(f(u.slice(C[O].wholeMatch.start,C[O].wholeMatch.end),u.slice(C[O].match.start,C[O].match.end),u.slice(C[O].left.start,C[O].left.end),u.slice(C[O].right.start,C[O].right.end))),O<x-1&&R.push(u.slice(C[O].wholeMatch.end,C[O+1].wholeMatch.start));C[x-1].wholeMatch.end<u.length&&R.push(u.slice(C[x-1].wholeMatch.end)),I=R.join("")}return I},r.helper.regexIndexOf=function(u,f,d){if(!r.helper.isString(u))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";if(!(f instanceof RegExp))throw"InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";var m=u.substring(d||0).search(f);return m>=0?m+(d||0):m},r.helper.splitAtIndex=function(u,f){if(!r.helper.isString(u))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";return[u.substring(0,f),u.substring(f)]},r.helper.encodeEmailAddress=function(u){var f=[function(d){return"&#"+d.charCodeAt(0)+";"},function(d){return"&#x"+d.charCodeAt(0).toString(16)+";"},function(d){return d}];return u=u.replace(/./g,function(d){if(d==="@")d=f[Math.floor(Math.random()*2)](d);else{var m=Math.random();d=m>.9?f[2](d):m>.45?f[1](d):f[0](d)}return d}),u},r.helper.padEnd=function(f,d,m){return d=d>>0,m=String(m||" "),f.length>d?String(f):(d=d-f.length,d>m.length&&(m+=m.repeat(d/m.length)),String(f)+m.slice(0,d))},typeof console>"u"&&(console={warn:function(u){alert(u)},log:function(u){alert(u)},error:function(u){throw u}}),r.helper.regexes={asteriskDashAndColon:/([*_:~])/g},r.helper.emojis={"+1":"","-1":"",100:"",1234:"","1st_place_medal":"","2nd_place_medal":"","3rd_place_medal":"","8ball":"",a:"",ab:"",abc:"",abcd:"",accept:"",aerial_tramway:"",airplane:"",alarm_clock:"",alembic:"",alien:"",ambulance:"",amphora:"",anchor:"",angel:"",anger:"",angry:"",anguished:"",ant:"",apple:"",aquarius:"",aries:"",arrow_backward:"",arrow_double_down:"",arrow_double_up:"",arrow_down:"",arrow_down_small:"",arrow_forward:"",arrow_heading_down:"",arrow_heading_up:"",arrow_left:"",arrow_lower_left:"",arrow_lower_right:"",arrow_right:"",arrow_right_hook:"",arrow_up:"",arrow_up_down:"",arrow_up_small:"",arrow_upper_left:"",arrow_upper_right:"",arrows_clockwise:"",arrows_counterclockwise:"",art:"",articulated_lorry:"",artificial_satellite:"",astonished:"",athletic_shoe:"",atm:"",atom_symbol:"",avocado:"",b:"",baby:"",baby_bottle:"",baby_chick:"",baby_symbol:"",back:"",bacon:"",badminton:"",baggage_claim:"",baguette_bread:"",balance_scale:"",balloon:"",ballot_box:"",ballot_box_with_check:"",bamboo:"",banana:"",bangbang:"",bank:"",bar_chart:"",barber:"",baseball:"",basketball:"",basketball_man:"",basketball_woman:"&zwj;",bat:"",bath:"",bathtub:"",battery:"",beach_umbrella:"",bear:"",bed:"",bee:"",beer:"",beers:"",beetle:"",beginner:"",bell:"",bellhop_bell:"",bento:"",biking_man:"",bike:"",biking_woman:"&zwj;",bikini:"",biohazard:"",bird:"",birthday:"",black_circle:"",black_flag:"",black_heart:"",black_joker:"",black_large_square:"",black_medium_small_square:"",black_medium_square:"",black_nib:"",black_small_square:"",black_square_button:"",blonde_man:"",blonde_woman:"&zwj;",blossom:"",blowfish:"",blue_book:"",blue_car:"",blue_heart:"",blush:"",boar:"",boat:"",bomb:"",book:"",bookmark:"",bookmark_tabs:"",books:"",boom:"",boot:"",bouquet:"",bowing_man:"",bow_and_arrow:"",bowing_woman:"&zwj;",bowling:"",boxing_glove:"",boy:"",bread:"",bride_with_veil:"",bridge_at_night:"",briefcase:"",broken_heart:"",bug:"",building_construction:"",bulb:"",bullettrain_front:"",bullettrain_side:"",burrito:"",bus:"",business_suit_levitating:"",busstop:"",bust_in_silhouette:"",busts_in_silhouette:"",butterfly:"",cactus:"",cake:"",calendar:"",call_me_hand:"",calling:"",camel:"",camera:"",camera_flash:"",camping:"",cancer:"",candle:"",candy:"",canoe:"",capital_abcd:"",capricorn:"",car:"",card_file_box:"",card_index:"",card_index_dividers:"",carousel_horse:"",carrot:"",cat:"",cat2:"",cd:"",chains:"",champagne:"",chart:"",chart_with_downwards_trend:"",chart_with_upwards_trend:"",checkered_flag:"",cheese:"",cherries:"",cherry_blossom:"",chestnut:"",chicken:"",children_crossing:"",chipmunk:"",chocolate_bar:"",christmas_tree:"",church:"",cinema:"",circus_tent:"",city_sunrise:"",city_sunset:"",cityscape:"",cl:"",clamp:"",clap:"",clapper:"",classical_building:"",clinking_glasses:"",clipboard:"",clock1:"",clock10:"",clock1030:"",clock11:"",clock1130:"",clock12:"",clock1230:"",clock130:"",clock2:"",clock230:"",clock3:"",clock330:"",clock4:"",clock430:"",clock5:"",clock530:"",clock6:"",clock630:"",clock7:"",clock730:"",clock8:"",clock830:"",clock9:"",clock930:"",closed_book:"",closed_lock_with_key:"",closed_umbrella:"",cloud:"",cloud_with_lightning:"",cloud_with_lightning_and_rain:"",cloud_with_rain:"",cloud_with_snow:"",clown_face:"",clubs:"",cocktail:"",coffee:"",coffin:"",cold_sweat:"",comet:"",computer:"",computer_mouse:"",confetti_ball:"",confounded:"",confused:"",congratulations:"",construction:"",construction_worker_man:"",construction_worker_woman:"&zwj;",control_knobs:"",convenience_store:"",cookie:"",cool:"",policeman:"",copyright:"",corn:"",couch_and_lamp:"",couple:"",couple_with_heart_woman_man:"",couple_with_heart_man_man:"&zwj;&zwj;",couple_with_heart_woman_woman:"&zwj;&zwj;",couplekiss_man_man:"&zwj;&zwj;&zwj;",couplekiss_man_woman:"",couplekiss_woman_woman:"&zwj;&zwj;&zwj;",cow:"",cow2:"",cowboy_hat_face:"",crab:"",crayon:"",credit_card:"",crescent_moon:"",cricket:"",crocodile:"",croissant:"",crossed_fingers:"",crossed_flags:"",crossed_swords:"",crown:"",cry:"",crying_cat_face:"",crystal_ball:"",cucumber:"",cupid:"",curly_loop:"",currency_exchange:"",curry:"",custard:"",customs:"",cyclone:"",dagger:"",dancer:"",dancing_women:"",dancing_men:"&zwj;",dango:"",dark_sunglasses:"",dart:"",dash:"",date:"",deciduous_tree:"",deer:"",department_store:"",derelict_house:"",desert:"",desert_island:"",desktop_computer:"",male_detective:"",diamond_shape_with_a_dot_inside:"",diamonds:"",disappointed:"",disappointed_relieved:"",dizzy:"",dizzy_face:"",do_not_litter:"",dog:"",dog2:"",dollar:"",dolls:"",dolphin:"",door:"",doughnut:"",dove:"",dragon:"",dragon_face:"",dress:"",dromedary_camel:"",drooling_face:"",droplet:"",drum:"",duck:"",dvd:"","e-mail":"",eagle:"",ear:"",ear_of_rice:"",earth_africa:"",earth_americas:"",earth_asia:"",egg:"",eggplant:"",eight_pointed_black_star:"",eight_spoked_asterisk:"",electric_plug:"",elephant:"",email:"",end:"",envelope_with_arrow:"",euro:"",european_castle:"",european_post_office:"",evergreen_tree:"",exclamation:"",expressionless:"",eye:"",eye_speech_bubble:"&zwj;",eyeglasses:"",eyes:"",face_with_head_bandage:"",face_with_thermometer:"",fist_oncoming:"",factory:"",fallen_leaf:"",family_man_woman_boy:"",family_man_boy:"&zwj;",family_man_boy_boy:"&zwj;&zwj;",family_man_girl:"&zwj;",family_man_girl_boy:"&zwj;&zwj;",family_man_girl_girl:"&zwj;&zwj;",family_man_man_boy:"&zwj;&zwj;",family_man_man_boy_boy:"&zwj;&zwj;&zwj;",family_man_man_girl:"&zwj;&zwj;",family_man_man_girl_boy:"&zwj;&zwj;&zwj;",family_man_man_girl_girl:"&zwj;&zwj;&zwj;",family_man_woman_boy_boy:"&zwj;&zwj;&zwj;",family_man_woman_girl:"&zwj;&zwj;",family_man_woman_girl_boy:"&zwj;&zwj;&zwj;",family_man_woman_girl_girl:"&zwj;&zwj;&zwj;",family_woman_boy:"&zwj;",family_woman_boy_boy:"&zwj;&zwj;",family_woman_girl:"&zwj;",family_woman_girl_boy:"&zwj;&zwj;",family_woman_girl_girl:"&zwj;&zwj;",family_woman_woman_boy:"&zwj;&zwj;",family_woman_woman_boy_boy:"&zwj;&zwj;&zwj;",family_woman_woman_girl:"&zwj;&zwj;",family_woman_woman_girl_boy:"&zwj;&zwj;&zwj;",family_woman_woman_girl_girl:"&zwj;&zwj;&zwj;",fast_forward:"",fax:"",fearful:"",feet:"",female_detective:"&zwj;",ferris_wheel:"",ferry:"",field_hockey:"",file_cabinet:"",file_folder:"",film_projector:"",film_strip:"",fire:"",fire_engine:"",fireworks:"",first_quarter_moon:"",first_quarter_moon_with_face:"",fish:"",fish_cake:"",fishing_pole_and_fish:"",fist_raised:"",fist_left:"",fist_right:"",flags:"",flashlight:"",fleur_de_lis:"",flight_arrival:"",flight_departure:"",floppy_disk:"",flower_playing_cards:"",flushed:"",fog:"",foggy:"",football:"",footprints:"",fork_and_knife:"",fountain:"",fountain_pen:"",four_leaf_clover:"",fox_face:"",framed_picture:"",free:"",fried_egg:"",fried_shrimp:"",fries:"",frog:"",frowning:"",frowning_face:"",frowning_man:"&zwj;",frowning_woman:"",middle_finger:"",fuelpump:"",full_moon:"",full_moon_with_face:"",funeral_urn:"",game_die:"",gear:"",gem:"",gemini:"",ghost:"",gift:"",gift_heart:"",girl:"",globe_with_meridians:"",goal_net:"",goat:"",golf:"",golfing_man:"",golfing_woman:"&zwj;",gorilla:"",grapes:"",green_apple:"",green_book:"",green_heart:"",green_salad:"",grey_exclamation:"",grey_question:"",grimacing:"",grin:"",grinning:"",guardsman:"",guardswoman:"&zwj;",guitar:"",gun:"",haircut_woman:"",haircut_man:"&zwj;",hamburger:"",hammer:"",hammer_and_pick:"",hammer_and_wrench:"",hamster:"",hand:"",handbag:"",handshake:"",hankey:"",hatched_chick:"",hatching_chick:"",headphones:"",hear_no_evil:"",heart:"",heart_decoration:"",heart_eyes:"",heart_eyes_cat:"",heartbeat:"",heartpulse:"",hearts:"",heavy_check_mark:"",heavy_division_sign:"",heavy_dollar_sign:"",heavy_heart_exclamation:"",heavy_minus_sign:"",heavy_multiplication_x:"",heavy_plus_sign:"",helicopter:"",herb:"",hibiscus:"",high_brightness:"",high_heel:"",hocho:"",hole:"",honey_pot:"",horse:"",horse_racing:"",hospital:"",hot_pepper:"",hotdog:"",hotel:"",hotsprings:"",hourglass:"",hourglass_flowing_sand:"",house:"",house_with_garden:"",houses:"",hugs:"",hushed:"",ice_cream:"",ice_hockey:"",ice_skate:"",icecream:"",id:"",ideograph_advantage:"",imp:"",inbox_tray:"",incoming_envelope:"",tipping_hand_woman:"",information_source:"",innocent:"",interrobang:"",iphone:"",izakaya_lantern:"",jack_o_lantern:"",japan:"",japanese_castle:"",japanese_goblin:"",japanese_ogre:"",jeans:"",joy:"",joy_cat:"",joystick:"",kaaba:"",key:"",keyboard:"",keycap_ten:"",kick_scooter:"",kimono:"",kiss:"",kissing:"",kissing_cat:"",kissing_closed_eyes:"",kissing_heart:"",kissing_smiling_eyes:"",kiwi_fruit:"",koala:"",koko:"",label:"",large_blue_circle:"",large_blue_diamond:"",large_orange_diamond:"",last_quarter_moon:"",last_quarter_moon_with_face:"",latin_cross:"",laughing:"",leaves:"",ledger:"",left_luggage:"",left_right_arrow:"",leftwards_arrow_with_hook:"",lemon:"",leo:"",leopard:"",level_slider:"",libra:"",light_rail:"",link:"",lion:"",lips:"",lipstick:"",lizard:"",lock:"",lock_with_ink_pen:"",lollipop:"",loop:"",loud_sound:"",loudspeaker:"",love_hotel:"",love_letter:"",low_brightness:"",lying_face:"",m:"",mag:"",mag_right:"",mahjong:"",mailbox:"",mailbox_closed:"",mailbox_with_mail:"",mailbox_with_no_mail:"",man:"",man_artist:"&zwj;",man_astronaut:"&zwj;",man_cartwheeling:"&zwj;",man_cook:"&zwj;",man_dancing:"",man_facepalming:"&zwj;",man_factory_worker:"&zwj;",man_farmer:"&zwj;",man_firefighter:"&zwj;",man_health_worker:"&zwj;",man_in_tuxedo:"",man_judge:"&zwj;",man_juggling:"&zwj;",man_mechanic:"&zwj;",man_office_worker:"&zwj;",man_pilot:"&zwj;",man_playing_handball:"&zwj;",man_playing_water_polo:"&zwj;",man_scientist:"&zwj;",man_shrugging:"&zwj;",man_singer:"&zwj;",man_student:"&zwj;",man_teacher:"&zwj;",man_technologist:"&zwj;",man_with_gua_pi_mao:"",man_with_turban:"",tangerine:"",mans_shoe:"",mantelpiece_clock:"",maple_leaf:"",martial_arts_uniform:"",mask:"",massage_woman:"",massage_man:"&zwj;",meat_on_bone:"",medal_military:"",medal_sports:"",mega:"",melon:"",memo:"",men_wrestling:"&zwj;",menorah:"",mens:"",metal:"",metro:"",microphone:"",microscope:"",milk_glass:"",milky_way:"",minibus:"",minidisc:"",mobile_phone_off:"",money_mouth_face:"",money_with_wings:"",moneybag:"",monkey:"",monkey_face:"",monorail:"",moon:"",mortar_board:"",mosque:"",motor_boat:"",motor_scooter:"",motorcycle:"",motorway:"",mount_fuji:"",mountain:"",mountain_biking_man:"",mountain_biking_woman:"&zwj;",mountain_cableway:"",mountain_railway:"",mountain_snow:"",mouse:"",mouse2:"",movie_camera:"",moyai:"",mrs_claus:"",muscle:"",mushroom:"",musical_keyboard:"",musical_note:"",musical_score:"",mute:"",nail_care:"",name_badge:"",national_park:"",nauseated_face:"",necktie:"",negative_squared_cross_mark:"",nerd_face:"",neutral_face:"",new:"",new_moon:"",new_moon_with_face:"",newspaper:"",newspaper_roll:"",next_track_button:"",ng:"",no_good_man:"&zwj;",no_good_woman:"",night_with_stars:"",no_bell:"",no_bicycles:"",no_entry:"",no_entry_sign:"",no_mobile_phones:"",no_mouth:"",no_pedestrians:"",no_smoking:"","non-potable_water":"",nose:"",notebook:"",notebook_with_decorative_cover:"",notes:"",nut_and_bolt:"",o:"",o2:"",ocean:"",octopus:"",oden:"",office:"",oil_drum:"",ok:"",ok_hand:"",ok_man:"&zwj;",ok_woman:"",old_key:"",older_man:"",older_woman:"",om:"",on:"",oncoming_automobile:"",oncoming_bus:"",oncoming_police_car:"",oncoming_taxi:"",open_file_folder:"",open_hands:"",open_mouth:"",open_umbrella:"",ophiuchus:"",orange_book:"",orthodox_cross:"",outbox_tray:"",owl:"",ox:"",package:"",page_facing_up:"",page_with_curl:"",pager:"",paintbrush:"",palm_tree:"",pancakes:"",panda_face:"",paperclip:"",paperclips:"",parasol_on_ground:"",parking:"",part_alternation_mark:"",partly_sunny:"",passenger_ship:"",passport_control:"",pause_button:"",peace_symbol:"",peach:"",peanuts:"",pear:"",pen:"",pencil2:"",penguin:"",pensive:"",performing_arts:"",persevere:"",person_fencing:"",pouting_woman:"",phone:"",pick:"",pig:"",pig2:"",pig_nose:"",pill:"",pineapple:"",ping_pong:"",pisces:"",pizza:"",place_of_worship:"",plate_with_cutlery:"",play_or_pause_button:"",point_down:"",point_left:"",point_right:"",point_up:"",point_up_2:"",police_car:"",policewoman:"&zwj;",poodle:"",popcorn:"",post_office:"",postal_horn:"",postbox:"",potable_water:"",potato:"",pouch:"",poultry_leg:"",pound:"",rage:"",pouting_cat:"",pouting_man:"&zwj;",pray:"",prayer_beads:"",pregnant_woman:"",previous_track_button:"",prince:"",princess:"",printer:"",purple_heart:"",purse:"",pushpin:"",put_litter_in_its_place:"",question:"",rabbit:"",rabbit2:"",racehorse:"",racing_car:"",radio:"",radio_button:"",radioactive:"",railway_car:"",railway_track:"",rainbow:"",rainbow_flag:"&zwj;",raised_back_of_hand:"",raised_hand_with_fingers_splayed:"",raised_hands:"",raising_hand_woman:"",raising_hand_man:"&zwj;",ram:"",ramen:"",rat:"",record_button:"",recycle:"",red_circle:"",registered:"",relaxed:"",relieved:"",reminder_ribbon:"",repeat:"",repeat_one:"",rescue_worker_helmet:"",restroom:"",revolving_hearts:"",rewind:"",rhinoceros:"",ribbon:"",rice:"",rice_ball:"",rice_cracker:"",rice_scene:"",right_anger_bubble:"",ring:"",robot:"",rocket:"",rofl:"",roll_eyes:"",roller_coaster:"",rooster:"",rose:"",rosette:"",rotating_light:"",round_pushpin:"",rowing_man:"",rowing_woman:"&zwj;",rugby_football:"",running_man:"",running_shirt_with_sash:"",running_woman:"&zwj;",sa:"",sagittarius:"",sake:"",sandal:"",santa:"",satellite:"",saxophone:"",school:"",school_satchel:"",scissors:"",scorpion:"",scorpius:"",scream:"",scream_cat:"",scroll:"",seat:"",secret:"",see_no_evil:"",seedling:"",selfie:"",shallow_pan_of_food:"",shamrock:"",shark:"",shaved_ice:"",sheep:"",shell:"",shield:"",shinto_shrine:"",ship:"",shirt:"",shopping:"",shopping_cart:"",shower:"",shrimp:"",signal_strength:"",six_pointed_star:"",ski:"",skier:"",skull:"",skull_and_crossbones:"",sleeping:"",sleeping_bed:"",sleepy:"",slightly_frowning_face:"",slightly_smiling_face:"",slot_machine:"",small_airplane:"",small_blue_diamond:"",small_orange_diamond:"",small_red_triangle:"",small_red_triangle_down:"",smile:"",smile_cat:"",smiley:"",smiley_cat:"",smiling_imp:"",smirk:"",smirk_cat:"",smoking:"",snail:"",snake:"",sneezing_face:"",snowboarder:"",snowflake:"",snowman:"",snowman_with_snow:"",sob:"",soccer:"",soon:"",sos:"",sound:"",space_invader:"",spades:"",spaghetti:"",sparkle:"",sparkler:"",sparkles:"",sparkling_heart:"",speak_no_evil:"",speaker:"",speaking_head:"",speech_balloon:"",speedboat:"",spider:"",spider_web:"",spiral_calendar:"",spiral_notepad:"",spoon:"",squid:"",stadium:"",star:"",star2:"",star_and_crescent:"",star_of_david:"",stars:"",station:"",statue_of_liberty:"",steam_locomotive:"",stew:"",stop_button:"",stop_sign:"",stopwatch:"",straight_ruler:"",strawberry:"",stuck_out_tongue:"",stuck_out_tongue_closed_eyes:"",stuck_out_tongue_winking_eye:"",studio_microphone:"",stuffed_flatbread:"",sun_behind_large_cloud:"",sun_behind_rain_cloud:"",sun_behind_small_cloud:"",sun_with_face:"",sunflower:"",sunglasses:"",sunny:"",sunrise:"",sunrise_over_mountains:"",surfing_man:"",surfing_woman:"&zwj;",sushi:"",suspension_railway:"",sweat:"",sweat_drops:"",sweat_smile:"",sweet_potato:"",swimming_man:"",swimming_woman:"&zwj;",symbols:"",synagogue:"",syringe:"",taco:"",tada:"",tanabata_tree:"",taurus:"",taxi:"",tea:"",telephone_receiver:"",telescope:"",tennis:"",tent:"",thermometer:"",thinking:"",thought_balloon:"",ticket:"",tickets:"",tiger:"",tiger2:"",timer_clock:"",tipping_hand_man:"&zwj;",tired_face:"",tm:"",toilet:"",tokyo_tower:"",tomato:"",tongue:"",top:"",tophat:"",tornado:"",trackball:"",tractor:"",traffic_light:"",train:"",train2:"",tram:"",triangular_flag_on_post:"",triangular_ruler:"",trident:"",triumph:"",trolleybus:"",trophy:"",tropical_drink:"",tropical_fish:"",truck:"",trumpet:"",tulip:"",tumbler_glass:"",turkey:"",turtle:"",tv:"",twisted_rightwards_arrows:"",two_hearts:"",two_men_holding_hands:"",two_women_holding_hands:"",u5272:"",u5408:"",u55b6:"",u6307:"",u6708:"",u6709:"",u6e80:"",u7121:"",u7533:"",u7981:"",u7a7a:"",umbrella:"",unamused:"",underage:"",unicorn:"",unlock:"",up:"",upside_down_face:"",v:"",vertical_traffic_light:"",vhs:"",vibration_mode:"",video_camera:"",video_game:"",violin:"",virgo:"",volcano:"",volleyball:"",vs:"",vulcan_salute:"",walking_man:"",walking_woman:"&zwj;",waning_crescent_moon:"",waning_gibbous_moon:"",warning:"",wastebasket:"",watch:"",water_buffalo:"",watermelon:"",wave:"",wavy_dash:"",waxing_crescent_moon:"",wc:"",weary:"",wedding:"",weight_lifting_man:"",weight_lifting_woman:"&zwj;",whale:"",whale2:"",wheel_of_dharma:"",wheelchair:"",white_check_mark:"",white_circle:"",white_flag:"",white_flower:"",white_large_square:"",white_medium_small_square:"",white_medium_square:"",white_small_square:"",white_square_button:"",wilted_flower:"",wind_chime:"",wind_face:"",wine_glass:"",wink:"",wolf:"",woman:"",woman_artist:"&zwj;",woman_astronaut:"&zwj;",woman_cartwheeling:"&zwj;",woman_cook:"&zwj;",woman_facepalming:"&zwj;",woman_factory_worker:"&zwj;",woman_farmer:"&zwj;",woman_firefighter:"&zwj;",woman_health_worker:"&zwj;",woman_judge:"&zwj;",woman_juggling:"&zwj;",woman_mechanic:"&zwj;",woman_office_worker:"&zwj;",woman_pilot:"&zwj;",woman_playing_handball:"&zwj;",woman_playing_water_polo:"&zwj;",woman_scientist:"&zwj;",woman_shrugging:"&zwj;",woman_singer:"&zwj;",woman_student:"&zwj;",woman_teacher:"&zwj;",woman_technologist:"&zwj;",woman_with_turban:"&zwj;",womans_clothes:"",womans_hat:"",women_wrestling:"&zwj;",womens:"",world_map:"",worried:"",wrench:"",writing_hand:"",x:"",yellow_heart:"",yen:"",yin_yang:"",yum:"",zap:"",zipper_mouth_face:"",zzz:"",octocat:'<img alt=":octocat:" height="20" width="20" align="absmiddle" src="https://assets-cdn.github.com/images/icons/emoji/octocat.png">',showdown:`<span style="font-family: 'Anonymous Pro', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;">S</span>`},r.Converter=function(u){var f={},d=[],m=[],E={},S=a,C={parsed:{},raw:"",format:""};I();function I(){u=u||{};for(var A in o)o.hasOwnProperty(A)&&(f[A]=o[A]);if(typeof u=="object")for(var D in u)u.hasOwnProperty(D)&&(f[D]=u[D]);else throw Error("Converter expects the passed parameter to be an object, but "+typeof u+" was passed instead.");f.extensions&&r.helper.forEach(f.extensions,x)}function x(A,D){if(D=D||null,r.helper.isString(A))if(A=r.helper.stdExtName(A),D=A,r.extensions[A]){console.warn("DEPRECATION WARNING: "+A+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),R(r.extensions[A],A);return}else if(!r.helper.isUndefined(s[A]))A=s[A];else throw Error('Extension "'+A+'" could not be loaded. It was either not found or is not a valid extension.');typeof A=="function"&&(A=A()),r.helper.isArray(A)||(A=[A]);var H=c(A,D);if(!H.valid)throw Error(H.error);for(var q=0;q<A.length;++q){switch(A[q].type){case"lang":d.push(A[q]);break;case"output":m.push(A[q]);break}if(A[q].hasOwnProperty("listeners"))for(var ae in A[q].listeners)A[q].listeners.hasOwnProperty(ae)&&O(ae,A[q].listeners[ae])}}function R(A,D){typeof A=="function"&&(A=A(new r.Converter)),r.helper.isArray(A)||(A=[A]);var H=c(A,D);if(!H.valid)throw Error(H.error);for(var q=0;q<A.length;++q)switch(A[q].type){case"lang":d.push(A[q]);break;case"output":m.push(A[q]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}function O(A,D){if(!r.helper.isString(A))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof A+" given");if(typeof D!="function")throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof D+" given");E.hasOwnProperty(A)||(E[A]=[]),E[A].push(D)}function M(A){var D=A.match(/^\s*/)[0].length,H=new RegExp("^\\s{0,"+D+"}","gm");return A.replace(H,"")}this._dispatch=function(D,H,q,ae){if(E.hasOwnProperty(D))for(var b=0;b<E[D].length;++b){var W=E[D][b](D,H,this,q,ae);W&&typeof W<"u"&&(H=W)}return H},this.listen=function(A,D){return O(A,D),this},this.makeHtml=function(A){if(!A)return A;var D={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:d,outputModifiers:m,converter:this,ghCodeBlocks:[],metadata:{parsed:{},raw:"",format:""}};return A=A.replace(//g,"T"),A=A.replace(/\$/g,"D"),A=A.replace(/\r\n/g,`
`),A=A.replace(/\r/g,`
`),A=A.replace(/\u00A0/g,"&nbsp;"),f.smartIndentationFix&&(A=M(A)),A=`

`+A+`

`,A=r.subParser("detab")(A,f,D),A=A.replace(/^[ \t]+$/mg,""),r.helper.forEach(d,function(H){A=r.subParser("runExtension")(H,A,f,D)}),A=r.subParser("metadata")(A,f,D),A=r.subParser("hashPreCodeTags")(A,f,D),A=r.subParser("githubCodeBlocks")(A,f,D),A=r.subParser("hashHTMLBlocks")(A,f,D),A=r.subParser("hashCodeTags")(A,f,D),A=r.subParser("stripLinkDefinitions")(A,f,D),A=r.subParser("blockGamut")(A,f,D),A=r.subParser("unhashHTMLSpans")(A,f,D),A=r.subParser("unescapeSpecialChars")(A,f,D),A=A.replace(/D/g,"$$"),A=A.replace(/T/g,""),A=r.subParser("completeHTMLDocument")(A,f,D),r.helper.forEach(m,function(H){A=r.subParser("runExtension")(H,A,f,D)}),C=D.metadata,A},this.makeMarkdown=this.makeMd=function(A,D){if(A=A.replace(/\r\n/g,`
`),A=A.replace(/\r/g,`
`),A=A.replace(/>[ \t]+</,">NBSP;<"),!D)if(window&&window.document)D=window.document;else throw new Error("HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM");var H=D.createElement("div");H.innerHTML=A;var q={preList:se(H)};Q(H);for(var ae=H.childNodes,b="",W=0;W<ae.length;W++)b+=r.subParser("makeMarkdown.node")(ae[W],q);function Q(oe){for(var _e=0;_e<oe.childNodes.length;++_e){var ke=oe.childNodes[_e];ke.nodeType===3?/\S/.test(ke.nodeValue)?(ke.nodeValue=ke.nodeValue.split(`
`).join(" "),ke.nodeValue=ke.nodeValue.replace(/(\s)+/g,"$1")):(oe.removeChild(ke),--_e):ke.nodeType===1&&Q(ke)}}function se(oe){for(var _e=oe.querySelectorAll("pre"),ke=[],z=0;z<_e.length;++z)if(_e[z].childElementCount===1&&_e[z].firstChild.tagName.toLowerCase()==="code"){var V=_e[z].firstChild.innerHTML.trim(),B=_e[z].firstChild.getAttribute("data-language")||"";if(B==="")for(var X=_e[z].firstChild.className.split(" "),De=0;De<X.length;++De){var Ae=X[De].match(/^language-(.+)$/);if(Ae!==null){B=Ae[1];break}}V=r.helper.unescapeHTMLEntities(V),ke.push(V),_e[z].outerHTML='<precode language="'+B+'" precodenum="'+z.toString()+'"></precode>'}else ke.push(_e[z].innerHTML),_e[z].innerHTML="",_e[z].setAttribute("prenum",z.toString());return ke}return b},this.setOption=function(A,D){f[A]=D},this.getOption=function(A){return f[A]},this.getOptions=function(){return f},this.addExtension=function(A,D){D=D||null,x(A,D)},this.useExtension=function(A){x(A)},this.setFlavor=function(A){if(!l.hasOwnProperty(A))throw Error(A+" flavor was not found");var D=l[A];S=A;for(var H in D)D.hasOwnProperty(H)&&(f[H]=D[H])},this.getFlavor=function(){return S},this.removeExtension=function(A){r.helper.isArray(A)||(A=[A]);for(var D=0;D<A.length;++D){for(var H=A[D],q=0;q<d.length;++q)d[q]===H&&d[q].splice(q,1);for(var ae=0;ae<m.length;++q)m[ae]===H&&m[ae].splice(q,1)}},this.getAllExtensions=function(){return{language:d,output:m}},this.getMetadata=function(A){return A?C.raw:C.parsed},this.getMetadataFormat=function(){return C.format},this._setMetadataPair=function(A,D){C.parsed[A]=D},this._setMetadataFormat=function(A){C.format=A},this._setMetadataRaw=function(A){C.raw=A}},r.subParser("anchors",function(u,f,d){u=d.converter._dispatch("anchors.before",u,f,d);var m=function(E,S,C,I,x,R,O){if(r.helper.isUndefined(O)&&(O=""),C=C.toLowerCase(),E.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)I="";else if(!I)if(C||(C=S.toLowerCase().replace(/ ?\n/g," ")),I="#"+C,!r.helper.isUndefined(d.gUrls[C]))I=d.gUrls[C],r.helper.isUndefined(d.gTitles[C])||(O=d.gTitles[C]);else return E;I=I.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var M='<a href="'+I+'"';return O!==""&&O!==null&&(O=O.replace(/"/g,"&quot;"),O=O.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),M+=' title="'+O+'"'),f.openLinksInNewWindow&&!/^#/.test(I)&&(M+=' rel="noopener noreferrer" target="E95Eblank"'),M+=">"+S+"</a>",M};return u=u.replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g,m),u=u.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,m),u=u.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,m),u=u.replace(/\[([^\[\]]+)]()()()()()/g,m),f.ghMentions&&(u=u.replace(/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d.-]+?[a-z\d]+)*))/gmi,function(E,S,C,I,x){if(C==="\\")return S+I;if(!r.helper.isString(f.ghMentionsLink))throw new Error("ghMentionsLink option must be a string");var R=f.ghMentionsLink.replace(/\{u}/g,x),O="";return f.openLinksInNewWindow&&(O=' rel="noopener noreferrer" target="E95Eblank"'),S+'<a href="'+R+'"'+O+">"+I+"</a>"})),u=d.converter._dispatch("anchors.after",u,f,d),u});var y=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi,k=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,T=/()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,w=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gmi,_=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,g=function(u){return function(f,d,m,E,S,C,I){m=m.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var x=m,R="",O="",M=d||"",A=I||"";return/^www\./i.test(m)&&(m=m.replace(/^www\./i,"http://www.")),u.excludeTrailingPunctuationFromURLs&&C&&(R=C),u.openLinksInNewWindow&&(O=' rel="noopener noreferrer" target="E95Eblank"'),M+'<a href="'+m+'"'+O+">"+x+"</a>"+R+A}},v=function(u,f){return function(d,m,E){var S="mailto:";return m=m||"",E=r.subParser("unescapeSpecialChars")(E,u,f),u.encodeEmails?(S=r.helper.encodeEmailAddress(S+E),E=r.helper.encodeEmailAddress(E)):S=S+E,m+'<a href="'+S+'">'+E+"</a>"}};r.subParser("autoLinks",function(u,f,d){return u=d.converter._dispatch("autoLinks.before",u,f,d),u=u.replace(T,g(f)),u=u.replace(_,v(f,d)),u=d.converter._dispatch("autoLinks.after",u,f,d),u}),r.subParser("simplifiedAutoLinks",function(u,f,d){return f.simplifiedAutoLink&&(u=d.converter._dispatch("simplifiedAutoLinks.before",u,f,d),f.excludeTrailingPunctuationFromURLs?u=u.replace(k,g(f)):u=u.replace(y,g(f)),u=u.replace(w,v(f,d)),u=d.converter._dispatch("simplifiedAutoLinks.after",u,f,d)),u}),r.subParser("blockGamut",function(u,f,d){return u=d.converter._dispatch("blockGamut.before",u,f,d),u=r.subParser("blockQuotes")(u,f,d),u=r.subParser("headers")(u,f,d),u=r.subParser("horizontalRule")(u,f,d),u=r.subParser("lists")(u,f,d),u=r.subParser("codeBlocks")(u,f,d),u=r.subParser("tables")(u,f,d),u=r.subParser("hashHTMLBlocks")(u,f,d),u=r.subParser("paragraphs")(u,f,d),u=d.converter._dispatch("blockGamut.after",u,f,d),u}),r.subParser("blockQuotes",function(u,f,d){u=d.converter._dispatch("blockQuotes.before",u,f,d),u=u+`

`;var m=/(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;return f.splitAdjacentBlockquotes&&(m=/^ {0,3}>[\s\S]*?(?:\n\n)/gm),u=u.replace(m,function(E){return E=E.replace(/^[ \t]*>[ \t]?/gm,""),E=E.replace(/0/g,""),E=E.replace(/^[ \t]+$/gm,""),E=r.subParser("githubCodeBlocks")(E,f,d),E=r.subParser("blockGamut")(E,f,d),E=E.replace(/(^|\n)/g,"$1  "),E=E.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(S,C){var I=C;return I=I.replace(/^  /mg,"0"),I=I.replace(/0/g,""),I}),r.subParser("hashBlock")(`<blockquote>
`+E+`
</blockquote>`,f,d)}),u=d.converter._dispatch("blockQuotes.after",u,f,d),u}),r.subParser("codeBlocks",function(u,f,d){u=d.converter._dispatch("codeBlocks.before",u,f,d),u+="0";var m=/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=0))/g;return u=u.replace(m,function(E,S,C){var I=S,x=C,R=`
`;return I=r.subParser("outdent")(I,f,d),I=r.subParser("encodeCode")(I,f,d),I=r.subParser("detab")(I,f,d),I=I.replace(/^\n+/g,""),I=I.replace(/\n+$/g,""),f.omitExtraWLInCodeBlocks&&(R=""),I="<pre><code>"+I+R+"</code></pre>",r.subParser("hashBlock")(I,f,d)+x}),u=u.replace(/0/,""),u=d.converter._dispatch("codeBlocks.after",u,f,d),u}),r.subParser("codeSpans",function(u,f,d){return u=d.converter._dispatch("codeSpans.before",u,f,d),typeof u>"u"&&(u=""),u=u.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(m,E,S,C){var I=C;return I=I.replace(/^([ \t]*)/g,""),I=I.replace(/[ \t]*$/g,""),I=r.subParser("encodeCode")(I,f,d),I=E+"<code>"+I+"</code>",I=r.subParser("hashHTMLSpans")(I,f,d),I}),u=d.converter._dispatch("codeSpans.after",u,f,d),u}),r.subParser("completeHTMLDocument",function(u,f,d){if(!f.completeHTMLDocument)return u;u=d.converter._dispatch("completeHTMLDocument.before",u,f,d);var m="html",E=`<!DOCTYPE HTML>
`,S="",C=`<meta charset="utf-8">
`,I="",x="";typeof d.metadata.parsed.doctype<"u"&&(E="<!DOCTYPE "+d.metadata.parsed.doctype+`>
`,m=d.metadata.parsed.doctype.toString().toLowerCase(),(m==="html"||m==="html5")&&(C='<meta charset="utf-8">'));for(var R in d.metadata.parsed)if(d.metadata.parsed.hasOwnProperty(R))switch(R.toLowerCase()){case"doctype":break;case"title":S="<title>"+d.metadata.parsed.title+`</title>
`;break;case"charset":m==="html"||m==="html5"?C='<meta charset="'+d.metadata.parsed.charset+`">
`:C='<meta name="charset" content="'+d.metadata.parsed.charset+`">
`;break;case"language":case"lang":I=' lang="'+d.metadata.parsed[R]+'"',x+='<meta name="'+R+'" content="'+d.metadata.parsed[R]+`">
`;break;default:x+='<meta name="'+R+'" content="'+d.metadata.parsed[R]+`">
`}return u=E+"<html"+I+`>
<head>
`+S+C+x+`</head>
<body>
`+u.trim()+`
</body>
</html>`,u=d.converter._dispatch("completeHTMLDocument.after",u,f,d),u}),r.subParser("detab",function(u,f,d){return u=d.converter._dispatch("detab.before",u,f,d),u=u.replace(/\t(?=\t)/g,"    "),u=u.replace(/\t/g,"AB"),u=u.replace(/B(.+?)A/g,function(m,E){for(var S=E,C=4-S.length%4,I=0;I<C;I++)S+=" ";return S}),u=u.replace(/A/g,"    "),u=u.replace(/B/g,""),u=d.converter._dispatch("detab.after",u,f,d),u}),r.subParser("ellipsis",function(u,f,d){return u=d.converter._dispatch("ellipsis.before",u,f,d),u=u.replace(/\.\.\./g,""),u=d.converter._dispatch("ellipsis.after",u,f,d),u}),r.subParser("emoji",function(u,f,d){if(!f.emoji)return u;u=d.converter._dispatch("emoji.before",u,f,d);var m=/:([\S]+?):/g;return u=u.replace(m,function(E,S){return r.helper.emojis.hasOwnProperty(S)?r.helper.emojis[S]:E}),u=d.converter._dispatch("emoji.after",u,f,d),u}),r.subParser("encodeAmpsAndAngles",function(u,f,d){return u=d.converter._dispatch("encodeAmpsAndAngles.before",u,f,d),u=u.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),u=u.replace(/<(?![a-z\/?$!])/gi,"&lt;"),u=u.replace(/</g,"&lt;"),u=u.replace(/>/g,"&gt;"),u=d.converter._dispatch("encodeAmpsAndAngles.after",u,f,d),u}),r.subParser("encodeBackslashEscapes",function(u,f,d){return u=d.converter._dispatch("encodeBackslashEscapes.before",u,f,d),u=u.replace(/\\(\\)/g,r.helper.escapeCharactersCallback),u=u.replace(/\\([`*_{}\[\]()>#+.!~=|-])/g,r.helper.escapeCharactersCallback),u=d.converter._dispatch("encodeBackslashEscapes.after",u,f,d),u}),r.subParser("encodeCode",function(u,f,d){return u=d.converter._dispatch("encodeCode.before",u,f,d),u=u.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/([*_{}\[\]\\=~-])/g,r.helper.escapeCharactersCallback),u=d.converter._dispatch("encodeCode.after",u,f,d),u}),r.subParser("escapeSpecialCharsWithinTagAttributes",function(u,f,d){u=d.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",u,f,d);var m=/<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,E=/<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi;return u=u.replace(m,function(S){return S.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,r.helper.escapeCharactersCallback)}),u=u.replace(E,function(S){return S.replace(/([\\`*_~=|])/g,r.helper.escapeCharactersCallback)}),u=d.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",u,f,d),u}),r.subParser("githubCodeBlocks",function(u,f,d){return f.ghCodeBlocks?(u=d.converter._dispatch("githubCodeBlocks.before",u,f,d),u+="0",u=u.replace(/(?:^|\n)(?: {0,3})(```+|~~~+)(?: *)([^\s`~]*)\n([\s\S]*?)\n(?: {0,3})\1/g,function(m,E,S,C){var I=f.omitExtraWLInCodeBlocks?"":`
`;return C=r.subParser("encodeCode")(C,f,d),C=r.subParser("detab")(C,f,d),C=C.replace(/^\n+/g,""),C=C.replace(/\n+$/g,""),C="<pre><code"+(S?' class="'+S+" language-"+S+'"':"")+">"+C+I+"</code></pre>",C=r.subParser("hashBlock")(C,f,d),`

G`+(d.ghCodeBlocks.push({text:m,codeblock:C})-1)+`G

`}),u=u.replace(/0/,""),d.converter._dispatch("githubCodeBlocks.after",u,f,d)):u}),r.subParser("hashBlock",function(u,f,d){return u=d.converter._dispatch("hashBlock.before",u,f,d),u=u.replace(/(^\n+|\n+$)/g,""),u=`

K`+(d.gHtmlBlocks.push(u)-1)+`K

`,u=d.converter._dispatch("hashBlock.after",u,f,d),u}),r.subParser("hashCodeTags",function(u,f,d){u=d.converter._dispatch("hashCodeTags.before",u,f,d);var m=function(E,S,C,I){var x=C+r.subParser("encodeCode")(S,f,d)+I;return"C"+(d.gHtmlSpans.push(x)-1)+"C"};return u=r.helper.replaceRecursiveRegExp(u,m,"<code\\b[^>]*>","</code>","gim"),u=d.converter._dispatch("hashCodeTags.after",u,f,d),u}),r.subParser("hashElement",function(u,f,d){return function(m,E){var S=E;return S=S.replace(/\n\n/g,`
`),S=S.replace(/^\n/,""),S=S.replace(/\n+$/g,""),S=`

K`+(d.gHtmlBlocks.push(S)-1)+`K

`,S}}),r.subParser("hashHTMLBlocks",function(u,f,d){u=d.converter._dispatch("hashHTMLBlocks.before",u,f,d);var m=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],E=function(A,D,H,q){var ae=A;return H.search(/\bmarkdown\b/)!==-1&&(ae=H+d.converter.makeHtml(D)+q),`

K`+(d.gHtmlBlocks.push(ae)-1)+`K

`};f.backslashEscapesHTMLTags&&(u=u.replace(/\\<(\/?[^>]+?)>/g,function(A,D){return"&lt;"+D+"&gt;"}));for(var S=0;S<m.length;++S)for(var C,I=new RegExp("^ {0,3}(<"+m[S]+"\\b[^>]*>)","im"),x="<"+m[S]+"\\b[^>]*>",R="</"+m[S]+">";(C=r.helper.regexIndexOf(u,I))!==-1;){var O=r.helper.splitAtIndex(u,C),M=r.helper.replaceRecursiveRegExp(O[1],E,x,R,"im");if(M===O[1])break;u=O[0].concat(M)}return u=u.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,r.subParser("hashElement")(u,f,d)),u=r.helper.replaceRecursiveRegExp(u,function(A){return`

K`+(d.gHtmlBlocks.push(A)-1)+`K

`},"^ {0,3}<!--","-->","gm"),u=u.replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,r.subParser("hashElement")(u,f,d)),u=d.converter._dispatch("hashHTMLBlocks.after",u,f,d),u}),r.subParser("hashHTMLSpans",function(u,f,d){u=d.converter._dispatch("hashHTMLSpans.before",u,f,d);function m(E){return"C"+(d.gHtmlSpans.push(E)-1)+"C"}return u=u.replace(/<[^>]+?\/>/gi,function(E){return m(E)}),u=u.replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,function(E){return m(E)}),u=u.replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,function(E){return m(E)}),u=u.replace(/<[^>]+?>/gi,function(E){return m(E)}),u=d.converter._dispatch("hashHTMLSpans.after",u,f,d),u}),r.subParser("unhashHTMLSpans",function(u,f,d){u=d.converter._dispatch("unhashHTMLSpans.before",u,f,d);for(var m=0;m<d.gHtmlSpans.length;++m){for(var E=d.gHtmlSpans[m],S=0;/C(\d+)C/.test(E);){var C=RegExp.$1;if(E=E.replace("C"+C+"C",d.gHtmlSpans[C]),S===10){console.error("maximum nesting of 10 spans reached!!!");break}++S}u=u.replace("C"+m+"C",E)}return u=d.converter._dispatch("unhashHTMLSpans.after",u,f,d),u}),r.subParser("hashPreCodeTags",function(u,f,d){u=d.converter._dispatch("hashPreCodeTags.before",u,f,d);var m=function(E,S,C,I){var x=C+r.subParser("encodeCode")(S,f,d)+I;return`

G`+(d.ghCodeBlocks.push({text:E,codeblock:x})-1)+`G

`};return u=r.helper.replaceRecursiveRegExp(u,m,"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim"),u=d.converter._dispatch("hashPreCodeTags.after",u,f,d),u}),r.subParser("headers",function(u,f,d){u=d.converter._dispatch("headers.before",u,f,d);var m=isNaN(parseInt(f.headerLevelStart))?1:parseInt(f.headerLevelStart),E=f.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,S=f.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;u=u.replace(E,function(x,R){var O=r.subParser("spanGamut")(R,f,d),M=f.noHeaderId?"":' id="'+I(R)+'"',A=m,D="<h"+A+M+">"+O+"</h"+A+">";return r.subParser("hashBlock")(D,f,d)}),u=u.replace(S,function(x,R){var O=r.subParser("spanGamut")(R,f,d),M=f.noHeaderId?"":' id="'+I(R)+'"',A=m+1,D="<h"+A+M+">"+O+"</h"+A+">";return r.subParser("hashBlock")(D,f,d)});var C=f.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm;u=u.replace(C,function(x,R,O){var M=O;f.customizedHeaderId&&(M=O.replace(/\s?\{([^{]+?)}\s*$/,""));var A=r.subParser("spanGamut")(M,f,d),D=f.noHeaderId?"":' id="'+I(O)+'"',H=m-1+R.length,q="<h"+H+D+">"+A+"</h"+H+">";return r.subParser("hashBlock")(q,f,d)});function I(x){var R,O;if(f.customizedHeaderId){var M=x.match(/\{([^{]+?)}\s*$/);M&&M[1]&&(x=M[1])}return R=x,r.helper.isString(f.prefixHeaderId)?O=f.prefixHeaderId:f.prefixHeaderId===!0?O="section-":O="",f.rawPrefixHeaderId||(R=O+R),f.ghCompatibleHeaderId?R=R.replace(/ /g,"-").replace(/&amp;/g,"").replace(/T/g,"").replace(/D/g,"").replace(/[&+$,\/:;=?@"#{}|^~\[\]`\\*)(%.!'<>]/g,"").toLowerCase():f.rawHeaderId?R=R.replace(/ /g,"-").replace(/&amp;/g,"&").replace(/T/g,"").replace(/D/g,"$").replace(/["']/g,"-").toLowerCase():R=R.replace(/[^\w]/g,"").toLowerCase(),f.rawPrefixHeaderId&&(R=O+R),d.hashLinkCounts[R]?R=R+"-"+d.hashLinkCounts[R]++:d.hashLinkCounts[R]=1,R}return u=d.converter._dispatch("headers.after",u,f,d),u}),r.subParser("horizontalRule",function(u,f,d){u=d.converter._dispatch("horizontalRule.before",u,f,d);var m=r.subParser("hashBlock")("<hr />",f,d);return u=u.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,m),u=u.replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,m),u=u.replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,m),u=d.converter._dispatch("horizontalRule.after",u,f,d),u}),r.subParser("images",function(u,f,d){u=d.converter._dispatch("images.before",u,f,d);var m=/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,E=/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,S=/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,C=/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,I=/!\[([^\[\]]+)]()()()()()/g;function x(O,M,A,D,H,q,ae,b){return D=D.replace(/\s/g,""),R(O,M,A,D,H,q,ae,b)}function R(O,M,A,D,H,q,ae,b){var W=d.gUrls,Q=d.gTitles,se=d.gDimensions;if(A=A.toLowerCase(),b||(b=""),O.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)D="";else if(D===""||D===null)if((A===""||A===null)&&(A=M.toLowerCase().replace(/ ?\n/g," ")),D="#"+A,!r.helper.isUndefined(W[A]))D=W[A],r.helper.isUndefined(Q[A])||(b=Q[A]),r.helper.isUndefined(se[A])||(H=se[A].width,q=se[A].height);else return O;M=M.replace(/"/g,"&quot;").replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),D=D.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var oe='<img src="'+D+'" alt="'+M+'"';return b&&r.helper.isString(b)&&(b=b.replace(/"/g,"&quot;").replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),oe+=' title="'+b+'"'),H&&q&&(H=H==="*"?"auto":H,q=q==="*"?"auto":q,oe+=' width="'+H+'"',oe+=' height="'+q+'"'),oe+=" />",oe}return u=u.replace(C,R),u=u.replace(S,x),u=u.replace(E,R),u=u.replace(m,R),u=u.replace(I,R),u=d.converter._dispatch("images.after",u,f,d),u}),r.subParser("italicsAndBold",function(u,f,d){u=d.converter._dispatch("italicsAndBold.before",u,f,d);function m(E,S,C){return S+E+C}return f.literalMidWordUnderscores?(u=u.replace(/\b___(\S[\s\S]*?)___\b/g,function(E,S){return m(S,"<strong><em>","</em></strong>")}),u=u.replace(/\b__(\S[\s\S]*?)__\b/g,function(E,S){return m(S,"<strong>","</strong>")}),u=u.replace(/\b_(\S[\s\S]*?)_\b/g,function(E,S){return m(S,"<em>","</em>")})):(u=u.replace(/___(\S[\s\S]*?)___/g,function(E,S){return/\S$/.test(S)?m(S,"<strong><em>","</em></strong>"):E}),u=u.replace(/__(\S[\s\S]*?)__/g,function(E,S){return/\S$/.test(S)?m(S,"<strong>","</strong>"):E}),u=u.replace(/_([^\s_][\s\S]*?)_/g,function(E,S){return/\S$/.test(S)?m(S,"<em>","</em>"):E})),f.literalMidWordAsterisks?(u=u.replace(/([^*]|^)\B\*\*\*(\S[\s\S]*?)\*\*\*\B(?!\*)/g,function(E,S,C){return m(C,S+"<strong><em>","</em></strong>")}),u=u.replace(/([^*]|^)\B\*\*(\S[\s\S]*?)\*\*\B(?!\*)/g,function(E,S,C){return m(C,S+"<strong>","</strong>")}),u=u.replace(/([^*]|^)\B\*(\S[\s\S]*?)\*\B(?!\*)/g,function(E,S,C){return m(C,S+"<em>","</em>")})):(u=u.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,function(E,S){return/\S$/.test(S)?m(S,"<strong><em>","</em></strong>"):E}),u=u.replace(/\*\*(\S[\s\S]*?)\*\*/g,function(E,S){return/\S$/.test(S)?m(S,"<strong>","</strong>"):E}),u=u.replace(/\*([^\s*][\s\S]*?)\*/g,function(E,S){return/\S$/.test(S)?m(S,"<em>","</em>"):E})),u=d.converter._dispatch("italicsAndBold.after",u,f,d),u}),r.subParser("lists",function(u,f,d){function m(C,I){d.gListLevel++,C=C.replace(/\n{2,}$/,`
`),C+="0";var x=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(0| {0,3}([*+-]|\d+[.])[ \t]+))/gm,R=/\n[ \t]*\n(?!0)/.test(C);return f.disableForced4SpacesIndentedSublists&&(x=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(0|\2([*+-]|\d+[.])[ \t]+))/gm),C=C.replace(x,function(O,M,A,D,H,q,ae){ae=ae&&ae.trim()!=="";var b=r.subParser("outdent")(H,f,d),W="";return q&&f.tasklists&&(W=' class="task-list-item" style="list-style-type: none;"',b=b.replace(/^[ \t]*\[(x|X| )?]/m,function(){var Q='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return ae&&(Q+=" checked"),Q+=">",Q})),b=b.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,function(Q){return"A"+Q}),M||b.search(/\n{2,}/)>-1?(b=r.subParser("githubCodeBlocks")(b,f,d),b=r.subParser("blockGamut")(b,f,d)):(b=r.subParser("lists")(b,f,d),b=b.replace(/\n$/,""),b=r.subParser("hashHTMLBlocks")(b,f,d),b=b.replace(/\n\n+/g,`

`),R?b=r.subParser("paragraphs")(b,f,d):b=r.subParser("spanGamut")(b,f,d)),b=b.replace("A",""),b="<li"+W+">"+b+`</li>
`,b}),C=C.replace(/0/g,""),d.gListLevel--,I&&(C=C.replace(/\s+$/,"")),C}function E(C,I){if(I==="ol"){var x=C.match(/^ *(\d+)\./);if(x&&x[1]!=="1")return' start="'+x[1]+'"'}return""}function S(C,I,x){var R=f.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,O=f.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,M=I==="ul"?R:O,A="";if(C.search(M)!==-1)(function H(q){var ae=q.search(M),b=E(C,I);ae!==-1?(A+=`

<`+I+b+`>
`+m(q.slice(0,ae),!!x)+"</"+I+`>
`,I=I==="ul"?"ol":"ul",M=I==="ul"?R:O,H(q.slice(ae))):A+=`

<`+I+b+`>
`+m(q,!!x)+"</"+I+`>
`})(C);else{var D=E(C,I);A=`

<`+I+D+`>
`+m(C,!!x)+"</"+I+`>
`}return A}return u=d.converter._dispatch("lists.before",u,f,d),u+="0",d.gListLevel?u=u.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(C,I,x){var R=x.search(/[*+-]/g)>-1?"ul":"ol";return S(I,R,!0)}):u=u.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(C,I,x,R){var O=R.search(/[*+-]/g)>-1?"ul":"ol";return S(x,O,!1)}),u=u.replace(/0/,""),u=d.converter._dispatch("lists.after",u,f,d),u}),r.subParser("metadata",function(u,f,d){if(!f.metadata)return u;u=d.converter._dispatch("metadata.before",u,f,d);function m(E){d.metadata.raw=E,E=E.replace(/&/g,"&amp;").replace(/"/g,"&quot;"),E=E.replace(/\n {4}/g," "),E.replace(/^([\S ]+): +([\s\S]+?)$/gm,function(S,C,I){return d.metadata.parsed[C]=I,""})}return u=u.replace(/^\s*+(\S*?)\n([\s\S]+?)\n+\n/,function(E,S,C){return m(C),"M"}),u=u.replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/,function(E,S,C){return S&&(d.metadata.format=S),m(C),"M"}),u=u.replace(/M/g,""),u=d.converter._dispatch("metadata.after",u,f,d),u}),r.subParser("outdent",function(u,f,d){return u=d.converter._dispatch("outdent.before",u,f,d),u=u.replace(/^(\t|[ ]{1,4})/gm,"0"),u=u.replace(/0/g,""),u=d.converter._dispatch("outdent.after",u,f,d),u}),r.subParser("paragraphs",function(u,f,d){u=d.converter._dispatch("paragraphs.before",u,f,d),u=u.replace(/^\n+/g,""),u=u.replace(/\n+$/g,"");for(var m=u.split(/\n{2,}/g),E=[],S=m.length,C=0;C<S;C++){var I=m[C];I.search(/(K|G)(\d+)\1/g)>=0?E.push(I):I.search(/\S/)>=0&&(I=r.subParser("spanGamut")(I,f,d),I=I.replace(/^([ \t]*)/g,"<p>"),I+="</p>",E.push(I))}for(S=E.length,C=0;C<S;C++){for(var x="",R=E[C],O=!1;/(K|G)(\d+)\1/.test(R);){var M=RegExp.$1,A=RegExp.$2;M==="K"?x=d.gHtmlBlocks[A]:O?x=r.subParser("encodeCode")(d.ghCodeBlocks[A].text,f,d):x=d.ghCodeBlocks[A].codeblock,x=x.replace(/\$/g,"$$$$"),R=R.replace(/(\n\n)?(K|G)\d+\2(\n\n)?/,x),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(R)&&(O=!0)}E[C]=R}return u=E.join(`
`),u=u.replace(/^\n+/g,""),u=u.replace(/\n+$/g,""),d.converter._dispatch("paragraphs.after",u,f,d)}),r.subParser("runExtension",function(u,f,d,m){if(u.filter)f=u.filter(f,m.converter,d);else if(u.regex){var E=u.regex;E instanceof RegExp||(E=new RegExp(E,"g")),f=f.replace(E,u.replace)}return f}),r.subParser("spanGamut",function(u,f,d){return u=d.converter._dispatch("spanGamut.before",u,f,d),u=r.subParser("codeSpans")(u,f,d),u=r.subParser("escapeSpecialCharsWithinTagAttributes")(u,f,d),u=r.subParser("encodeBackslashEscapes")(u,f,d),u=r.subParser("images")(u,f,d),u=r.subParser("anchors")(u,f,d),u=r.subParser("autoLinks")(u,f,d),u=r.subParser("simplifiedAutoLinks")(u,f,d),u=r.subParser("emoji")(u,f,d),u=r.subParser("underline")(u,f,d),u=r.subParser("italicsAndBold")(u,f,d),u=r.subParser("strikethrough")(u,f,d),u=r.subParser("ellipsis")(u,f,d),u=r.subParser("hashHTMLSpans")(u,f,d),u=r.subParser("encodeAmpsAndAngles")(u,f,d),f.simpleLineBreaks?/\n\nK/.test(u)||(u=u.replace(/\n+/g,`<br />
`)):u=u.replace(/  +\n/g,`<br />
`),u=d.converter._dispatch("spanGamut.after",u,f,d),u}),r.subParser("strikethrough",function(u,f,d){function m(E){return f.simplifiedAutoLink&&(E=r.subParser("simplifiedAutoLinks")(E,f,d)),"<del>"+E+"</del>"}return f.strikethrough&&(u=d.converter._dispatch("strikethrough.before",u,f,d),u=u.replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,function(E,S){return m(S)}),u=d.converter._dispatch("strikethrough.after",u,f,d)),u}),r.subParser("stripLinkDefinitions",function(u,f,d){var m=/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=0))/gm,E=/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=0)|(?=\n\[))/gm;u+="0";var S=function(C,I,x,R,O,M,A){return I=I.toLowerCase(),x.match(/^data:.+?\/.+?;base64,/)?d.gUrls[I]=x.replace(/\s/g,""):d.gUrls[I]=r.subParser("encodeAmpsAndAngles")(x,f,d),M?M+A:(A&&(d.gTitles[I]=A.replace(/"|'/g,"&quot;")),f.parseImgDimensions&&R&&O&&(d.gDimensions[I]={width:R,height:O}),"")};return u=u.replace(E,S),u=u.replace(m,S),u=u.replace(/0/,""),u}),r.subParser("tables",function(u,f,d){if(!f.tables)return u;var m=/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|0)/gm,E=/^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|0)/gm;function S(O){return/^:[ \t]*--*$/.test(O)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(O)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(O)?' style="text-align:center;"':""}function C(O,M){var A="";return O=O.trim(),(f.tablesHeaderId||f.tableHeaderId)&&(A=' id="'+O.replace(/ /g,"_").toLowerCase()+'"'),O=r.subParser("spanGamut")(O,f,d),"<th"+A+M+">"+O+`</th>
`}function I(O,M){var A=r.subParser("spanGamut")(O,f,d);return"<td"+M+">"+A+`</td>
`}function x(O,M){for(var A=`<table>
<thead>
<tr>
`,D=O.length,H=0;H<D;++H)A+=O[H];for(A+=`</tr>
</thead>
<tbody>
`,H=0;H<M.length;++H){A+=`<tr>
`;for(var q=0;q<D;++q)A+=M[H][q];A+=`</tr>
`}return A+=`</tbody>
</table>
`,A}function R(O){var M,A=O.split(`
`);for(M=0;M<A.length;++M)/^ {0,3}\|/.test(A[M])&&(A[M]=A[M].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(A[M])&&(A[M]=A[M].replace(/\|[ \t]*$/,"")),A[M]=r.subParser("codeSpans")(A[M],f,d);var D=A[0].split("|").map(function(oe){return oe.trim()}),H=A[1].split("|").map(function(oe){return oe.trim()}),q=[],ae=[],b=[],W=[];for(A.shift(),A.shift(),M=0;M<A.length;++M)A[M].trim()!==""&&q.push(A[M].split("|").map(function(oe){return oe.trim()}));if(D.length<H.length)return O;for(M=0;M<H.length;++M)b.push(S(H[M]));for(M=0;M<D.length;++M)r.helper.isUndefined(b[M])&&(b[M]=""),ae.push(C(D[M],b[M]));for(M=0;M<q.length;++M){for(var Q=[],se=0;se<ae.length;++se)r.helper.isUndefined(q[M][se]),Q.push(I(q[M][se],b[se]));W.push(Q)}return x(ae,W)}return u=d.converter._dispatch("tables.before",u,f,d),u=u.replace(/\\(\|)/g,r.helper.escapeCharactersCallback),u=u.replace(m,R),u=u.replace(E,R),u=d.converter._dispatch("tables.after",u,f,d),u}),r.subParser("underline",function(u,f,d){return f.underline&&(u=d.converter._dispatch("underline.before",u,f,d),f.literalMidWordUnderscores?(u=u.replace(/\b___(\S[\s\S]*?)___\b/g,function(m,E){return"<u>"+E+"</u>"}),u=u.replace(/\b__(\S[\s\S]*?)__\b/g,function(m,E){return"<u>"+E+"</u>"})):(u=u.replace(/___(\S[\s\S]*?)___/g,function(m,E){return/\S$/.test(E)?"<u>"+E+"</u>":m}),u=u.replace(/__(\S[\s\S]*?)__/g,function(m,E){return/\S$/.test(E)?"<u>"+E+"</u>":m})),u=u.replace(/(_)/g,r.helper.escapeCharactersCallback),u=d.converter._dispatch("underline.after",u,f,d)),u}),r.subParser("unescapeSpecialChars",function(u,f,d){return u=d.converter._dispatch("unescapeSpecialChars.before",u,f,d),u=u.replace(/E(\d+)E/g,function(m,E){var S=parseInt(E);return String.fromCharCode(S)}),u=d.converter._dispatch("unescapeSpecialChars.after",u,f,d),u}),r.subParser("makeMarkdown.blockquote",function(u,f){var d="";if(u.hasChildNodes())for(var m=u.childNodes,E=m.length,S=0;S<E;++S){var C=r.subParser("makeMarkdown.node")(m[S],f);C!==""&&(d+=C)}return d=d.trim(),d="> "+d.split(`
`).join(`
> `),d}),r.subParser("makeMarkdown.codeBlock",function(u,f){var d=u.getAttribute("language"),m=u.getAttribute("precodenum");return"```"+d+`
`+f.preList[m]+"\n```"}),r.subParser("makeMarkdown.codeSpan",function(u){return"`"+u.innerHTML+"`"}),r.subParser("makeMarkdown.emphasis",function(u,f){var d="";if(u.hasChildNodes()){d+="*";for(var m=u.childNodes,E=m.length,S=0;S<E;++S)d+=r.subParser("makeMarkdown.node")(m[S],f);d+="*"}return d}),r.subParser("makeMarkdown.header",function(u,f,d){var m=new Array(d+1).join("#"),E="";if(u.hasChildNodes()){E=m+" ";for(var S=u.childNodes,C=S.length,I=0;I<C;++I)E+=r.subParser("makeMarkdown.node")(S[I],f)}return E}),r.subParser("makeMarkdown.hr",function(){return"---"}),r.subParser("makeMarkdown.image",function(u){var f="";return u.hasAttribute("src")&&(f+="!["+u.getAttribute("alt")+"](",f+="<"+u.getAttribute("src")+">",u.hasAttribute("width")&&u.hasAttribute("height")&&(f+=" ="+u.getAttribute("width")+"x"+u.getAttribute("height")),u.hasAttribute("title")&&(f+=' "'+u.getAttribute("title")+'"'),f+=")"),f}),r.subParser("makeMarkdown.links",function(u,f){var d="";if(u.hasChildNodes()&&u.hasAttribute("href")){var m=u.childNodes,E=m.length;d="[";for(var S=0;S<E;++S)d+=r.subParser("makeMarkdown.node")(m[S],f);d+="](",d+="<"+u.getAttribute("href")+">",u.hasAttribute("title")&&(d+=' "'+u.getAttribute("title")+'"'),d+=")"}return d}),r.subParser("makeMarkdown.list",function(u,f,d){var m="";if(!u.hasChildNodes())return"";for(var E=u.childNodes,S=E.length,C=u.getAttribute("start")||1,I=0;I<S;++I)if(!(typeof E[I].tagName>"u"||E[I].tagName.toLowerCase()!=="li")){var x="";d==="ol"?x=C.toString()+". ":x="- ",m+=x+r.subParser("makeMarkdown.listItem")(E[I],f),++C}return m+=`
<!-- -->
`,m.trim()}),r.subParser("makeMarkdown.listItem",function(u,f){for(var d="",m=u.childNodes,E=m.length,S=0;S<E;++S)d+=r.subParser("makeMarkdown.node")(m[S],f);return/\n$/.test(d)?d=d.split(`
`).join(`
    `).replace(/^ {4}$/gm,"").replace(/\n\n+/g,`

`):d+=`
`,d}),r.subParser("makeMarkdown.node",function(u,f,d){d=d||!1;var m="";if(u.nodeType===3)return r.subParser("makeMarkdown.txt")(u,f);if(u.nodeType===8)return"<!--"+u.data+`-->

`;if(u.nodeType!==1)return"";var E=u.tagName.toLowerCase();switch(E){case"h1":d||(m=r.subParser("makeMarkdown.header")(u,f,1)+`

`);break;case"h2":d||(m=r.subParser("makeMarkdown.header")(u,f,2)+`

`);break;case"h3":d||(m=r.subParser("makeMarkdown.header")(u,f,3)+`

`);break;case"h4":d||(m=r.subParser("makeMarkdown.header")(u,f,4)+`

`);break;case"h5":d||(m=r.subParser("makeMarkdown.header")(u,f,5)+`

`);break;case"h6":d||(m=r.subParser("makeMarkdown.header")(u,f,6)+`

`);break;case"p":d||(m=r.subParser("makeMarkdown.paragraph")(u,f)+`

`);break;case"blockquote":d||(m=r.subParser("makeMarkdown.blockquote")(u,f)+`

`);break;case"hr":d||(m=r.subParser("makeMarkdown.hr")(u,f)+`

`);break;case"ol":d||(m=r.subParser("makeMarkdown.list")(u,f,"ol")+`

`);break;case"ul":d||(m=r.subParser("makeMarkdown.list")(u,f,"ul")+`

`);break;case"precode":d||(m=r.subParser("makeMarkdown.codeBlock")(u,f)+`

`);break;case"pre":d||(m=r.subParser("makeMarkdown.pre")(u,f)+`

`);break;case"table":d||(m=r.subParser("makeMarkdown.table")(u,f)+`

`);break;case"code":m=r.subParser("makeMarkdown.codeSpan")(u,f);break;case"em":case"i":m=r.subParser("makeMarkdown.emphasis")(u,f);break;case"strong":case"b":m=r.subParser("makeMarkdown.strong")(u,f);break;case"del":m=r.subParser("makeMarkdown.strikethrough")(u,f);break;case"a":m=r.subParser("makeMarkdown.links")(u,f);break;case"img":m=r.subParser("makeMarkdown.image")(u,f);break;default:m=u.outerHTML+`

`}return m}),r.subParser("makeMarkdown.paragraph",function(u,f){var d="";if(u.hasChildNodes())for(var m=u.childNodes,E=m.length,S=0;S<E;++S)d+=r.subParser("makeMarkdown.node")(m[S],f);return d=d.trim(),d}),r.subParser("makeMarkdown.pre",function(u,f){var d=u.getAttribute("prenum");return"<pre>"+f.preList[d]+"</pre>"}),r.subParser("makeMarkdown.strikethrough",function(u,f){var d="";if(u.hasChildNodes()){d+="~~";for(var m=u.childNodes,E=m.length,S=0;S<E;++S)d+=r.subParser("makeMarkdown.node")(m[S],f);d+="~~"}return d}),r.subParser("makeMarkdown.strong",function(u,f){var d="";if(u.hasChildNodes()){d+="**";for(var m=u.childNodes,E=m.length,S=0;S<E;++S)d+=r.subParser("makeMarkdown.node")(m[S],f);d+="**"}return d}),r.subParser("makeMarkdown.table",function(u,f){var d="",m=[[],[]],E=u.querySelectorAll("thead>tr>th"),S=u.querySelectorAll("tbody>tr"),C,I;for(C=0;C<E.length;++C){var x=r.subParser("makeMarkdown.tableCell")(E[C],f),R="---";if(E[C].hasAttribute("style")){var O=E[C].getAttribute("style").toLowerCase().replace(/\s/g,"");switch(O){case"text-align:left;":R=":---";break;case"text-align:right;":R="---:";break;case"text-align:center;":R=":---:";break}}m[0][C]=x.trim(),m[1][C]=R}for(C=0;C<S.length;++C){var M=m.push([])-1,A=S[C].getElementsByTagName("td");for(I=0;I<E.length;++I){var D=" ";typeof A[I]<"u"&&(D=r.subParser("makeMarkdown.tableCell")(A[I],f)),m[M].push(D)}}var H=3;for(C=0;C<m.length;++C)for(I=0;I<m[C].length;++I){var q=m[C][I].length;q>H&&(H=q)}for(C=0;C<m.length;++C){for(I=0;I<m[C].length;++I)C===1?m[C][I].slice(-1)===":"?m[C][I]=r.helper.padEnd(m[C][I].slice(-1),H-1,"-")+":":m[C][I]=r.helper.padEnd(m[C][I],H,"-"):m[C][I]=r.helper.padEnd(m[C][I],H);d+="| "+m[C].join(" | ")+` |
`}return d.trim()}),r.subParser("makeMarkdown.tableCell",function(u,f){var d="";if(!u.hasChildNodes())return"";for(var m=u.childNodes,E=m.length,S=0;S<E;++S)d+=r.subParser("makeMarkdown.node")(m[S],f,!0);return d.trim()}),r.subParser("makeMarkdown.txt",function(u){var f=u.nodeValue;return f=f.replace(/ +/g," "),f=f.replace(/NBSP;/g," "),f=r.helper.unescapeHTMLEntities(f),f=f.replace(/([*_~|`])/g,"\\$1"),f=f.replace(/^(\s*)>/g,"\\$1>"),f=f.replace(/^#/gm,"\\#"),f=f.replace(/^(\s*)([-=]{3,})(\s*)$/,"$1\\$2$3"),f=f.replace(/^( {0,3}\d+)\./gm,"$1\\."),f=f.replace(/^( {0,3})([+-])/gm,"$1\\$2"),f=f.replace(/]([\s]*)\(/g,"\\]$1\\("),f=f.replace(/^ {0,3}\[([\S \t]*?)]:/gm,"\\[$1]:"),f});var P=this;t.exports?t.exports=r:P.showdown=r}).call(re)})(ev);var G2=ev.exports;const K2=Ai(G2);function tv(t,e){return function(){return t.apply(e,arguments)}}const{toString:Q2}=Object.prototype,{getPrototypeOf:eh}=Object,tl=(t=>e=>{const n=Q2.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ln=t=>(t=t.toLowerCase(),e=>tl(e)===t),nl=t=>e=>typeof e===t,{isArray:Mi}=Array,Ks=nl("undefined");function X2(t){return t!==null&&!Ks(t)&&t.constructor!==null&&!Ks(t.constructor)&&Ot(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const nv=ln("ArrayBuffer");function Y2(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&nv(t.buffer),e}const J2=nl("string"),Ot=nl("function"),rv=nl("number"),rl=t=>t!==null&&typeof t=="object",Z2=t=>t===!0||t===!1,Aa=t=>{if(tl(t)!=="object")return!1;const e=eh(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},e8=ln("Date"),t8=ln("File"),n8=ln("Blob"),r8=ln("FileList"),i8=t=>rl(t)&&Ot(t.pipe),s8=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ot(t.append)&&((e=tl(t))==="formdata"||e==="object"&&Ot(t.toString)&&t.toString()==="[object FormData]"))},o8=ln("URLSearchParams"),a8=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ko(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Mi(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function iv(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const sv=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),ov=t=>!Ks(t)&&t!==sv;function _d(){const{caseless:t}=ov(this)&&this||{},e={},n=(r,i)=>{const s=t&&iv(e,i)||i;Aa(e[s])&&Aa(r)?e[s]=_d(e[s],r):Aa(r)?e[s]=_d({},r):Mi(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&ko(arguments[r],n);return e}const u8=(t,e,n,{allOwnKeys:r}={})=>(ko(e,(i,s)=>{n&&Ot(i)?t[s]=tv(i,n):t[s]=i},{allOwnKeys:r}),t),l8=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),c8=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},d8=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&eh(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},f8=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},h8=t=>{if(!t)return null;if(Mi(t))return t;let e=t.length;if(!rv(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},p8=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&eh(Uint8Array)),m8=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},g8=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},y8=ln("HTMLFormElement"),_8=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),Mm=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),v8=ln("RegExp"),av=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};ko(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},w8=t=>{av(t,(e,n)=>{if(Ot(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Ot(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},E8=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Mi(t)?r(t):r(String(t).split(e)),n},T8=()=>{},S8=(t,e)=>(t=+t,Number.isFinite(t)?t:e),cc="abcdefghijklmnopqrstuvwxyz",xm="0123456789",uv={DIGIT:xm,ALPHA:cc,ALPHA_DIGIT:cc+cc.toUpperCase()+xm},C8=(t=16,e=uv.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function k8(t){return!!(t&&Ot(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const A8=t=>{const e=new Array(10),n=(r,i)=>{if(rl(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Mi(r)?[]:{};return ko(r,(o,a)=>{const l=n(o,i+1);!Ks(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},P8=ln("AsyncFunction"),I8=t=>t&&(rl(t)||Ot(t))&&Ot(t.then)&&Ot(t.catch),N={isArray:Mi,isArrayBuffer:nv,isBuffer:X2,isFormData:s8,isArrayBufferView:Y2,isString:J2,isNumber:rv,isBoolean:Z2,isObject:rl,isPlainObject:Aa,isUndefined:Ks,isDate:e8,isFile:t8,isBlob:n8,isRegExp:v8,isFunction:Ot,isStream:i8,isURLSearchParams:o8,isTypedArray:p8,isFileList:r8,forEach:ko,merge:_d,extend:u8,trim:a8,stripBOM:l8,inherits:c8,toFlatObject:d8,kindOf:tl,kindOfTest:ln,endsWith:f8,toArray:h8,forEachEntry:m8,matchAll:g8,isHTMLForm:y8,hasOwnProperty:Mm,hasOwnProp:Mm,reduceDescriptors:av,freezeMethods:w8,toObjectSet:E8,toCamelCase:_8,noop:T8,toFiniteNumber:S8,findKey:iv,global:sv,isContextDefined:ov,ALPHABET:uv,generateString:C8,isSpecCompliantForm:k8,toJSONObject:A8,isAsyncFn:P8,isThenable:I8};function de(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}N.inherits(de,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:N.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const lv=de.prototype,cv={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{cv[t]={value:t}});Object.defineProperties(de,cv);Object.defineProperty(lv,"isAxiosError",{value:!0});de.from=(t,e,n,r,i,s)=>{const o=Object.create(lv);return N.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),de.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const b8=null;function vd(t){return N.isPlainObject(t)||N.isArray(t)}function dv(t){return N.endsWith(t,"[]")?t.slice(0,-2):t}function Vm(t,e,n){return t?t.concat(e).map(function(i,s){return i=dv(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function R8(t){return N.isArray(t)&&!t.some(vd)}const N8=N.toFlatObject(N,{},null,function(e){return/^is[A-Z]/.test(e)});function il(t,e,n){if(!N.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=N.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,_){return!N.isUndefined(_[w])});const r=n.metaTokens,i=n.visitor||h,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&N.isSpecCompliantForm(e);if(!N.isFunction(i))throw new TypeError("visitor must be a function");function c(T){if(T===null)return"";if(N.isDate(T))return T.toISOString();if(!l&&N.isBlob(T))throw new de("Blob is not supported. Use a Buffer instead.");return N.isArrayBuffer(T)||N.isTypedArray(T)?l&&typeof Blob=="function"?new Blob([T]):Buffer.from(T):T}function h(T,w,_){let g=T;if(T&&!_&&typeof T=="object"){if(N.endsWith(w,"{}"))w=r?w:w.slice(0,-2),T=JSON.stringify(T);else if(N.isArray(T)&&R8(T)||(N.isFileList(T)||N.endsWith(w,"[]"))&&(g=N.toArray(T)))return w=dv(w),g.forEach(function(P,u){!(N.isUndefined(P)||P===null)&&e.append(o===!0?Vm([w],u,s):o===null?w:w+"[]",c(P))}),!1}return vd(T)?!0:(e.append(Vm(_,w,s),c(T)),!1)}const p=[],y=Object.assign(N8,{defaultVisitor:h,convertValue:c,isVisitable:vd});function k(T,w){if(!N.isUndefined(T)){if(p.indexOf(T)!==-1)throw Error("Circular reference detected in "+w.join("."));p.push(T),N.forEach(T,function(g,v){(!(N.isUndefined(g)||g===null)&&i.call(e,g,N.isString(v)?v.trim():v,w,y))===!0&&k(g,w?w.concat(v):[v])}),p.pop()}}if(!N.isObject(t))throw new TypeError("data must be an object");return k(t),e}function Lm(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function th(t,e){this._pairs=[],t&&il(t,this,e)}const fv=th.prototype;fv.append=function(e,n){this._pairs.push([e,n])};fv.toString=function(e){const n=e?function(r){return e.call(this,r,Lm)}:Lm;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function D8(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function hv(t,e,n){if(!e)return t;const r=n&&n.encode||D8,i=n&&n.serialize;let s;if(i?s=i(e,n):s=N.isURLSearchParams(e)?e.toString():new th(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class O8{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){N.forEach(this.handlers,function(r){r!==null&&e(r)})}}const $m=O8,pv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},M8=typeof URLSearchParams<"u"?URLSearchParams:th,x8=typeof FormData<"u"?FormData:null,V8=typeof Blob<"u"?Blob:null,L8=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),$8=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Yt={isBrowser:!0,classes:{URLSearchParams:M8,FormData:x8,Blob:V8},isStandardBrowserEnv:L8,isStandardBrowserWebWorkerEnv:$8,protocols:["http","https","file","blob","url","data"]};function j8(t,e){return il(t,new Yt.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return Yt.isNode&&N.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function F8(t){return N.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function z8(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function mv(t){function e(n,r,i,s){let o=n[s++];const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&N.isArray(i)?i.length:o,l?(N.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!N.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&N.isArray(i[o])&&(i[o]=z8(i[o])),!a)}if(N.isFormData(t)&&N.isFunction(t.entries)){const n={};return N.forEachEntry(t,(r,i)=>{e(F8(r),i,n,0)}),n}return null}function B8(t,e,n){if(N.isString(t))try{return(e||JSON.parse)(t),N.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const nh={transitional:pv,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=N.isObject(e);if(s&&N.isHTMLForm(e)&&(e=new FormData(e)),N.isFormData(e))return i&&i?JSON.stringify(mv(e)):e;if(N.isArrayBuffer(e)||N.isBuffer(e)||N.isStream(e)||N.isFile(e)||N.isBlob(e))return e;if(N.isArrayBufferView(e))return e.buffer;if(N.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return j8(e,this.formSerializer).toString();if((a=N.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return il(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),B8(e)):e}],transformResponse:[function(e){const n=this.transitional||nh.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(e&&N.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?de.from(a,de.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Yt.classes.FormData,Blob:Yt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};N.forEach(["delete","get","head","post","put","patch"],t=>{nh.headers[t]={}});const rh=nh,U8=N.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),H8=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&U8[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},jm=Symbol("internals");function ts(t){return t&&String(t).trim().toLowerCase()}function Pa(t){return t===!1||t==null?t:N.isArray(t)?t.map(Pa):String(t)}function q8(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const W8=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function dc(t,e,n,r,i){if(N.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!N.isString(e)){if(N.isString(r))return e.indexOf(r)!==-1;if(N.isRegExp(r))return r.test(e)}}function G8(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function K8(t,e){const n=N.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class sl{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,c){const h=ts(l);if(!h)throw new Error("header name must be a non-empty string");const p=N.findKey(i,h);(!p||i[p]===void 0||c===!0||c===void 0&&i[p]!==!1)&&(i[p||l]=Pa(a))}const o=(a,l)=>N.forEach(a,(c,h)=>s(c,h,l));return N.isPlainObject(e)||e instanceof this.constructor?o(e,n):N.isString(e)&&(e=e.trim())&&!W8(e)?o(H8(e),n):e!=null&&s(n,e,r),this}get(e,n){if(e=ts(e),e){const r=N.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return q8(i);if(N.isFunction(n))return n.call(this,i,r);if(N.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=ts(e),e){const r=N.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||dc(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=ts(o),o){const a=N.findKey(r,o);a&&(!n||dc(r,r[a],a,n))&&(delete r[a],i=!0)}}return N.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||dc(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return N.forEach(this,(i,s)=>{const o=N.findKey(r,s);if(o){n[o]=Pa(i),delete n[s];return}const a=e?G8(s):String(s).trim();a!==s&&delete n[s],n[a]=Pa(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return N.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&N.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[jm]=this[jm]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=ts(o);r[a]||(K8(i,o),r[a]=!0)}return N.isArray(e)?e.forEach(s):s(e),this}}sl.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);N.reduceDescriptors(sl.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});N.freezeMethods(sl);const _n=sl;function fc(t,e){const n=this||rh,r=e||n,i=_n.from(r.headers);let s=r.data;return N.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function gv(t){return!!(t&&t.__CANCEL__)}function Ao(t,e,n){de.call(this,t??"canceled",de.ERR_CANCELED,e,n),this.name="CanceledError"}N.inherits(Ao,de,{__CANCEL__:!0});function Q8(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new de("Request failed with status code "+n.status,[de.ERR_BAD_REQUEST,de.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const X8=Yt.isStandardBrowserEnv?function(){return{write:function(n,r,i,s,o,a){const l=[];l.push(n+"="+encodeURIComponent(r)),N.isNumber(i)&&l.push("expires="+new Date(i).toGMTString()),N.isString(s)&&l.push("path="+s),N.isString(o)&&l.push("domain="+o),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Y8(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function J8(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function yv(t,e){return t&&!Y8(e)?J8(t,e):e}const Z8=Yt.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(s){let o=s;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(o){const a=N.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function eT(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function tT(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),h=r[s];o||(o=c),n[i]=l,r[i]=c;let p=s,y=0;for(;p!==i;)y+=n[p++],p=p%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),c-o<e)return;const k=h&&c-h;return k?Math.round(y*1e3/k):void 0}}function Fm(t,e){let n=0;const r=tT(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-n,l=r(a),c=s<=o;n=s;const h={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&c?(o-s)/l:void 0,event:i};h[e?"download":"upload"]=!0,t(h)}}const nT=typeof XMLHttpRequest<"u",rT=nT&&function(t){return new Promise(function(n,r){let i=t.data;const s=_n.from(t.headers).normalize(),o=t.responseType;let a;function l(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}let c;N.isFormData(i)&&(Yt.isStandardBrowserEnv||Yt.isStandardBrowserWebWorkerEnv?s.setContentType(!1):s.getContentType(/^\s*multipart\/form-data/)?N.isString(c=s.getContentType())&&s.setContentType(c.replace(/^\s*(multipart\/form-data);+/,"$1")):s.setContentType("multipart/form-data"));let h=new XMLHttpRequest;if(t.auth){const T=t.auth.username||"",w=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(T+":"+w))}const p=yv(t.baseURL,t.url);h.open(t.method.toUpperCase(),hv(p,t.params,t.paramsSerializer),!0),h.timeout=t.timeout;function y(){if(!h)return;const T=_n.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),_={data:!o||o==="text"||o==="json"?h.responseText:h.response,status:h.status,statusText:h.statusText,headers:T,config:t,request:h};Q8(function(v){n(v),l()},function(v){r(v),l()},_),h=null}if("onloadend"in h?h.onloadend=y:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(y)},h.onabort=function(){h&&(r(new de("Request aborted",de.ECONNABORTED,t,h)),h=null)},h.onerror=function(){r(new de("Network Error",de.ERR_NETWORK,t,h)),h=null},h.ontimeout=function(){let w=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const _=t.transitional||pv;t.timeoutErrorMessage&&(w=t.timeoutErrorMessage),r(new de(w,_.clarifyTimeoutError?de.ETIMEDOUT:de.ECONNABORTED,t,h)),h=null},Yt.isStandardBrowserEnv){const T=Z8(p)&&t.xsrfCookieName&&X8.read(t.xsrfCookieName);T&&s.set(t.xsrfHeaderName,T)}i===void 0&&s.setContentType(null),"setRequestHeader"in h&&N.forEach(s.toJSON(),function(w,_){h.setRequestHeader(_,w)}),N.isUndefined(t.withCredentials)||(h.withCredentials=!!t.withCredentials),o&&o!=="json"&&(h.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&h.addEventListener("progress",Fm(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&h.upload&&h.upload.addEventListener("progress",Fm(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=T=>{h&&(r(!T||T.type?new Ao(null,t,h):T),h.abort(),h=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const k=eT(p);if(k&&Yt.protocols.indexOf(k)===-1){r(new de("Unsupported protocol "+k+":",de.ERR_BAD_REQUEST,t));return}h.send(i||null)})},wd={http:b8,xhr:rT};N.forEach(wd,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const zm=t=>`- ${t}`,iT=t=>N.isFunction(t)||t===null||t===!1,_v={getAdapter:t=>{t=N.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!iT(n)&&(r=wd[(o=String(n)).toLowerCase()],r===void 0))throw new de(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(zm).join(`
`):" "+zm(s[0]):"as no adapter specified";throw new de("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:wd};function hc(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ao(null,t)}function Bm(t){return hc(t),t.headers=_n.from(t.headers),t.data=fc.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),_v.getAdapter(t.adapter||rh.adapter)(t).then(function(r){return hc(t),r.data=fc.call(t,t.transformResponse,r),r.headers=_n.from(r.headers),r},function(r){return gv(r)||(hc(t),r&&r.response&&(r.response.data=fc.call(t,t.transformResponse,r.response),r.response.headers=_n.from(r.response.headers))),Promise.reject(r)})}const Um=t=>t instanceof _n?t.toJSON():t;function mi(t,e){e=e||{};const n={};function r(c,h,p){return N.isPlainObject(c)&&N.isPlainObject(h)?N.merge.call({caseless:p},c,h):N.isPlainObject(h)?N.merge({},h):N.isArray(h)?h.slice():h}function i(c,h,p){if(N.isUndefined(h)){if(!N.isUndefined(c))return r(void 0,c,p)}else return r(c,h,p)}function s(c,h){if(!N.isUndefined(h))return r(void 0,h)}function o(c,h){if(N.isUndefined(h)){if(!N.isUndefined(c))return r(void 0,c)}else return r(void 0,h)}function a(c,h,p){if(p in e)return r(c,h);if(p in t)return r(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,h)=>i(Um(c),Um(h),!0)};return N.forEach(Object.keys(Object.assign({},t,e)),function(h){const p=l[h]||i,y=p(t[h],e[h],h);N.isUndefined(y)&&p!==a||(n[h]=y)}),n}const vv="1.6.0",ih={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{ih[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Hm={};ih.transitional=function(e,n,r){function i(s,o){return"[Axios v"+vv+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new de(i(o," has been removed"+(n?" in "+n:"")),de.ERR_DEPRECATED);return n&&!Hm[o]&&(Hm[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function sT(t,e,n){if(typeof t!="object")throw new de("options must be an object",de.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new de("option "+s+" must be "+l,de.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new de("Unknown option "+s,de.ERR_BAD_OPTION)}}const Ed={assertOptions:sT,validators:ih},kn=Ed.validators;class nu{constructor(e){this.defaults=e,this.interceptors={request:new $m,response:new $m}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=mi(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&Ed.assertOptions(r,{silentJSONParsing:kn.transitional(kn.boolean),forcedJSONParsing:kn.transitional(kn.boolean),clarifyTimeoutError:kn.transitional(kn.boolean)},!1),i!=null&&(N.isFunction(i)?n.paramsSerializer={serialize:i}:Ed.assertOptions(i,{encode:kn.function,serialize:kn.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&N.merge(s.common,s[n.method]);s&&N.forEach(["delete","get","head","post","put","patch","common"],T=>{delete s[T]}),n.headers=_n.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(l=l&&w.synchronous,a.unshift(w.fulfilled,w.rejected))});const c=[];this.interceptors.response.forEach(function(w){c.push(w.fulfilled,w.rejected)});let h,p=0,y;if(!l){const T=[Bm.bind(this),void 0];for(T.unshift.apply(T,a),T.push.apply(T,c),y=T.length,h=Promise.resolve(n);p<y;)h=h.then(T[p++],T[p++]);return h}y=a.length;let k=n;for(p=0;p<y;){const T=a[p++],w=a[p++];try{k=T(k)}catch(_){w.call(this,_);break}}try{h=Bm.call(this,k)}catch(T){return Promise.reject(T)}for(p=0,y=c.length;p<y;)h=h.then(c[p++],c[p++]);return h}getUri(e){e=mi(this.defaults,e);const n=yv(e.baseURL,e.url);return hv(n,e.params,e.paramsSerializer)}}N.forEach(["delete","get","head","options"],function(e){nu.prototype[e]=function(n,r){return this.request(mi(r||{},{method:e,url:n,data:(r||{}).data}))}});N.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(mi(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}nu.prototype[e]=n(),nu.prototype[e+"Form"]=n(!0)});const Ia=nu;class sh{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new Ao(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new sh(function(i){e=i}),cancel:e}}}const oT=sh;function aT(t){return function(n){return t.apply(null,n)}}function uT(t){return N.isObject(t)&&t.isAxiosError===!0}const Td={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Td).forEach(([t,e])=>{Td[e]=t});const lT=Td;function wv(t){const e=new Ia(t),n=tv(Ia.prototype.request,e);return N.extend(n,Ia.prototype,e,{allOwnKeys:!0}),N.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return wv(mi(t,i))},n}const Le=wv(rh);Le.Axios=Ia;Le.CanceledError=Ao;Le.CancelToken=oT;Le.isCancel=gv;Le.VERSION=vv;Le.toFormData=il;Le.AxiosError=de;Le.Cancel=Le.CanceledError;Le.all=function(e){return Promise.all(e)};Le.spread=aT;Le.isAxiosError=uT;Le.mergeConfig=mi;Le.AxiosHeaders=_n;Le.formToJSON=t=>mv(N.isHTMLForm(t)?new FormData(t):t);Le.getAdapter=_v.getAdapter;Le.HttpStatusCode=lT;Le.default=Le;const cT=Le;var Ev={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=n.apply(null,s);a&&r.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var l in s)e.call(s,l)&&s[l]&&r.push(l)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(Ev);var dT=Ev.exports;const oh=Ai(dT);function ru(){return ru=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ru.apply(this,arguments)}function fT(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function hT(...t){return e=>t.forEach(n=>fT(n,e))}function Tv(t,e=[]){let n=[];function r(s,o){const a=F.createContext(o),l=n.length;n=[...n,o];function c(p){const{scope:y,children:k,...T}=p,w=(y==null?void 0:y[t][l])||a,_=F.useMemo(()=>T,Object.values(T));return F.createElement(w.Provider,{value:_},k)}function h(p,y){const k=(y==null?void 0:y[t][l])||a,T=F.useContext(k);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,h]}const i=()=>{const s=n.map(o=>F.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return F.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,pT(i,...e)]}function pT(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const p=l(s)[`__scope${c}`];return{...a,...p}},{});return F.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}const ah=F.forwardRef((t,e)=>{const{children:n,...r}=t,i=F.Children.toArray(n),s=i.find(gT);if(s){const o=s.props.children,a=i.map(l=>l===s?F.Children.count(o)>1?F.Children.only(null):F.isValidElement(o)?o.props.children:null:l);return F.createElement(Sd,ru({},r,{ref:e}),F.isValidElement(o)?F.cloneElement(o,void 0,a):null)}return F.createElement(Sd,ru({},r,{ref:e}),n)});ah.displayName="Slot";const Sd=F.forwardRef((t,e)=>{const{children:n,...r}=t;return F.isValidElement(n)?F.cloneElement(n,{...yT(r,n.props),ref:e?hT(e,n.ref):n.ref}):F.Children.count(n)>1?F.Children.only(null):null});Sd.displayName="SlotClone";const mT=({children:t})=>F.createElement(F.Fragment,null,t);function gT(t){return F.isValidElement(t)&&t.type===mT}function yT(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}const Sv="Popper",[Cv,kv]=Tv(Sv);Cv(Sv);const _T="PopperContent";Cv(_T);const[ol,X6]=Tv("Tooltip",[kv]);kv();const vT="TooltipProvider",wT=700,[ET,Y6]=ol(vT),TT=t=>{const{__scopeTooltip:e,delayDuration:n=wT,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,[o,a]=F.useState(!0),l=F.useRef(!1),c=F.useRef(0);return F.useEffect(()=>{const h=c.current;return()=>window.clearTimeout(h)},[]),F.createElement(ET,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:F.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:F.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:F.useCallback(h=>{l.current=h},[]),disableHoverableContent:i},s)},Av="Tooltip";ol(Av);const ST="TooltipPortal";ol(ST,{forceMount:void 0});ol(Av,{isInside:!1});const CT=TT,kT=F.createContext(void 0),AT=t=>{const{dir:e,children:n}=t;return F.createElement(kT.Provider,{value:e},n)},PT=["tomato","red","ruby","crimson","pink","plum","purple","violet","iris","indigo","blue","cyan","teal","jade","green","grass","brown","orange"],IT=["sky","mint","lime","yellow","amber"],bT=["gold","bronze"],RT=[...PT,...IT,...bT],NT="gray",DT=["mauve","slate","sage","olive","sand"],OT=[NT,...DT];function MT(t){switch(t){case"tomato":case"red":case"ruby":case"crimson":case"pink":case"plum":case"purple":case"violet":return"mauve";case"iris":case"indigo":case"blue":case"sky":case"cyan":return"slate";case"teal":case"jade":case"mint":case"green":return"sage";case"grass":case"lime":return"olive";case"yellow":case"amber":case"orange":case"brown":case"gold":case"bronze":return"sand"}}const xT=["inherit","light","dark"],VT=[...RT,"gray"],LT=[...OT,"auto"],$T=["solid","translucent"],jT=["none","small","medium","large","full"],FT=["90%","95%","100%","105%","110%"],ht={hasBackground:{type:"boolean",default:!0},appearance:{type:"enum",values:xT,default:"inherit"},accentColor:{type:"enum",values:VT,default:"indigo"},grayColor:{type:"enum",values:LT,default:"auto"},panelBackground:{type:"enum",values:$T,default:"translucent"},radius:{type:"enum",values:jT,default:"medium"},scaling:{type:"enum",values:FT,default:"100%"}};function Pv(t){return t==="gray"?"gray":MT(t)}const xr=()=>{},Cd=F.createContext(void 0),uh=F.forwardRef((t,e)=>F.useContext(Cd)===void 0?F.createElement(CT,null,F.createElement(AT,{dir:"ltr"},F.createElement(Iv,{...t,ref:e}))):F.createElement(lh,{...t,ref:e}));uh.displayName="Theme";const Iv=F.forwardRef((t,e)=>{const{appearance:n=ht.appearance.default,accentColor:r=ht.accentColor.default,grayColor:i=ht.grayColor.default,panelBackground:s=ht.panelBackground.default,radius:o=ht.radius.default,scaling:a=ht.scaling.default,hasBackground:l=ht.hasBackground.default,...c}=t,[h,p]=F.useState(n);F.useEffect(()=>p(n),[n]);const[y,k]=F.useState(r);F.useEffect(()=>k(r),[r]);const[T,w]=F.useState(i);F.useEffect(()=>w(i),[i]);const[_,g]=F.useState(s);F.useEffect(()=>g(s),[s]);const[v,P]=F.useState(o);F.useEffect(()=>P(o),[o]);const[u,f]=F.useState(a);F.useEffect(()=>f(a),[a]);const d=F.memo(({appearance:E})=>F.createElement("script",{dangerouslySetInnerHTML:{__html:`!(function(){try{var d=document.documentElement,c=d.classList;c.remove('light','dark');d.style.colorScheme='${E}';c.add('${E}');}catch(e){}})();`}}),()=>!0);d.displayName="ExplicitRootAppearanceScript",F.useEffect(()=>zT(n),[n]);const m=T==="auto"?Pv(y):T;return F.createElement(F.Fragment,null,h!=="inherit"&&F.createElement(d,{appearance:h}),l&&F.createElement("style",{dangerouslySetInnerHTML:{__html:`
:root, .light, .light-theme { --color-page-background: white; }
.dark, .dark-theme { --color-page-background: var(--${m}-1); }
body { background-color: var(--color-page-background); }
`}}),F.createElement(lh,{...c,ref:e,isRoot:!0,hasBackground:l,appearance:h,accentColor:y,grayColor:T,panelBackground:_,radius:v,scaling:u,onAppearanceChange:p,onAccentColorChange:k,onGrayColorChange:w,onPanelBackgroundChange:g,onRadiusChange:P,onScalingChange:f}))});Iv.displayName="ThemeRoot";const lh=F.forwardRef((t,e)=>{var n,r,i,s,o,a;const l=F.useContext(Cd),{asChild:c,isRoot:h,hasBackground:p,appearance:y=(n=l==null?void 0:l.appearance)!==null&&n!==void 0?n:ht.appearance.default,accentColor:k=(r=l==null?void 0:l.accentColor)!==null&&r!==void 0?r:ht.accentColor.default,grayColor:T=(i=l==null?void 0:l.resolvedGrayColor)!==null&&i!==void 0?i:ht.grayColor.default,panelBackground:w=(s=l==null?void 0:l.panelBackground)!==null&&s!==void 0?s:ht.panelBackground.default,radius:_=(o=l==null?void 0:l.radius)!==null&&o!==void 0?o:ht.radius.default,scaling:g=(a=l==null?void 0:l.scaling)!==null&&a!==void 0?a:ht.scaling.default,onAppearanceChange:v=xr,onAccentColorChange:P=xr,onGrayColorChange:u=xr,onPanelBackgroundChange:f=xr,onRadiusChange:d=xr,onScalingChange:m=xr,...E}=t,S=c?ah:"div",C=T==="auto"?Pv(k):T,I=t.appearance!==void 0&&t.appearance!=="inherit",x=t.grayColor!==void 0,R=!h&&(p===!0||p!==!1&&(I||x));return F.createElement(Cd.Provider,{value:F.useMemo(()=>({appearance:y,accentColor:k,grayColor:T,resolvedGrayColor:C,panelBackground:w,radius:_,scaling:g,onAppearanceChange:v,onAccentColorChange:P,onGrayColorChange:u,onPanelBackgroundChange:f,onRadiusChange:d,onScalingChange:m}),[y,k,T,C,w,_,g,v,P,u,f,d,m])},F.createElement(S,{"data-is-root-theme":h?"true":"false","data-accent-color":k,"data-gray-color":C,"data-has-background":R?"true":"false","data-panel-background":w,"data-radius":_,"data-scaling":g,ref:e,...E,className:oh("radix-themes",{light:!h&&y==="light",dark:!h&&y==="dark"},E.className)}))});lh.displayName="ThemeImpl";function zT(t){if(t==="inherit")return;const e=document.documentElement;(e.classList.contains("light-theme")||e.classList.contains("dark-theme"))&&(e.classList.remove("light-theme","dark-theme"),e.style.colorScheme=t,e.classList.add(`${t}-theme`)),(e.classList.contains("light")||e.classList.contains("dark"))&&(e.classList.remove("light","dark"),e.style.colorScheme=t,e.classList.add(t))}const BT={type:"enum",values:ht.accentColor.values,default:void 0},UT={type:"boolean",default:void 0};function An(t,e="",n){var r,i,s,o;const a=[];if(typeof t=="object"){for(const l of Object.keys(t))if(l in t){const c=(r=t[l])===null||r===void 0?void 0:r.toString(),h=c==null?void 0:c.startsWith("-"),p=e===""?"":"-",y=h?`-${e}`:e,k=h?c==null?void 0:c.substring(1):c;if(k===void 0)continue;const T=(i=n==null?void 0:n[k])!==null&&i!==void 0?i:k,w=l==="initial"?`${y}${p}${T}`:`${l}:${y}${p}${T}`;a.push(w)}}if(typeof t=="string"){const l=t.startsWith("-"),c=e===""?"":"-",h=l?`-${e}`:e,p=l?t.substring(1):t,y=(s=n==null?void 0:n[p])!==null&&s!==void 0?s:p;a.push(`${h}${c}${y}`)}if(typeof t=="boolean"){const l=e===""?"":"-",c=t.toString(),h=(o=n==null?void 0:n[c])!==null&&o!==void 0?o:c;a.push(`${e}${l}${h}`)}return a.join(" ")}const sr=["auto","0","1","2","3","4","5","6","7","8","9","-1","-2","-3","-4","-5","-6","-7","-8","-9"],or={m:{type:"enum",values:sr,default:void 0,responsive:!0},mx:{type:"enum",values:sr,default:void 0,responsive:!0},my:{type:"enum",values:sr,default:void 0,responsive:!0},mt:{type:"enum",values:sr,default:void 0,responsive:!0},mr:{type:"enum",values:sr,default:void 0,responsive:!0},mb:{type:"enum",values:sr,default:void 0,responsive:!0},ml:{type:"enum",values:sr,default:void 0,responsive:!0}};function HT(t){const{m:e=or.m.default,mx:n=or.mx.default,my:r=or.my.default,mt:i=or.mt.default,mr:s=or.mr.default,mb:o=or.mb.default,ml:a=or.ml.default,...l}=t;return{m:e,mx:n,my:r,mt:i,mr:s,mb:o,ml:a,rest:l}}function qT(t){return[An(t.m,"rt-r-m"),An(t.mx,"rt-r-mx"),An(t.my,"rt-r-my"),An(t.mt,"rt-r-mt"),An(t.mr,"rt-r-mr"),An(t.mb,"rt-r-mb"),An(t.ml,"rt-r-ml")].filter(Boolean).join(" ")}const WT={type:"enum",values:ht.radius.values,default:void 0},GT=["1","2","3","4"],KT=["classic","solid","soft","surface","outline","ghost"],ns={size:{type:"enum",values:GT,default:"2",responsive:!0},variant:{type:"enum",values:KT,default:"solid"},color:BT,highContrast:UT,radius:WT},bv=F.forwardRef((t,e)=>{const{rest:n,...r}=HT(t),{className:i,asChild:s=!1,size:o=ns.size.default,variant:a=ns.variant.default,color:l=ns.color.default,highContrast:c=ns.highContrast.default,radius:h=ns.radius.default,...p}=n,y=s?ah:"button";return F.createElement(y,{"data-disabled":p.disabled||void 0,"data-accent-color":l,"data-radius":h,...p,ref:e,className:oh("rt-reset","rt-BaseButton",i,An(o,"rt-r-size"),`rt-variant-${a}`,{"rt-high-contrast":c},qT(r))})});bv.displayName="BaseButton";const ch=F.forwardRef((t,e)=>F.createElement(bv,{...t,ref:e,className:oh("rt-Button",t.className)}));ch.displayName="Button";function qm({tempNoteText:t,setTempNoteText:e,updateNote:n,currentNote:r,show:i,noteId:s}){const[o,a]=Ge.useState("write"),[l,c]=Ge.useState(),[h,p]=Ge.useState("pointer"),[y,k]=Ge.useState("dark");Ge.useState(null);const[T,w]=Ge.useState("materialScience"),[_,g]=Ge.useState({tables:!0,strikethrough:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCodeBlocks:!0,ghMentions:!0,literalMidWordAsterisks:!0,parseImgDimensions:!0,encodeEmails:!0,backslashEscapesHTMLTags:!0,emoji:!0,simplifiedAutoLink:!0,splitAdjacentBlockQuotes:!0,ghAtxHeaderSpace:!0,disableForced4SpacesIndentedSublists:!0}),v=new K2.Converter(_);function P(d){d.preventDefault(),c(d.target.value)}function u(d){w(d.target.value)}console.log(T);async function f(){if(l!==void 0&&T!==""){const d=T==="materialScience"?"any url":"https://4juu4naa5hf4toxfq4dxe54iky0vccaw.lambda-url.us-west-1.on.aws/stream";console.log(`the material is ${T} and the apiURL is ${d}`),p(S=>"wait");let m;T==="manufacturing"?(m={question:l,session_id:s},console.log(m)):m={query:l};let E;cT.post(d,JSON.stringify(m)).then(S=>{E=S.data.response,n(`${r==null?void 0:r.body}
          ------------------------
          Question : ${l}
           Answer : ${E} `),p(C=>"pointer"),console.log("transaction successfull")}).catch(S=>{alert(S),p(C=>"pointer")})}else alert("please fill in the question box")}return ce.jsx("section",{className:"pane editor",style:{width:"100vw"},children:ce.jsxs("div",{children:[ce.jsxs("div",{className:"form-container",children:[ce.jsx("div",{children:ce.jsxs("select",{className:window.innerWidth<400?"select--box--mobile":"select--box",onChange:u,value:T,children:[ce.jsx("option",{value:"materialScience",children:"materialScience"}),ce.jsx("option",{value:"manufacturing",children:"manufacturing"}),ce.jsx("option",{value:"general",children:"general"})]})}),ce.jsx("input",{type:"text",placeholder:"ask a question to take a note ",onChange:P,onKeyDown:d=>{d.key==="Enter"&&f()},style:{minHeight:"30px",flex:"1",resize:"vertical",overflowY:"auto",borderRadius:"10px",border:"solid 1px grey",width:"60%"},className:"editor--input--text"}),ce.jsx(uh,{accentColor:"sky",grayColor:"sand",radius:"large",children:ce.jsx(ch,{style:{marginLeft:"20px",padding:"5px  20px",margin:"10px",cursor:`${h}`},onClick:h==="pointer"?()=>f():()=>{console.log("wait")},className:"submit--button",children:h==="wait"?"loading ...":"submit"})})]}),ce.jsx(W2,{value:t,onChange:e,selectedTab:o,onTabChange:a,generateMarkdownPreview:d=>Promise.resolve(v.makeHtml(d)),minEditorHeight:60,heightUnits:"vh",classes:{preview:y},disablePreview:!1})]})})}var Rv={exports:{}},QT="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",XT=QT,YT=XT;function Nv(){}function Dv(){}Dv.resetWarningCache=Nv;var JT=function(){function t(r,i,s,o,a,l){if(l!==YT){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Dv,resetWarningCache:Nv};return n.PropTypes=n,n};Rv.exports=JT();var ZT=Rv.exports;const ge=Ai(ZT);var Pt=typeof window<"u"?window:null,dh=Pt===null,Qs=dh?void 0:Pt.document,$t="addEventListener",jt="removeEventListener",pc="getBoundingClientRect",rs="_a",Ft="_b",dn="_c",ia="horizontal",zt=function(){return!1},eS=dh?"calc":["","-webkit-","-moz-","-o-"].filter(function(t){var e=Qs.createElement("div");return e.style.cssText="width:"+t+"calc(9px)",!!e.style.length}).shift()+"calc",Ov=function(t){return typeof t=="string"||t instanceof String},Wm=function(t){if(Ov(t)){var e=Qs.querySelector(t);if(!e)throw new Error("Selector "+t+" did not match a DOM element");return e}return t},nt=function(t,e,n){var r=t[e];return r!==void 0?r:n},sa=function(t,e,n,r){if(e){if(r==="end")return 0;if(r==="center")return t/2}else if(n){if(r==="start")return 0;if(r==="center")return t/2}return t},tS=function(t,e){var n=Qs.createElement("div");return n.className="gutter gutter-"+e,n},nS=function(t,e,n){var r={};return Ov(e)?r[t]=e:r[t]=eS+"("+e+"% - "+n+"px)",r},rS=function(t,e){var n;return n={},n[t]=e+"px",n},Gm=function(t,e){if(e===void 0&&(e={}),dh)return{};var n=t,r,i,s,o,a,l;Array.from&&(n=Array.from(n));var c=Wm(n[0]),h=c.parentNode,p=getComputedStyle?getComputedStyle(h):null,y=p?p.flexDirection:null,k=nt(e,"sizes")||n.map(function(){return 100/n.length}),T=nt(e,"minSize",100),w=Array.isArray(T)?T:n.map(function(){return T}),_=nt(e,"maxSize",1/0),g=Array.isArray(_)?_:n.map(function(){return _}),v=nt(e,"expandToMin",!1),P=nt(e,"gutterSize",10),u=nt(e,"gutterAlign","center"),f=nt(e,"snapOffset",30),d=Array.isArray(f)?f:n.map(function(){return f}),m=nt(e,"dragInterval",1),E=nt(e,"direction",ia),S=nt(e,"cursor",E===ia?"col-resize":"row-resize"),C=nt(e,"gutter",tS),I=nt(e,"elementStyle",nS),x=nt(e,"gutterStyle",rS);E===ia?(r="width",i="clientX",s="left",o="right",a="clientWidth"):E==="vertical"&&(r="height",i="clientY",s="top",o="bottom",a="clientHeight");function R(z,V,B,X){var De=I(r,V,B,X);Object.keys(De).forEach(function(Ae){z.style[Ae]=De[Ae]})}function O(z,V,B){var X=x(r,V,B);Object.keys(X).forEach(function(De){z.style[De]=X[De]})}function M(){return l.map(function(z){return z.size})}function A(z){return"touches"in z?z.touches[0][i]:z[i]}function D(z){var V=l[this.a],B=l[this.b],X=V.size+B.size;V.size=z/this.size*X,B.size=X-z/this.size*X,R(V.element,V.size,this[Ft],V.i),R(B.element,B.size,this[dn],B.i)}function H(z){var V,B=l[this.a],X=l[this.b];this.dragging&&(V=A(z)-this.start+(this[Ft]-this.dragOffset),m>1&&(V=Math.round(V/m)*m),V<=B.minSize+B.snapOffset+this[Ft]?V=B.minSize+this[Ft]:V>=this.size-(X.minSize+X.snapOffset+this[dn])&&(V=this.size-(X.minSize+this[dn])),V>=B.maxSize-B.snapOffset+this[Ft]?V=B.maxSize+this[Ft]:V<=this.size-(X.maxSize-X.snapOffset+this[dn])&&(V=this.size-(X.maxSize+this[dn])),D.call(this,V),nt(e,"onDrag",zt)(M()))}function q(){var z=l[this.a].element,V=l[this.b].element,B=z[pc](),X=V[pc]();this.size=B[r]+X[r]+this[Ft]+this[dn],this.start=B[s],this.end=B[o]}function ae(z){if(!getComputedStyle)return null;var V=getComputedStyle(z);if(!V)return null;var B=z[a];return B===0?null:(E===ia?B-=parseFloat(V.paddingLeft)+parseFloat(V.paddingRight):B-=parseFloat(V.paddingTop)+parseFloat(V.paddingBottom),B)}function b(z){var V=ae(h);if(V===null||w.reduce(function(Ae,Et){return Ae+Et},0)>V)return z;var B=0,X=[],De=z.map(function(Ae,Et){var rr=V*Ae/100,Bo=sa(P,Et===0,Et===z.length-1,u),Uo=w[Et]+Bo;return rr<Uo?(B+=Uo-rr,X.push(0),Uo):(X.push(rr-Uo),rr)});return B===0?z:De.map(function(Ae,Et){var rr=Ae;if(B>0&&X[Et]-B>0){var Bo=Math.min(B,X[Et]-B);B-=Bo,rr=Ae-Bo}return rr/V*100})}function W(){var z=this,V=l[z.a].element,B=l[z.b].element;z.dragging&&nt(e,"onDragEnd",zt)(M()),z.dragging=!1,Pt[jt]("mouseup",z.stop),Pt[jt]("touchend",z.stop),Pt[jt]("touchcancel",z.stop),Pt[jt]("mousemove",z.move),Pt[jt]("touchmove",z.move),z.stop=null,z.move=null,V[jt]("selectstart",zt),V[jt]("dragstart",zt),B[jt]("selectstart",zt),B[jt]("dragstart",zt),V.style.userSelect="",V.style.webkitUserSelect="",V.style.MozUserSelect="",V.style.pointerEvents="",B.style.userSelect="",B.style.webkitUserSelect="",B.style.MozUserSelect="",B.style.pointerEvents="",z.gutter.style.cursor="",z.parent.style.cursor="",Qs.body.style.cursor=""}function Q(z){if(!("button"in z&&z.button!==0)){var V=this,B=l[V.a].element,X=l[V.b].element;V.dragging||nt(e,"onDragStart",zt)(M()),z.preventDefault(),V.dragging=!0,V.move=H.bind(V),V.stop=W.bind(V),Pt[$t]("mouseup",V.stop),Pt[$t]("touchend",V.stop),Pt[$t]("touchcancel",V.stop),Pt[$t]("mousemove",V.move),Pt[$t]("touchmove",V.move),B[$t]("selectstart",zt),B[$t]("dragstart",zt),X[$t]("selectstart",zt),X[$t]("dragstart",zt),B.style.userSelect="none",B.style.webkitUserSelect="none",B.style.MozUserSelect="none",B.style.pointerEvents="none",X.style.userSelect="none",X.style.webkitUserSelect="none",X.style.MozUserSelect="none",X.style.pointerEvents="none",V.gutter.style.cursor=S,V.parent.style.cursor=S,Qs.body.style.cursor=S,q.call(V),V.dragOffset=A(z)-V.end}}k=b(k);var se=[];l=n.map(function(z,V){var B={element:Wm(z),size:k[V],minSize:w[V],maxSize:g[V],snapOffset:d[V],i:V},X;if(V>0&&(X={a:V-1,b:V,dragging:!1,direction:E,parent:h},X[Ft]=sa(P,V-1===0,!1,u),X[dn]=sa(P,!1,V===n.length-1,u),y==="row-reverse"||y==="column-reverse")){var De=X.a;X.a=X.b,X.b=De}if(V>0){var Ae=C(V,E,B.element);O(Ae,P,V),X[rs]=Q.bind(X),Ae[$t]("mousedown",X[rs]),Ae[$t]("touchstart",X[rs]),h.insertBefore(Ae,B.element),X.gutter=Ae}return R(B.element,B.size,sa(P,V===0,V===n.length-1,u),V),V>0&&se.push(X),B});function oe(z){var V=z.i===se.length,B=V?se[z.i-1]:se[z.i];q.call(B);var X=V?B.size-z.minSize-B[dn]:z.minSize+B[Ft];D.call(B,X)}l.forEach(function(z){var V=z.element[pc]()[r];V<z.minSize&&(v?oe(z):z.minSize=V)});function _e(z){var V=b(z);V.forEach(function(B,X){if(X>0){var De=se[X-1],Ae=l[De.a],Et=l[De.b];Ae.size=V[X-1],Et.size=B,R(Ae.element,Ae.size,De[Ft],Ae.i),R(Et.element,Et.size,De[dn],Et.i)}})}function ke(z,V){se.forEach(function(B){if(V!==!0?B.parent.removeChild(B.gutter):(B.gutter[jt]("mousedown",B[rs]),B.gutter[jt]("touchstart",B[rs])),z!==!0){var X=I(r,B.a.size,B[Ft]);Object.keys(X).forEach(function(De){l[B.a].element.style[De]="",l[B.b].element.style[De]=""})}})}return{setSizes:_e,getSizes:M,collapse:function(V){oe(l[V])},destroy:ke,parent:h,pairs:se}};function mc(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)===-1&&(n[r]=t[r]);return n}var fh=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.componentDidMount=function(){var r=this.props;r.children;var i=r.gutter,s=mc(r,["children","gutter"]),o=s;o.gutter=function(a,l){var c;return i?c=i(a,l):(c=document.createElement("div"),c.className="gutter gutter-"+l),c.__isSplitGutter=!0,c},this.split=Gm(this.parent.children,o)},e.prototype.componentDidUpdate=function(r){var i=this,s=this.props;s.children;var o=s.minSize,a=s.sizes,l=s.collapsed,c=mc(s,["children","minSize","sizes","collapsed"]),h=c,p=r.minSize,y=r.sizes,k=r.collapsed,T=["maxSize","expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","direction","cursor"],w=T.map(function(v){return i.props[v]!==r[v]}).reduce(function(v,P){return v||P},!1);if(Array.isArray(o)&&Array.isArray(p)){var _=!1;o.forEach(function(v,P){_=_||v!==p[P]}),w=w||_}else Array.isArray(o)||Array.isArray(p)?w=!0:w=w||o!==p;if(w)h.minSize=o,h.sizes=a||this.split.getSizes(),this.split.destroy(!0,!0),h.gutter=function(v,P,u){return u.previousSibling},this.split=Gm(Array.from(this.parent.children).filter(function(v){return!v.__isSplitGutter}),h);else if(a){var g=!1;a.forEach(function(v,P){g=g||v!==y[P]}),g&&this.split.setSizes(this.props.sizes)}Number.isInteger(l)&&(l!==k||w)&&this.split.collapse(l)},e.prototype.componentWillUnmount=function(){this.split.destroy(),delete this.split},e.prototype.render=function(){var r=this,i=this.props;i.sizes,i.minSize,i.maxSize,i.expandToMin,i.gutterSize,i.gutterAlign,i.snapOffset,i.dragInterval,i.direction,i.cursor,i.gutter,i.elementStyle,i.gutterStyle,i.onDrag,i.onDragStart,i.onDragEnd,i.collapsed;var s=i.children,o=mc(i,["sizes","minSize","maxSize","expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","direction","cursor","gutter","elementStyle","gutterStyle","onDrag","onDragStart","onDragEnd","collapsed","children"]),a=o;return Ge.createElement("div",Object.assign({},{ref:function(l){r.parent=l}},a),s)},e}(Ge.Component);fh.propTypes={sizes:ge.arrayOf(ge.number),minSize:ge.oneOfType([ge.number,ge.arrayOf(ge.number)]),maxSize:ge.oneOfType([ge.number,ge.arrayOf(ge.number)]),expandToMin:ge.bool,gutterSize:ge.number,gutterAlign:ge.string,snapOffset:ge.number,dragInterval:ge.number,direction:ge.string,cursor:ge.string,gutter:ge.func,elementStyle:ge.func,gutterStyle:ge.func,onDrag:ge.func,onDragStart:ge.func,onDragEnd:ge.func,collapsed:ge.number,children:ge.arrayOf(ge.element)};fh.defaultProps={sizes:void 0,minSize:void 0,maxSize:void 0,expandToMin:void 0,gutterSize:void 0,gutterAlign:void 0,snapOffset:void 0,dragInterval:void 0,direction:void 0,cursor:void 0,gutter:void 0,elementStyle:void 0,gutterStyle:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0,collapsed:void 0,children:void 0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},iS=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},xv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,h=s>>2,p=(s&3)<<4|a>>4;let y=(a&15)<<2|c>>6,k=c&63;l||(k=64,o||(y=64)),r.push(n[h],n[p],n[y],n[k])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Mv(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):iS(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||p==null)throw new sS;const y=s<<2|a>>4;if(r.push(y),c!==64){const k=a<<4&240|c>>2;if(r.push(k),p!==64){const T=c<<6&192|p;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class sS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oS=function(t){const e=Mv(t);return xv.encodeByteArray(e,!0)},iu=function(t){return oS(t).replace(/\./g,"")},aS=function(t){try{return xv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS=()=>uS().__FIREBASE_DEFAULTS__,cS=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},dS=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&aS(t[1]);return e&&JSON.parse(e)},Vv=()=>{try{return lS()||cS()||dS()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},fS=t=>{var e,n;return(n=(e=Vv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},hS=t=>{const e=fS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Lv=()=>{var t;return(t=Vv())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[iu(JSON.stringify(n)),iu(JSON.stringify(o)),a].join(".")}function gS(){try{return typeof indexedDB=="object"}catch{return!1}}function yS(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S="FirebaseError";class xi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=_S,Object.setPrototypeOf(this,xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$v.prototype.create)}}class $v{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?vS(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new xi(i,a,r)}}function vS(t,e){return t.replace(wS,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const wS=/\{\$([^}]+)}/g;function kd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Km(s)&&Km(o)){if(!kd(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Km(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(t){return t&&t._delegate?t._delegate:t}class Xs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new pS;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(SS(e))try{this.getOrInitializeService({instanceIdentifier:ur})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ur){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ur){return this.instances.has(e)}getOptions(e=ur){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:TS(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ur){return this.component?this.component.multipleInstances?e:ur:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TS(t){return t===ur?void 0:t}function SS(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ES(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(fe||(fe={}));const kS={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},AS=fe.INFO,PS={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},IS=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=PS[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class jv{constructor(e){this.name=e,this._logLevel=AS,this._logHandler=IS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}}const bS=(t,e)=>e.some(n=>t instanceof n);let Qm,Xm;function RS(){return Qm||(Qm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NS(){return Xm||(Xm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Fv=new WeakMap,Ad=new WeakMap,zv=new WeakMap,gc=new WeakMap,hh=new WeakMap;function DS(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(zn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Fv.set(n,t)}).catch(()=>{}),hh.set(e,t),e}function OS(t){if(Ad.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Ad.set(t,e)}let Pd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ad.get(t);if(e==="objectStoreNames")return t.objectStoreNames||zv.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function MS(t){Pd=t(Pd)}function xS(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(yc(this),e,...n);return zv.set(r,e.sort?e.sort():[e]),zn(r)}:NS().includes(t)?function(...e){return t.apply(yc(this),e),zn(Fv.get(this))}:function(...e){return zn(t.apply(yc(this),e))}}function VS(t){return typeof t=="function"?xS(t):(t instanceof IDBTransaction&&OS(t),bS(t,RS())?new Proxy(t,Pd):t)}function zn(t){if(t instanceof IDBRequest)return DS(t);if(gc.has(t))return gc.get(t);const e=VS(t);return e!==t&&(gc.set(t,e),hh.set(e,t)),e}const yc=t=>hh.get(t);function LS(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=zn(o);return r&&o.addEventListener("upgradeneeded",l=>{r(zn(o.result),l.oldVersion,l.newVersion,zn(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const $S=["get","getKey","getAll","getAllKeys","count"],jS=["put","add","delete","clear"],_c=new Map;function Ym(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(_c.get(e))return _c.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=jS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||$S.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return _c.set(e,s),s}MS(t=>({...t,get:(e,n,r)=>Ym(e,n)||t.get(e,n,r),has:(e,n)=>!!Ym(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(zS(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function zS(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Id="@firebase/app",Jm="0.9.22";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr=new jv("@firebase/app"),BS="@firebase/app-compat",US="@firebase/analytics-compat",HS="@firebase/analytics",qS="@firebase/app-check-compat",WS="@firebase/app-check",GS="@firebase/auth",KS="@firebase/auth-compat",QS="@firebase/database",XS="@firebase/database-compat",YS="@firebase/functions",JS="@firebase/functions-compat",ZS="@firebase/installations",eC="@firebase/installations-compat",tC="@firebase/messaging",nC="@firebase/messaging-compat",rC="@firebase/performance",iC="@firebase/performance-compat",sC="@firebase/remote-config",oC="@firebase/remote-config-compat",aC="@firebase/storage",uC="@firebase/storage-compat",lC="@firebase/firestore",cC="@firebase/firestore-compat",dC="firebase",fC="10.5.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd="[DEFAULT]",hC={[Id]:"fire-core",[BS]:"fire-core-compat",[HS]:"fire-analytics",[US]:"fire-analytics-compat",[WS]:"fire-app-check",[qS]:"fire-app-check-compat",[GS]:"fire-auth",[KS]:"fire-auth-compat",[QS]:"fire-rtdb",[XS]:"fire-rtdb-compat",[YS]:"fire-fn",[JS]:"fire-fn-compat",[ZS]:"fire-iid",[eC]:"fire-iid-compat",[tC]:"fire-fcm",[nC]:"fire-fcm-compat",[rC]:"fire-perf",[iC]:"fire-perf-compat",[sC]:"fire-rc",[oC]:"fire-rc-compat",[aC]:"fire-gcs",[uC]:"fire-gcs-compat",[lC]:"fire-fst",[cC]:"fire-fst-compat","fire-js":"fire-js",[dC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=new Map,Rd=new Map;function pC(t,e){try{t.container.addComponent(e)}catch(n){Sr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ou(t){const e=t.name;if(Rd.has(e))return Sr.debug(`There were multiple attempts to register component ${e}.`),!1;Rd.set(e,t);for(const n of su.values())pC(n,t);return!0}function mC(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Bn=new $v("app","Firebase",gC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=fC;function Bv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:bd,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Bn.create("bad-app-name",{appName:String(i)});if(n||(n=Lv()),!n)throw Bn.create("no-options");const s=su.get(i);if(s){if(kd(n,s.options)&&kd(r,s.config))return s;throw Bn.create("duplicate-app",{appName:i})}const o=new CS(i);for(const l of Rd.values())o.addComponent(l);const a=new yC(n,r,o);return su.set(i,a),a}function vC(t=bd){const e=su.get(t);if(!e&&t===bd&&Lv())return Bv();if(!e)throw Bn.create("no-app",{appName:t});return e}function ai(t,e,n){var r;let i=(r=hC[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Sr.warn(a.join(" "));return}ou(new Xs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC="firebase-heartbeat-database",EC=1,Ys="firebase-heartbeat-store";let vc=null;function Uv(){return vc||(vc=LS(wC,EC,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ys)}}}).catch(t=>{throw Bn.create("idb-open",{originalErrorMessage:t.message})})),vc}async function TC(t){try{return await(await Uv()).transaction(Ys).objectStore(Ys).get(Hv(t))}catch(e){if(e instanceof xi)Sr.warn(e.message);else{const n=Bn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Sr.warn(n.message)}}}async function Zm(t,e){try{const r=(await Uv()).transaction(Ys,"readwrite");await r.objectStore(Ys).put(e,Hv(t)),await r.done}catch(n){if(n instanceof xi)Sr.warn(n.message);else{const r=Bn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Sr.warn(r.message)}}}function Hv(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC=1024,CC=30*24*60*60*1e3;class kC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new PC(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=eg();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=CC}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=eg(),{heartbeatsToSend:n,unsentEntries:r}=AC(this._heartbeatsCache.heartbeats),i=iu(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function eg(){return new Date().toISOString().substring(0,10)}function AC(t,e=SC){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),tg(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),tg(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class PC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gS()?yS().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await TC(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Zm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Zm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function tg(t){return iu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(t){ou(new Xs("platform-logger",e=>new FS(e),"PRIVATE")),ou(new Xs("heartbeat",e=>new kC(e),"PRIVATE")),ai(Id,Jm,t),ai(Id,Jm,"esm2017"),ai("fire-js","")}IC("");var bC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},U,ph=ph||{},te=bC||self;function al(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Po(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function RC(t){return Object.prototype.hasOwnProperty.call(t,wc)&&t[wc]||(t[wc]=++NC)}var wc="closure_uid_"+(1e9*Math.random()>>>0),NC=0;function DC(t,e,n){return t.call.apply(t.bind,arguments)}function OC(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function lt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?lt=DC:lt=OC,lt.apply(null,arguments)}function oa(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function qe(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function tr(){this.s=this.s,this.o=this.o}var MC=0;tr.prototype.s=!1;tr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),MC!=0)&&RC(this)};tr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const qv=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function mh(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function ng(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(al(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function ct(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}ct.prototype.h=function(){this.defaultPrevented=!0};var xC=function(){if(!te.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{te.addEventListener("test",()=>{},e),te.removeEventListener("test",()=>{},e)}catch{}return t}();function Js(t){return/^[\s\xa0]*$/.test(t)}function ul(){var t=te.navigator;return t&&(t=t.userAgent)?t:""}function Gt(t){return ul().indexOf(t)!=-1}function gh(t){return gh[" "](t),t}gh[" "]=function(){};function VC(t,e){var n=Ik;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var LC=Gt("Opera"),yi=Gt("Trident")||Gt("MSIE"),Wv=Gt("Edge"),Nd=Wv||yi,Gv=Gt("Gecko")&&!(ul().toLowerCase().indexOf("webkit")!=-1&&!Gt("Edge"))&&!(Gt("Trident")||Gt("MSIE"))&&!Gt("Edge"),$C=ul().toLowerCase().indexOf("webkit")!=-1&&!Gt("Edge");function Kv(){var t=te.document;return t?t.documentMode:void 0}var Dd;e:{var Ec="",Tc=function(){var t=ul();if(Gv)return/rv:([^\);]+)(\)|;)/.exec(t);if(Wv)return/Edge\/([\d\.]+)/.exec(t);if(yi)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if($C)return/WebKit\/(\S+)/.exec(t);if(LC)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Tc&&(Ec=Tc?Tc[1]:""),yi){var Sc=Kv();if(Sc!=null&&Sc>parseFloat(Ec)){Dd=String(Sc);break e}}Dd=Ec}var Od;if(te.document&&yi){var rg=Kv();Od=rg||parseInt(Dd,10)||void 0}else Od=void 0;var jC=Od;function Zs(t,e){if(ct.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Gv){e:{try{gh(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:FC[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Zs.$.h.call(this)}}qe(Zs,ct);var FC={2:"touch",3:"pen",4:"mouse"};Zs.prototype.h=function(){Zs.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Io="closure_listenable_"+(1e6*Math.random()|0),zC=0;function BC(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++zC,this.fa=this.ia=!1}function ll(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function yh(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function UC(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function Qv(t){const e={};for(const n in t)e[n]=t[n];return e}const ig="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Xv(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<ig.length;s++)n=ig[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function cl(t){this.src=t,this.g={},this.h=0}cl.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=xd(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new BC(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Md(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=qv(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(ll(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function xd(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var _h="closure_lm_"+(1e6*Math.random()|0),Cc={};function Yv(t,e,n,r,i){if(r&&r.once)return Zv(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Yv(t,e[s],n,r,i);return null}return n=Eh(n),t&&t[Io]?t.O(e,n,Po(r)?!!r.capture:!!r,i):Jv(t,e,n,!1,r,i)}function Jv(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Po(i)?!!i.capture:!!i,a=wh(t);if(a||(t[_h]=a=new cl(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=HC(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)xC||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(t0(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function HC(){function t(n){return e.call(t.src,t.listener,n)}const e=qC;return t}function Zv(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Zv(t,e[s],n,r,i);return null}return n=Eh(n),t&&t[Io]?t.P(e,n,Po(r)?!!r.capture:!!r,i):Jv(t,e,n,!0,r,i)}function e0(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)e0(t,e[s],n,r,i);else r=Po(r)?!!r.capture:!!r,n=Eh(n),t&&t[Io]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=xd(s,n,r,i),-1<n&&(ll(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=wh(t))&&(e=t.g[e.toString()],t=-1,e&&(t=xd(e,n,r,i)),(n=-1<t?e[t]:null)&&vh(n))}function vh(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Io])Md(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(t0(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=wh(e))?(Md(n,t),n.h==0&&(n.src=null,e[_h]=null)):ll(t)}}}function t0(t){return t in Cc?Cc[t]:Cc[t]="on"+t}function qC(t,e){if(t.fa)t=!0;else{e=new Zs(e,this);var n=t.listener,r=t.la||t.src;t.ia&&vh(t),t=n.call(r,e)}return t}function wh(t){return t=t[_h],t instanceof cl?t:null}var kc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Eh(t){return typeof t=="function"?t:(t[kc]||(t[kc]=function(e){return t.handleEvent(e)}),t[kc])}function He(){tr.call(this),this.i=new cl(this),this.S=this,this.J=null}qe(He,tr);He.prototype[Io]=!0;He.prototype.removeEventListener=function(t,e,n,r){e0(this,t,e,n,r)};function Ze(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new ct(e,t);else if(e instanceof ct)e.target=e.target||t;else{var i=e;e=new ct(r,t),Xv(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=aa(o,r,!0,e)&&i}if(o=e.g=t,i=aa(o,r,!0,e)&&i,i=aa(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=aa(o,r,!1,e)&&i}He.prototype.N=function(){if(He.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ll(n[r]);delete t.g[e],t.h--}}this.J=null};He.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};He.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function aa(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Md(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Th=te.JSON.stringify;class WC{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function GC(){var t=Sh;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class KC{constructor(){this.h=this.g=null}add(e,n){const r=n0.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var n0=new WC(()=>new QC,t=>t.reset());class QC{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function XC(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function YC(t){te.setTimeout(()=>{throw t},0)}let eo,to=!1,Sh=new KC,r0=()=>{const t=te.Promise.resolve(void 0);eo=()=>{t.then(JC)}};var JC=()=>{for(var t;t=GC();){try{t.h.call(t.g)}catch(n){YC(n)}var e=n0;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}to=!1};function dl(t,e){He.call(this),this.h=t||1,this.g=e||te,this.j=lt(this.qb,this),this.l=Date.now()}qe(dl,He);U=dl.prototype;U.ga=!1;U.T=null;U.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ze(this,"tick"),this.ga&&(Ch(this),this.start()))}};U.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Ch(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}U.N=function(){dl.$.N.call(this),Ch(this),delete this.g};function kh(t,e,n){if(typeof t=="function")n&&(t=lt(t,n));else if(t&&typeof t.handleEvent=="function")t=lt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:te.setTimeout(t,e||0)}function i0(t){t.g=kh(()=>{t.g=null,t.i&&(t.i=!1,i0(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class ZC extends tr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:i0(this)}N(){super.N(),this.g&&(te.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function no(t){tr.call(this),this.h=t,this.g={}}qe(no,tr);var sg=[];function s0(t,e,n,r){Array.isArray(n)||(n&&(sg[0]=n.toString()),n=sg);for(var i=0;i<n.length;i++){var s=Yv(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function o0(t){yh(t.g,function(e,n){this.g.hasOwnProperty(n)&&vh(e)},t),t.g={}}no.prototype.N=function(){no.$.N.call(this),o0(this)};no.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function fl(){this.g=!0}fl.prototype.Ea=function(){this.g=!1};function ek(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var h=c[0];c=c[1];var p=h.split("_");o=2<=p.length&&p[1]=="type"?o+(h+"="+c+"&"):o+(h+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function tk(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Xr(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+rk(t,n)+(r?" "+r:"")})}function nk(t,e){t.info(function(){return"TIMEOUT: "+e})}fl.prototype.info=function(){};function rk(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Th(n)}catch{return e}}var Nr={},og=null;function hl(){return og=og||new He}Nr.Ta="serverreachability";function a0(t){ct.call(this,Nr.Ta,t)}qe(a0,ct);function ro(t){const e=hl();Ze(e,new a0(e))}Nr.STAT_EVENT="statevent";function u0(t,e){ct.call(this,Nr.STAT_EVENT,t),this.stat=e}qe(u0,ct);function pt(t){const e=hl();Ze(e,new u0(e,t))}Nr.Ua="timingevent";function l0(t,e){ct.call(this,Nr.Ua,t),this.size=e}qe(l0,ct);function bo(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return te.setTimeout(function(){t()},e)}var pl={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},c0={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ah(){}Ah.prototype.h=null;function ag(t){return t.h||(t.h=t.i())}function d0(){}var Ro={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ph(){ct.call(this,"d")}qe(Ph,ct);function Ih(){ct.call(this,"c")}qe(Ih,ct);var Vd;function ml(){}qe(ml,Ah);ml.prototype.g=function(){return new XMLHttpRequest};ml.prototype.i=function(){return{}};Vd=new ml;function No(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new no(this),this.P=ik,t=Nd?125:void 0,this.V=new dl(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new f0}function f0(){this.i=null,this.g="",this.h=!1}var ik=45e3,Ld={},au={};U=No.prototype;U.setTimeout=function(t){this.P=t};function $d(t,e,n){t.L=1,t.v=yl(wn(e)),t.s=n,t.S=!0,h0(t,null)}function h0(t,e){t.G=Date.now(),Do(t),t.A=wn(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),E0(n.i,"t",r),t.C=0,n=t.l.J,t.h=new f0,t.g=B0(t.l,n?e:null,!t.s),0<t.O&&(t.M=new ZC(lt(t.Pa,t,t.g),t.O)),s0(t.U,t.g,"readystatechange",t.nb),e=t.I?Qv(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),ro(),ek(t.j,t.u,t.A,t.m,t.W,t.s)}U.nb=function(t){t=t.target;const e=this.M;e&&Jt(t)==3?e.l():this.Pa(t)};U.Pa=function(t){try{if(t==this.g)e:{const h=Jt(this.g);var e=this.g.Ia();const p=this.g.da();if(!(3>h)&&(h!=3||Nd||this.g&&(this.h.h||this.g.ja()||dg(this.g)))){this.J||h!=4||e==7||(e==8||0>=p?ro(3):ro(2)),gl(this);var n=this.g.da();this.ca=n;t:if(p0(this)){var r=dg(this.g);t="";var i=r.length,s=Jt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){pr(this),bs(this);var o="";break t}this.h.i=new te.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,tk(this.j,this.u,this.A,this.m,this.W,h,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Js(a)){var c=a;break t}}c=null}if(n=c)Xr(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,jd(this,n);else{this.i=!1,this.o=3,pt(12),pr(this),bs(this);break e}}this.S?(m0(this,h,o),Nd&&this.i&&h==3&&(s0(this.U,this.V,"tick",this.mb),this.V.start())):(Xr(this.j,this.m,o,null),jd(this,o)),h==4&&pr(this),this.i&&!this.J&&(h==4?$0(this.l,this):(this.i=!1,Do(this)))}else kk(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,pt(12)):(this.o=0,pt(13)),pr(this),bs(this)}}}catch{}finally{}};function p0(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function m0(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=sk(t,n),i==au){e==4&&(t.o=4,pt(14),r=!1),Xr(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Ld){t.o=4,pt(15),Xr(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Xr(t.j,t.m,i,null),jd(t,i);p0(t)&&i!=au&&i!=Ld&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,pt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Mh(e),e.M=!0,pt(11))):(Xr(t.j,t.m,n,"[Invalid Chunked Response]"),pr(t),bs(t))}U.mb=function(){if(this.g){var t=Jt(this.g),e=this.g.ja();this.C<e.length&&(gl(this),m0(this,t,e),this.i&&t!=4&&Do(this))}};function sk(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?au:(n=Number(e.substring(n,r)),isNaN(n)?Ld:(r+=1,r+n>e.length?au:(e=e.slice(r,r+n),t.C=r+n,e)))}U.cancel=function(){this.J=!0,pr(this)};function Do(t){t.Y=Date.now()+t.P,g0(t,t.P)}function g0(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=bo(lt(t.lb,t),e)}function gl(t){t.B&&(te.clearTimeout(t.B),t.B=null)}U.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(nk(this.j,this.A),this.L!=2&&(ro(),pt(17)),pr(this),this.o=2,bs(this)):g0(this,this.Y-t)};function bs(t){t.l.H==0||t.J||$0(t.l,t)}function pr(t){gl(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Ch(t.V),o0(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function jd(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Fd(n.i,t))){if(!t.K&&Fd(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)cu(n),wl(n);else break e;Oh(n),pt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=bo(lt(n.ib,n),6e3));if(1>=C0(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else mr(n,11)}else if((t.K||n.g==t)&&cu(n),!Js(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const h=c[3];h!=null&&(n.ra=h,n.l.info("VER="+n.ra));const p=c[4];p!=null&&(n.Ga=p,n.l.info("SVER="+n.Ga));const y=c[5];y!=null&&typeof y=="number"&&0<y&&(r=1.5*y,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const k=t.g;if(k){const T=k.g?k.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(T){var s=r.i;s.g||T.indexOf("spdy")==-1&&T.indexOf("quic")==-1&&T.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(bh(s,s.h),s.h=null))}if(r.F){const w=k.g?k.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(r.Da=w,we(r.I,r.F,w))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=z0(r,r.J?r.pa:null,r.Y),o.K){k0(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(gl(a),Do(a)),r.g=o}else V0(r);0<n.j.length&&El(n)}else c[0]!="stop"&&c[0]!="close"||mr(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?mr(n,7):Dh(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}ro(4)}catch{}}function ok(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(al(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function ak(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(al(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function y0(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(al(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=ak(t),r=ok(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var _0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uk(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function _r(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof _r){this.h=t.h,uu(this,t.j),this.s=t.s,this.g=t.g,lu(this,t.m),this.l=t.l;var e=t.i,n=new io;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),ug(this,n),this.o=t.o}else t&&(e=String(t).match(_0))?(this.h=!1,uu(this,e[1]||"",!0),this.s=fs(e[2]||""),this.g=fs(e[3]||"",!0),lu(this,e[4]),this.l=fs(e[5]||"",!0),ug(this,e[6]||"",!0),this.o=fs(e[7]||"")):(this.h=!1,this.i=new io(null,this.h))}_r.prototype.toString=function(){var t=[],e=this.j;e&&t.push(hs(e,lg,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(hs(e,lg,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(hs(n,n.charAt(0)=="/"?dk:ck,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",hs(n,hk)),t.join("")};function wn(t){return new _r(t)}function uu(t,e,n){t.j=n?fs(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function lu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function ug(t,e,n){e instanceof io?(t.i=e,pk(t.i,t.h)):(n||(e=hs(e,fk)),t.i=new io(e,t.h))}function we(t,e,n){t.i.set(e,n)}function yl(t){return we(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function fs(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function hs(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,lk),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function lk(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var lg=/[#\/\?@]/g,ck=/[#\?:]/g,dk=/[#\?]/g,fk=/[#\?@]/g,hk=/#/g;function io(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function nr(t){t.g||(t.g=new Map,t.h=0,t.i&&uk(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}U=io.prototype;U.add=function(t,e){nr(this),this.i=null,t=Vi(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function v0(t,e){nr(t),e=Vi(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function w0(t,e){return nr(t),e=Vi(t,e),t.g.has(e)}U.forEach=function(t,e){nr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};U.ta=function(){nr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};U.Z=function(t){nr(this);let e=[];if(typeof t=="string")w0(this,t)&&(e=e.concat(this.g.get(Vi(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};U.set=function(t,e){return nr(this),this.i=null,t=Vi(this,t),w0(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};U.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function E0(t,e,n){v0(t,e),0<n.length&&(t.i=null,t.g.set(Vi(t,e),mh(n)),t.h+=n.length)}U.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Vi(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function pk(t,e){e&&!t.j&&(nr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(v0(this,r),E0(this,i,n))},t)),t.j=e}var mk=class{constructor(t,e){this.g=t,this.map=e}};function T0(t){this.l=t||gk,te.PerformanceNavigationTiming?(t=te.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(te.g&&te.g.Ka&&te.g.Ka()&&te.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var gk=10;function S0(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function C0(t){return t.h?1:t.g?t.g.size:0}function Fd(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function bh(t,e){t.g?t.g.add(e):t.h=e}function k0(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}T0.prototype.cancel=function(){if(this.i=A0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function A0(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return mh(t.i)}var yk=class{stringify(t){return te.JSON.stringify(t,void 0)}parse(t){return te.JSON.parse(t,void 0)}};function _k(){this.g=new yk}function vk(t,e,n){const r=n||"";try{y0(t,function(i,s){let o=i;Po(i)&&(o=Th(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function wk(t,e){const n=new fl;if(te.Image){const r=new Image;r.onload=oa(ua,n,r,"TestLoadImage: loaded",!0,e),r.onerror=oa(ua,n,r,"TestLoadImage: error",!1,e),r.onabort=oa(ua,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=oa(ua,n,r,"TestLoadImage: timeout",!1,e),te.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function ua(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Oo(t){this.l=t.ec||null,this.j=t.ob||!1}qe(Oo,Ah);Oo.prototype.g=function(){return new _l(this.l,this.j)};Oo.prototype.i=function(t){return function(){return t}}({});function _l(t,e){He.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Rh,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}qe(_l,He);var Rh=0;U=_l.prototype;U.open=function(t,e){if(this.readyState!=Rh)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,so(this)};U.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||te).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};U.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Mo(this)),this.readyState=Rh};U.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,so(this)),this.g&&(this.readyState=3,so(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof te.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;P0(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function P0(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}U.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Mo(this):so(this),this.readyState==3&&P0(this)}};U.Za=function(t){this.g&&(this.response=this.responseText=t,Mo(this))};U.Ya=function(t){this.g&&(this.response=t,Mo(this))};U.ka=function(){this.g&&Mo(this)};function Mo(t){t.readyState=4,t.l=null,t.j=null,t.A=null,so(t)}U.setRequestHeader=function(t,e){this.v.append(t,e)};U.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};U.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function so(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(_l.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Ek=te.JSON.parse;function Ne(t){He.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=I0,this.L=this.M=!1}qe(Ne,He);var I0="",Tk=/^https?$/i,Sk=["POST","PUT"];U=Ne.prototype;U.Oa=function(t){this.M=t};U.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Vd.g(),this.C=this.u?ag(this.u):ag(Vd),this.g.onreadystatechange=lt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){cg(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=te.FormData&&t instanceof te.FormData,!(0<=qv(Sk,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{N0(this),0<this.B&&((this.L=Ck(this.g))?(this.g.timeout=this.B,this.g.ontimeout=lt(this.ua,this)):this.A=kh(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){cg(this,s)}};function Ck(t){return yi&&typeof t.timeout=="number"&&t.ontimeout!==void 0}U.ua=function(){typeof ph<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ze(this,"timeout"),this.abort(8))};function cg(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,b0(t),vl(t)}function b0(t){t.F||(t.F=!0,Ze(t,"complete"),Ze(t,"error"))}U.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ze(this,"complete"),Ze(this,"abort"),vl(this))};U.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),vl(this,!0)),Ne.$.N.call(this)};U.La=function(){this.s||(this.G||this.v||this.l?R0(this):this.kb())};U.kb=function(){R0(this)};function R0(t){if(t.h&&typeof ph<"u"&&(!t.C[1]||Jt(t)!=4||t.da()!=2)){if(t.v&&Jt(t)==4)kh(t.La,0,t);else if(Ze(t,"readystatechange"),Jt(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(_0)[1]||null;!i&&te.self&&te.self.location&&(i=te.self.location.protocol.slice(0,-1)),r=!Tk.test(i?i.toLowerCase():"")}n=r}if(n)Ze(t,"complete"),Ze(t,"success");else{t.m=6;try{var s=2<Jt(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",b0(t)}}finally{vl(t)}}}}function vl(t,e){if(t.g){N0(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Ze(t,"ready");try{n.onreadystatechange=r}catch{}}}function N0(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(te.clearTimeout(t.A),t.A=null)}U.isActive=function(){return!!this.g};function Jt(t){return t.g?t.g.readyState:0}U.da=function(){try{return 2<Jt(this)?this.g.status:-1}catch{return-1}};U.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};U.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Ek(e)}};function dg(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case I0:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function kk(t){const e={};t=(t.g&&2<=Jt(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Js(t[r]))continue;var n=XC(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}UC(e,function(r){return r.join(", ")})}U.Ia=function(){return this.m};U.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function D0(t){let e="";return yh(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Nh(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=D0(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):we(t,e,n))}function is(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function O0(t){this.Ga=0,this.j=[],this.l=new fl,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=is("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=is("baseRetryDelayMs",5e3,t),this.hb=is("retryDelaySeedMs",1e4,t),this.eb=is("forwardChannelMaxRetries",2,t),this.xa=is("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new T0(t&&t.concurrentRequestLimit),this.Ja=new _k,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}U=O0.prototype;U.ra=8;U.H=1;function Dh(t){if(M0(t),t.H==3){var e=t.W++,n=wn(t.I);if(we(n,"SID",t.K),we(n,"RID",e),we(n,"TYPE","terminate"),xo(t,n),e=new No(t,t.l,e),e.L=2,e.v=yl(wn(n)),n=!1,te.navigator&&te.navigator.sendBeacon)try{n=te.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&te.Image&&(new Image().src=e.v,n=!0),n||(e.g=B0(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Do(e)}F0(t)}function wl(t){t.g&&(Mh(t),t.g.cancel(),t.g=null)}function M0(t){wl(t),t.u&&(te.clearTimeout(t.u),t.u=null),cu(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&te.clearTimeout(t.m),t.m=null)}function El(t){if(!S0(t.i)&&!t.m){t.m=!0;var e=t.Na;eo||r0(),to||(eo(),to=!0),Sh.add(e,t),t.C=0}}function Ak(t,e){return C0(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=bo(lt(t.Na,t,e),j0(t,t.C)),t.C++,!0)}U.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new No(this,this.l,t);let s=this.s;if(this.U&&(s?(s=Qv(s),Xv(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=x0(this,i,e),n=wn(this.I),we(n,"RID",t),we(n,"CVER",22),this.F&&we(n,"X-HTTP-Session-Id",this.F),xo(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(D0(s)))+"&"+e:this.o&&Nh(n,this.o,s)),bh(this.i,i),this.bb&&we(n,"TYPE","init"),this.P?(we(n,"$req",e),we(n,"SID","null"),i.aa=!0,$d(i,n,null)):$d(i,n,e),this.H=2}}else this.H==3&&(t?fg(this,t):this.j.length==0||S0(this.i)||fg(this))};function fg(t,e){var n;e?n=e.m:n=t.W++;const r=wn(t.I);we(r,"SID",t.K),we(r,"RID",n),we(r,"AID",t.V),xo(t,r),t.o&&t.s&&Nh(r,t.o,t.s),n=new No(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=x0(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),bh(t.i,n),$d(n,r,e)}function xo(t,e){t.na&&yh(t.na,function(n,r){we(e,r,n)}),t.h&&y0({},function(n,r){we(e,r,n)})}function x0(t,e,n){n=Math.min(t.j.length,n);var r=t.h?lt(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let c=i[l].g;const h=i[l].map;if(c-=s,0>c)s=Math.max(0,i[l].g-100),a=!1;else try{vk(h,o,"req"+c+"_")}catch{r&&r(h)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function V0(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;eo||r0(),to||(eo(),to=!0),Sh.add(e,t),t.A=0}}function Oh(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=bo(lt(t.Ma,t),j0(t,t.A)),t.A++,!0)}U.Ma=function(){if(this.u=null,L0(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=bo(lt(this.jb,this),t)}};U.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,pt(10),wl(this),L0(this))};function Mh(t){t.B!=null&&(te.clearTimeout(t.B),t.B=null)}function L0(t){t.g=new No(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=wn(t.wa);we(e,"RID","rpc"),we(e,"SID",t.K),we(e,"AID",t.V),we(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&we(e,"TO",t.qa),we(e,"TYPE","xmlhttp"),xo(t,e),t.o&&t.s&&Nh(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=yl(wn(e)),n.s=null,n.S=!0,h0(n,t)}U.ib=function(){this.v!=null&&(this.v=null,wl(this),Oh(this),pt(19))};function cu(t){t.v!=null&&(te.clearTimeout(t.v),t.v=null)}function $0(t,e){var n=null;if(t.g==e){cu(t),Mh(t),t.g=null;var r=2}else if(Fd(t.i,e))n=e.F,k0(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=hl(),Ze(r,new l0(r,n)),El(t)}else V0(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&Ak(t,e)||r==2&&Oh(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:mr(t,5);break;case 4:mr(t,10);break;case 3:mr(t,6);break;default:mr(t,2)}}}function j0(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function mr(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=lt(t.pb,t);n||(n=new _r("//www.google.com/images/cleardot.gif"),te.location&&te.location.protocol=="http"||uu(n,"https"),yl(n)),wk(n.toString(),r)}else pt(2);t.H=0,t.h&&t.h.za(e),F0(t),M0(t)}U.pb=function(t){t?(this.l.info("Successfully pinged google.com"),pt(2)):(this.l.info("Failed to ping google.com"),pt(1))};function F0(t){if(t.H=0,t.ma=[],t.h){const e=A0(t.i);(e.length!=0||t.j.length!=0)&&(ng(t.ma,e),ng(t.ma,t.j),t.i.i.length=0,mh(t.j),t.j.length=0),t.h.ya()}}function z0(t,e,n){var r=n instanceof _r?wn(n):new _r(n);if(r.g!="")e&&(r.g=e+"."+r.g),lu(r,r.m);else{var i=te.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new _r(null);r&&uu(s,r),e&&(s.g=e),i&&lu(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&we(r,n,e),we(r,"VER",t.ra),xo(t,r),r}function B0(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Ne(new Oo({ob:!0})):new Ne(t.va),e.Oa(t.J),e}U.isActive=function(){return!!this.h&&this.h.isActive(this)};function U0(){}U=U0.prototype;U.Ba=function(){};U.Aa=function(){};U.za=function(){};U.ya=function(){};U.isActive=function(){return!0};U.Va=function(){};function du(){if(yi&&!(10<=Number(jC)))throw Error("Environmental error: no available transport.")}du.prototype.g=function(t,e){return new kt(t,e)};function kt(t,e){He.call(this),this.g=new O0(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Js(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Js(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Li(this)}qe(kt,He);kt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;pt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=z0(t,null,t.Y),El(t)};kt.prototype.close=function(){Dh(this.g)};kt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Th(t),t=n);e.j.push(new mk(e.fb++,t)),e.H==3&&El(e)};kt.prototype.N=function(){this.g.h=null,delete this.j,Dh(this.g),delete this.g,kt.$.N.call(this)};function H0(t){Ph.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}qe(H0,Ph);function q0(){Ih.call(this),this.status=1}qe(q0,Ih);function Li(t){this.g=t}qe(Li,U0);Li.prototype.Ba=function(){Ze(this.g,"a")};Li.prototype.Aa=function(t){Ze(this.g,new H0(t))};Li.prototype.za=function(t){Ze(this.g,new q0)};Li.prototype.ya=function(){Ze(this.g,"b")};function Pk(){this.blockSize=-1}function Wt(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}qe(Wt,Pk);Wt.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Ac(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Wt.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Ac(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Ac(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Ac(this,r),i=0;break}}this.h=i,this.i+=e};Wt.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function me(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var Ik={};function xh(t){return-128<=t&&128>t?VC(t,function(e){return new me([e|0],0>e?-1:0)}):new me([t|0],0>t?-1:0)}function Zt(t){if(isNaN(t)||!isFinite(t))return ui;if(0>t)return Ye(Zt(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=zd;return new me(e,0)}function W0(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ye(W0(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Zt(Math.pow(e,8)),r=ui,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Zt(Math.pow(e,s)),r=r.R(s).add(Zt(o))):(r=r.R(n),r=r.add(Zt(o)))}return r}var zd=4294967296,ui=xh(0),Bd=xh(1),hg=xh(16777216);U=me.prototype;U.ea=function(){if(Rt(this))return-Ye(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:zd+r)*e,e*=zd}return t};U.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(gn(this))return"0";if(Rt(this))return"-"+Ye(this).toString(t);for(var e=Zt(Math.pow(t,6)),n=this,r="";;){var i=hu(n,e).g;n=fu(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,gn(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};U.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function gn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Rt(t){return t.h==-1}U.X=function(t){return t=fu(this,t),Rt(t)?-1:gn(t)?0:1};function Ye(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new me(n,~t.h).add(Bd)}U.abs=function(){return Rt(this)?Ye(this):this};U.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new me(n,n[n.length-1]&-2147483648?-1:0)};function fu(t,e){return t.add(Ye(e))}U.R=function(t){if(gn(this)||gn(t))return ui;if(Rt(this))return Rt(t)?Ye(this).R(Ye(t)):Ye(Ye(this).R(t));if(Rt(t))return Ye(this.R(Ye(t)));if(0>this.X(hg)&&0>t.X(hg))return Zt(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,la(n,2*r+2*i),n[2*r+2*i+1]+=s*l,la(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,la(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,la(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new me(n,0)};function la(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ss(t,e){this.g=t,this.h=e}function hu(t,e){if(gn(e))throw Error("division by zero");if(gn(t))return new ss(ui,ui);if(Rt(t))return e=hu(Ye(t),e),new ss(Ye(e.g),Ye(e.h));if(Rt(e))return e=hu(t,Ye(e)),new ss(Ye(e.g),e.h);if(30<t.g.length){if(Rt(t)||Rt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Bd,r=e;0>=r.X(t);)n=pg(n),r=pg(r);var i=Vr(n,1),s=Vr(r,1);for(r=Vr(r,2),n=Vr(n,2);!gn(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Vr(r,1),n=Vr(n,1)}return e=fu(t,i.R(e)),new ss(i,e)}for(i=ui;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Zt(n),o=s.R(e);Rt(o)||0<o.X(t);)n-=r,s=Zt(n),o=s.R(e);gn(s)&&(s=Bd),i=i.add(s),t=fu(t,o)}return new ss(i,t)}U.gb=function(t){return hu(this,t).h};U.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new me(n,this.h&t.h)};U.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new me(n,this.h|t.h)};U.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new me(n,this.h^t.h)};function pg(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new me(n,t.h)}function Vr(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new me(i,t.h)}du.prototype.createWebChannel=du.prototype.g;kt.prototype.send=kt.prototype.u;kt.prototype.open=kt.prototype.m;kt.prototype.close=kt.prototype.close;pl.NO_ERROR=0;pl.TIMEOUT=8;pl.HTTP_ERROR=6;c0.COMPLETE="complete";d0.EventType=Ro;Ro.OPEN="a";Ro.CLOSE="b";Ro.ERROR="c";Ro.MESSAGE="d";He.prototype.listen=He.prototype.O;Ne.prototype.listenOnce=Ne.prototype.P;Ne.prototype.getLastError=Ne.prototype.Sa;Ne.prototype.getLastErrorCode=Ne.prototype.Ia;Ne.prototype.getStatus=Ne.prototype.da;Ne.prototype.getResponseJson=Ne.prototype.Wa;Ne.prototype.getResponseText=Ne.prototype.ja;Ne.prototype.send=Ne.prototype.ha;Ne.prototype.setWithCredentials=Ne.prototype.Oa;Wt.prototype.digest=Wt.prototype.l;Wt.prototype.reset=Wt.prototype.reset;Wt.prototype.update=Wt.prototype.j;me.prototype.add=me.prototype.add;me.prototype.multiply=me.prototype.R;me.prototype.modulo=me.prototype.gb;me.prototype.compare=me.prototype.X;me.prototype.toNumber=me.prototype.ea;me.prototype.toString=me.prototype.toString;me.prototype.getBits=me.prototype.D;me.fromNumber=Zt;me.fromString=W0;var bk=function(){return new du},Rk=function(){return hl()},Pc=pl,Nk=c0,Dk=Nr,mg={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ok=Oo,ca=d0,Mk=Ne,xk=Wt,li=me;const gg="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}st.UNAUTHENTICATED=new st(null),st.GOOGLE_CREDENTIALS=new st("google-credentials-uid"),st.FIRST_PARTY=new st("first-party-uid"),st.MOCK_USER=new st("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $i="10.5.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr=new jv("@firebase/firestore");function os(){return Cr.logLevel}function K(t,...e){if(Cr.logLevel<=fe.DEBUG){const n=e.map(Vh);Cr.debug(`Firestore (${$i}): ${t}`,...n)}}function En(t,...e){if(Cr.logLevel<=fe.ERROR){const n=e.map(Vh);Cr.error(`Firestore (${$i}): ${t}`,...n)}}function _i(t,...e){if(Cr.logLevel<=fe.WARN){const n=e.map(Vh);Cr.warn(`Firestore (${$i}): ${t}`,...n)}}function Vh(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(t="Unexpected state"){const e=`FIRESTORE (${$i}) INTERNAL ASSERTION FAILED: `+t;throw En(e),new Error(e)}function Te(t,e){t||ee()}function ie(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends xi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Vk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(st.UNAUTHENTICATED))}shutdown(){}}class Lk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class $k{constructor(e){this.t=e,this.currentUser=st.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new vr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new vr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new vr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Te(typeof r.accessToken=="string"),new G0(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string"),new st(e)}}class jk{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=st.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Fk{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new jk(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(st.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Bk{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,K("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Te(typeof n.token=="string"),this.R=n.token,new zk(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uk(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Uk(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function pe(t,e){return t<e?-1:t>e?1:0}function vi(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Y($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Fe.fromMillis(Date.now())}static fromDate(e){return Fe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Fe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?pe(this.nanoseconds,e.nanoseconds):pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ne(e)}static min(){return new ne(new Fe(0,0))}static max(){return new ne(new Fe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,n,r){n===void 0?n=0:n>e.length&&ee(),r===void 0?r=e.length-n:r>e.length-n&&ee(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return oo.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof oo?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Se extends oo{construct(e,n,r){return new Se(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Y($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Se(n)}static emptyPath(){return new Se([])}}const Hk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Je extends oo{construct(e,n,r){return new Je(e,n,r)}static isValidIdentifier(e){return Hk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Je.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Je(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Y($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Y($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Y($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Y($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Je(n)}static emptyPath(){return new Je([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.path=e}static fromPath(e){return new J(Se.fromString(e))}static fromName(e){return new J(Se.fromString(e).popFirst(5))}static empty(){return new J(Se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Se.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Se.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new J(new Se(e.slice()))}}function qk(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ne.fromTimestamp(r===1e9?new Fe(n+1,0):new Fe(n,r));return new Xn(i,J.empty(),e)}function Wk(t){return new Xn(t.readTime,t.key,-1)}class Xn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Xn(ne.min(),J.empty(),-1)}static max(){return new Xn(ne.max(),J.empty(),-1)}}function Gk(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=J.comparator(t.documentKey,e.documentKey),n!==0?n:pe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Qk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==Kk)throw t;K("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new L((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof L?n:L.resolve(n)}catch(n){return L.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):L.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):L.reject(n)}static resolve(e){return new L((n,r)=>{n(e)})}static reject(e){return new L((n,r)=>{r(e)})}static waitFor(e){return new L((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=L.resolve(!1);for(const r of e)n=n.next(i=>i?L.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new L((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new L((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Lo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}Lh._e=-1;function Tl(t){return t==null}function pu(t){return t===0&&1/t==-1/0}function Xk(t){return typeof t=="number"&&Number.isInteger(t)&&!pu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ji(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Q0(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e,n){this.comparator=e,this.root=n||Qe.EMPTY}insert(e,n){return new Pe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(e){return new Pe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new da(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new da(this.root,e,this.comparator,!1)}getReverseIterator(){return new da(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new da(this.root,e,this.comparator,!0)}}class da{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qe{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Qe.RED,this.left=i??Qe.EMPTY,this.right=s??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Qe(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Qe.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ee();const e=this.left.check();if(e!==this.right.check())throw ee();return e+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw ee()}get value(){throw ee()}get color(){throw ee()}get left(){throw ee()}get right(){throw ee()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Qe(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e){this.comparator=e,this.data=new Pe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new _g(this.data.getIterator())}getIteratorFrom(e){return new _g(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof et)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new et(this.comparator);return n.data=e,n}}class _g{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.fields=e,e.sort(Je.comparator)}static empty(){return new Ht([])}unionWith(e){let n=new et(Je.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ht(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return vi(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new X0("Invalid base64 string: "+s):s}}(e);return new ft(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ft.EMPTY_BYTE_STRING=new ft("");const Yk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yn(t){if(Te(!!t),typeof t=="string"){let e=0;const n=Yk.exec(t);if(Te(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xe(t.seconds),nanos:xe(t.nanos)}}function xe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function kr(t){return typeof t=="string"?ft.fromBase64String(t):ft.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function jh(t){const e=t.mapValue.fields.__previous_value__;return $h(e)?jh(e):e}function ao(t){const e=Yn(t.mapValue.fields.__local_write_time__.timestampValue);return new Fe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class uo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new uo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof uo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ar(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$h(t)?4:Zk(t)?9007199254740991:10:ee()}function on(t,e){if(t===e)return!0;const n=Ar(t);if(n!==Ar(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ao(t).isEqual(ao(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Yn(i.timestampValue),a=Yn(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return kr(i.bytesValue).isEqual(kr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return xe(i.geoPointValue.latitude)===xe(s.geoPointValue.latitude)&&xe(i.geoPointValue.longitude)===xe(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return xe(i.integerValue)===xe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=xe(i.doubleValue),a=xe(s.doubleValue);return o===a?pu(o)===pu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return vi(t.arrayValue.values||[],e.arrayValue.values||[],on);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(yg(o)!==yg(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!on(o[l],a[l])))return!1;return!0}(t,e);default:return ee()}}function lo(t,e){return(t.values||[]).find(n=>on(n,e))!==void 0}function wi(t,e){if(t===e)return 0;const n=Ar(t),r=Ar(e);if(n!==r)return pe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return pe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=xe(s.integerValue||s.doubleValue),l=xe(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return vg(t.timestampValue,e.timestampValue);case 4:return vg(ao(t),ao(e));case 5:return pe(t.stringValue,e.stringValue);case 6:return function(s,o){const a=kr(s),l=kr(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=pe(a[c],l[c]);if(h!==0)return h}return pe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=pe(xe(s.latitude),xe(o.latitude));return a!==0?a:pe(xe(s.longitude),xe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const h=wi(a[c],l[c]);if(h)return h}return pe(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===fa.mapValue&&o===fa.mapValue)return 0;if(s===fa.mapValue)return 1;if(o===fa.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let p=0;p<l.length&&p<h.length;++p){const y=pe(l[p],h[p]);if(y!==0)return y;const k=wi(a[l[p]],c[h[p]]);if(k!==0)return k}return pe(l.length,h.length)}(t.mapValue,e.mapValue);default:throw ee()}}function vg(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return pe(t,e);const n=Yn(t),r=Yn(e),i=pe(n.seconds,r.seconds);return i!==0?i:pe(n.nanos,r.nanos)}function Ei(t){return Ud(t)}function Ud(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Yn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return kr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return J.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Ud(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Ud(n.fields[o])}`;return i+"}"}(t.mapValue):ee()}function Hd(t){return!!t&&"integerValue"in t}function Fh(t){return!!t&&"arrayValue"in t}function wg(t){return!!t&&"nullValue"in t}function Eg(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ba(t){return!!t&&"mapValue"in t}function Rs(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ji(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Rs(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Rs(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Zk(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.value=e}static empty(){return new Nt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ba(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rs(n)}setAll(e){let n=Je.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Rs(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());ba(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return on(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ba(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ji(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Nt(Rs(this.value))}}function Y0(t){const e=[];return ji(t.fields,(n,r)=>{const i=new Je([n]);if(ba(r)){const s=Y0(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Ht(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new ot(e,0,ne.min(),ne.min(),ne.min(),Nt.empty(),0)}static newFoundDocument(e,n,r,i){return new ot(e,1,n,ne.min(),r,i,0)}static newNoDocument(e,n){return new ot(e,2,n,ne.min(),ne.min(),Nt.empty(),0)}static newUnknownDocument(e,n){return new ot(e,3,n,ne.min(),ne.min(),Nt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ot&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ot(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,n){this.position=e,this.inclusive=n}}function Tg(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=J.comparator(J.fromName(o.referenceValue),n.key):r=wi(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Sg(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!on(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,n="asc"){this.field=e,this.dir=n}}function eA(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{}class $e extends J0{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new nA(e,n,r):n==="array-contains"?new sA(e,r):n==="in"?new oA(e,r):n==="not-in"?new aA(e,r):n==="array-contains-any"?new uA(e,r):new $e(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new rA(e,r):new iA(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(wi(n,this.value)):n!==null&&Ar(this.value)===Ar(n)&&this.matchesComparison(wi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class an extends J0{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new an(e,n)}matches(e){return Z0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Z0(t){return t.op==="and"}function e1(t){return tA(t)&&Z0(t)}function tA(t){for(const e of t.filters)if(e instanceof an)return!1;return!0}function qd(t){if(t instanceof $e)return t.field.canonicalString()+t.op.toString()+Ei(t.value);if(e1(t))return t.filters.map(e=>qd(e)).join(",");{const e=t.filters.map(n=>qd(n)).join(",");return`${t.op}(${e})`}}function t1(t,e){return t instanceof $e?function(r,i){return i instanceof $e&&r.op===i.op&&r.field.isEqual(i.field)&&on(r.value,i.value)}(t,e):t instanceof an?function(r,i){return i instanceof an&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&t1(o,i.filters[a]),!0):!1}(t,e):void ee()}function n1(t){return t instanceof $e?function(n){return`${n.field.canonicalString()} ${n.op} ${Ei(n.value)}`}(t):t instanceof an?function(n){return n.op.toString()+" {"+n.getFilters().map(n1).join(" ,")+"}"}(t):"Filter"}class nA extends $e{constructor(e,n,r){super(e,n,r),this.key=J.fromName(r.referenceValue)}matches(e){const n=J.comparator(e.key,this.key);return this.matchesComparison(n)}}class rA extends $e{constructor(e,n){super(e,"in",n),this.keys=r1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class iA extends $e{constructor(e,n){super(e,"not-in",n),this.keys=r1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function r1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>J.fromName(r.referenceValue))}class sA extends $e{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Fh(n)&&lo(n.arrayValue,this.value)}}class oA extends $e{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&lo(this.value.arrayValue,n)}}class aA extends $e{constructor(e,n){super(e,"not-in",n)}matches(e){if(lo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!lo(this.value.arrayValue,n)}}class uA extends $e{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Fh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>lo(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function Cg(t,e=null,n=[],r=[],i=null,s=null,o=null){return new lA(t,e,n,r,i,s,o)}function zh(t){const e=ie(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>qd(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Tl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ei(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ei(r)).join(",")),e.ce=n}return e.ce}function Bh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!eA(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!t1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Sg(t.startAt,e.startAt)&&Sg(t.endAt,e.endAt)}function Wd(t){return J.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function cA(t,e,n,r,i,s,o,a){return new Sl(t,e,n,r,i,s,o,a)}function Uh(t){return new Sl(t)}function kg(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function dA(t){return t.collectionGroup!==null}function Ns(t){const e=ie(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new et(Je.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new gu(s,r))}),n.has(Je.keyField().canonicalString())||e.le.push(new gu(Je.keyField(),r))}return e.le}function rn(t){const e=ie(t);return e.he||(e.he=fA(e,Ns(t))),e.he}function fA(t,e){if(t.limitType==="F")return Cg(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new gu(i.field,s)});const n=t.endAt?new mu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new mu(t.startAt.position,t.startAt.inclusive):null;return Cg(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Gd(t,e,n){return new Sl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Cl(t,e){return Bh(rn(t),rn(e))&&t.limitType===e.limitType}function i1(t){return`${zh(rn(t))}|lt:${t.limitType}`}function jr(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>n1(i)).join(", ")}]`),Tl(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ei(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ei(i)).join(",")),`Target(${r})`}(rn(t))}; limitType=${t.limitType})`}function kl(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):J.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ns(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=Tg(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Ns(r),i)||r.endAt&&!function(o,a,l){const c=Tg(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Ns(r),i))}(t,e)}function hA(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function s1(t){return(e,n)=>{let r=!1;for(const i of Ns(t)){const s=pA(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function pA(t,e,n){const r=t.field.isKeyField()?J.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?wi(l,c):ee()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ji(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Q0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA=new Pe(J.comparator);function Tn(){return mA}const o1=new Pe(J.comparator);function ps(...t){let e=o1;for(const n of t)e=e.insert(n.key,n);return e}function a1(t){let e=o1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function gr(){return Ds()}function u1(){return Ds()}function Ds(){return new Fi(t=>t.toString(),(t,e)=>t.isEqual(e))}const gA=new Pe(J.comparator),yA=new et(J.comparator);function ue(...t){let e=yA;for(const n of t)e=e.add(n);return e}const _A=new et(pe);function vA(){return _A}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pu(e)?"-0":e}}function c1(t){return{integerValue:""+t}}function wA(t,e){return Xk(e)?c1(e):l1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(){this._=void 0}}function EA(t,e,n){return t instanceof yu?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&$h(s)&&(s=jh(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof co?f1(t,e):t instanceof fo?h1(t,e):function(i,s){const o=d1(i,s),a=Ag(o)+Ag(i.Ie);return Hd(o)&&Hd(i.Ie)?c1(a):l1(i.serializer,a)}(t,e)}function TA(t,e,n){return t instanceof co?f1(t,e):t instanceof fo?h1(t,e):n}function d1(t,e){return t instanceof _u?function(r){return Hd(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class yu extends Al{}class co extends Al{constructor(e){super(),this.elements=e}}function f1(t,e){const n=p1(e);for(const r of t.elements)n.some(i=>on(i,r))||n.push(r);return{arrayValue:{values:n}}}class fo extends Al{constructor(e){super(),this.elements=e}}function h1(t,e){let n=p1(e);for(const r of t.elements)n=n.filter(i=>!on(i,r));return{arrayValue:{values:n}}}class _u extends Al{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Ag(t){return xe(t.integerValue||t.doubleValue)}function p1(t){return Fh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function SA(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof co&&i instanceof co||r instanceof fo&&i instanceof fo?vi(r.elements,i.elements,on):r instanceof _u&&i instanceof _u?on(r.Ie,i.Ie):r instanceof yu&&i instanceof yu}(t.transform,e.transform)}class CA{constructor(e,n){this.version=e,this.transformResults=n}}class qt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qt}static exists(e){return new qt(void 0,e)}static updateTime(e){return new qt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ra(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Pl{}function m1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Hh(t.key,qt.none()):new $o(t.key,t.data,qt.none());{const n=t.data,r=Nt.empty();let i=new et(Je.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Dr(t.key,r,new Ht(i.toArray()),qt.none())}}function kA(t,e,n){t instanceof $o?function(i,s,o){const a=i.value.clone(),l=Ig(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Dr?function(i,s,o){if(!Ra(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Ig(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(g1(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Os(t,e,n,r){return t instanceof $o?function(s,o,a,l){if(!Ra(s.precondition,o))return a;const c=s.value.clone(),h=bg(s.fieldTransforms,l,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Dr?function(s,o,a,l){if(!Ra(s.precondition,o))return a;const c=bg(s.fieldTransforms,l,o),h=o.data;return h.setAll(g1(s)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,a){return Ra(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function AA(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=d1(r.transform,i||null);s!=null&&(n===null&&(n=Nt.empty()),n.set(r.field,s))}return n||null}function Pg(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&vi(r,i,(s,o)=>SA(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class $o extends Pl{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Dr extends Pl{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function g1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Ig(t,e,n){const r=new Map;Te(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,TA(o,a,n[i]))}return r}function bg(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,EA(s,o,e))}return r}class Hh extends Pl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class PA extends Pl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&kA(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Os(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Os(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=u1();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=m1(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ue())}isEqual(e){return this.batchId===e.batchId&&vi(this.mutations,e.mutations,(n,r)=>Pg(n,r))&&vi(this.baseMutations,e.baseMutations,(n,r)=>Pg(n,r))}}class qh{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Te(e.mutations.length===r.length);let i=function(){return gA}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new qh(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me,le;function NA(t){switch(t){default:return ee();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function y1(t){if(t===void 0)return En("GRPC error has no .code"),$.UNKNOWN;switch(t){case Me.OK:return $.OK;case Me.CANCELLED:return $.CANCELLED;case Me.UNKNOWN:return $.UNKNOWN;case Me.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Me.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Me.INTERNAL:return $.INTERNAL;case Me.UNAVAILABLE:return $.UNAVAILABLE;case Me.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Me.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Me.NOT_FOUND:return $.NOT_FOUND;case Me.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Me.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Me.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Me.ABORTED:return $.ABORTED;case Me.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Me.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Me.DATA_LOSS:return $.DATA_LOSS;default:return ee()}}(le=Me||(Me={}))[le.OK=0]="OK",le[le.CANCELLED=1]="CANCELLED",le[le.UNKNOWN=2]="UNKNOWN",le[le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",le[le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",le[le.NOT_FOUND=5]="NOT_FOUND",le[le.ALREADY_EXISTS=6]="ALREADY_EXISTS",le[le.PERMISSION_DENIED=7]="PERMISSION_DENIED",le[le.UNAUTHENTICATED=16]="UNAUTHENTICATED",le[le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",le[le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",le[le.ABORTED=10]="ABORTED",le[le.OUT_OF_RANGE=11]="OUT_OF_RANGE",le[le.UNIMPLEMENTED=12]="UNIMPLEMENTED",le[le.INTERNAL=13]="INTERNAL",le[le.UNAVAILABLE=14]="UNAVAILABLE",le[le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA=new li([4294967295,4294967295],0);function Rg(t){const e=DA().encode(t),n=new xk;return n.update(e),new Uint8Array(n.digest())}function Ng(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new li([n,r],0),new li([i,s],0)]}class Wh{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ms(`Invalid padding: ${n}`);if(r<0)throw new ms(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ms(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ms(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=li.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(li.fromNumber(r)));return i.compare(OA)===1&&(i=new li([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=Rg(e),[r,i]=Ng(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Wh(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=Rg(e),[r,i]=Ng(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ms extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,jo.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Il(ne.min(),i,new Pe(pe),Tn(),ue())}}class jo{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new jo(r,n,ue(),ue(),ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class _1{constructor(e,n){this.targetId=e,this.fe=n}}class v1{constructor(e,n,r=ft.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Dg{constructor(){this.ge=0,this.pe=Mg(),this.ye=ft.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ue(),n=ue(),r=ue();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ee()}}),new jo(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=Mg()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class MA{constructor(e){this.Le=e,this.ke=new Map,this.qe=Tn(),this.Qe=Og(),this.Ke=new Pe(pe)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(Wd(s))if(r===0){const o=new J(s.path);this.We(n,o,ot.newNoDocument(o,ne.min()))}else Te(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=kr(r).toUint8Array()}catch(l){if(l instanceof X0)return _i("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Wh(o,i,s)}catch(l){return _i(l instanceof ms?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&Wd(a.target)){const l=new J(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,ot.newNoDocument(l,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=ue();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new Il(e,n,this.Ke,this.qe,r);return this.qe=Tn(),this.Qe=Og(),this.Ke=new Pe(pe),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Dg,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new et(pe),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Dg),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Og(){return new Pe(J.comparator)}function Mg(){return new Pe(J.comparator)}const xA=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),VA=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),LA=(()=>({and:"AND",or:"OR"}))();class $A{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Kd(t,e){return t.useProto3Json||Tl(e)?e:{value:e}}function vu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function w1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function jA(t,e){return vu(t,e.toTimestamp())}function sn(t){return Te(!!t),ne.fromTimestamp(function(n){const r=Yn(n);return new Fe(r.seconds,r.nanos)}(t))}function Gh(t,e){return function(r){return new Se(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function E1(t){const e=Se.fromString(t);return Te(k1(e)),e}function Qd(t,e){return Gh(t.databaseId,e.path)}function Ic(t,e){const n=E1(e);if(n.get(1)!==t.databaseId.projectId)throw new Y($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new J(T1(n))}function Xd(t,e){return Gh(t.databaseId,e)}function FA(t){const e=E1(t);return e.length===4?Se.emptyPath():T1(e)}function Yd(t){return new Se(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function T1(t){return Te(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function xg(t,e,n){return{name:Qd(t,e),fields:n.value.mapValue.fields}}function zA(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(Te(h===void 0||typeof h=="string"),ft.fromBase64String(h||"")):(Te(h===void 0||h instanceof Uint8Array),ft.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?$.UNKNOWN:y1(c.code);return new Y(h,c.message||"")}(o);n=new v1(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ic(t,r.document.name),s=sn(r.document.updateTime),o=r.document.createTime?sn(r.document.createTime):ne.min(),a=new Nt({mapValue:{fields:r.document.fields}}),l=ot.newFoundDocument(i,s,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new Na(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ic(t,r.document),s=r.readTime?sn(r.readTime):ne.min(),o=ot.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Na([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ic(t,r.document),s=r.removedTargetIds||[];n=new Na([],s,i,null)}else{if(!("filter"in e))return ee();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new RA(i,s),a=r.targetId;n=new _1(a,o)}}return n}function BA(t,e){let n;if(e instanceof $o)n={update:xg(t,e.key,e.value)};else if(e instanceof Hh)n={delete:Qd(t,e.key)};else if(e instanceof Dr)n={update:xg(t,e.key,e.data),updateMask:YA(e.fieldMask)};else{if(!(e instanceof PA))return ee();n={verify:Qd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof yu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof co)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof fo)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof _u)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw ee()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:jA(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ee()}(t,e.precondition)),n}function UA(t,e){return t&&t.length>0?(Te(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?sn(i.updateTime):sn(s);return o.isEqual(ne.min())&&(o=sn(s)),new CA(o,i.transformResults||[])}(n,e))):[]}function HA(t,e){return{documents:[Xd(t,e.path)]}}function qA(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Xd(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Xd(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return C1(an.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(c=>function(p){return{field:Fr(p.field),direction:KA(p.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Kd(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function WA(t){let e=FA(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Te(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(p){const y=S1(p);return y instanceof an&&e1(y)?y.getFilters():[y]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(y=>function(T){return new gu(zr(T.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(y))}(n.orderBy));let a=null;n.limit&&(a=function(p){let y;return y=typeof p=="object"?p.value:p,Tl(y)?null:y}(n.limit));let l=null;n.startAt&&(l=function(p){const y=!!p.before,k=p.values||[];return new mu(k,y)}(n.startAt));let c=null;return n.endAt&&(c=function(p){const y=!p.before,k=p.values||[];return new mu(k,y)}(n.endAt)),cA(e,i,o,s,a,"F",l,c)}function GA(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function S1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=zr(n.unaryFilter.field);return $e.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=zr(n.unaryFilter.field);return $e.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=zr(n.unaryFilter.field);return $e.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=zr(n.unaryFilter.field);return $e.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ee()}}(t):t.fieldFilter!==void 0?function(n){return $e.create(zr(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ee()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return an.create(n.compositeFilter.filters.map(r=>S1(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ee()}}(n.compositeFilter.op))}(t):ee()}function KA(t){return xA[t]}function QA(t){return VA[t]}function XA(t){return LA[t]}function Fr(t){return{fieldPath:t.canonicalString()}}function zr(t){return Je.fromServerFormat(t.fieldPath)}function C1(t){return t instanceof $e?function(n){if(n.op==="=="){if(Eg(n.value))return{unaryFilter:{field:Fr(n.field),op:"IS_NAN"}};if(wg(n.value))return{unaryFilter:{field:Fr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Eg(n.value))return{unaryFilter:{field:Fr(n.field),op:"IS_NOT_NAN"}};if(wg(n.value))return{unaryFilter:{field:Fr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fr(n.field),op:QA(n.op),value:n.value}}}(t):t instanceof an?function(n){const r=n.getFilters().map(i=>C1(i));return r.length===1?r[0]:{compositeFilter:{op:XA(n.op),filters:r}}}(t):ee()}function YA(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function k1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e,n,r,i,s=ne.min(),o=ne.min(),a=ft.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Dn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Dn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Dn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Dn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e){this.ut=e}}function ZA(t){const e=WA({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Gd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(){this.on=new tP}addToCollectionParentIndex(e,n){return this.on.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(Xn.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(Xn.min())}updateCollectionGroup(e,n,r){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}}class tP{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new et(Se.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new et(Se.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Ti(0)}static Nn(){return new Ti(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(){this.changes=new Fi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ot.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?L.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Os(r.mutation,i,Ht.empty(),Fe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ue()){const i=gr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ps();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=gr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ue()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Tn();const o=Ds(),a=function(){return Ds()}();return n.forEach((l,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof Dr)?s=s.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),Os(h.mutation,c,h.mutation.getFieldMask(),Fe.now())):o.set(c.key,Ht.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var p;return a.set(c,new rP(h,(p=o.get(c))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ds();let i=new Pe((o,a)=>o-a),s=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=r.get(l)||Ht.empty();h=a.applyToLocalView(c,h),r.set(l,h);const p=(i.get(a.batchId)||ue()).add(l);i=i.insert(a.batchId,p)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,p=u1();h.forEach(y=>{if(!s.has(y)){const k=m1(n.get(y),r.get(y));k!==null&&p.set(y,k),s=s.add(y)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,p))}return L.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return J.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):dA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):L.resolve(gr());let a=-1,l=s;return o.next(c=>L.forEach(c,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(h)?L.resolve():this.remoteDocumentCache.getEntry(e,h).next(y=>{l=l.insert(h,y)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,ue())).next(h=>({batchId:a,changes:a1(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new J(n)).next(r=>{let i=ps();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=ps();return this.indexManager.getCollectionParents(e,s).next(a=>L.forEach(a,l=>{const c=function(p,y){return new Sl(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((p,y)=>{o=o.insert(p,y)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,ot.newInvalidDocument(h)))});let a=ps();return o.forEach((l,c)=>{const h=s.get(l);h!==void 0&&Os(h.mutation,c,Ht.empty(),Fe.now()),kl(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return L.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:sn(i.createTime)}}(n)),L.resolve()}getNamedQuery(e,n){return L.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:ZA(i.bundledQuery),readTime:sn(i.readTime)}}(n)),L.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(){this.overlays=new Pe(J.comparator),this.lr=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){const r=gr();return L.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),L.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),L.resolve()}getOverlaysForCollection(e,n,r){const i=gr(),s=n.length+1,o=new J(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return L.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Pe((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=s.get(c.largestBatchId);h===null&&(h=gr(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=gr(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=i)););return L.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new bA(n,r));let s=this.lr.get(n);s===void 0&&(s=ue(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(){this.hr=new et(Be.Pr),this.Ir=new et(Be.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new Be(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new Be(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new J(new Se([])),r=new Be(n,e),i=new Be(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new J(new Se([])),r=new Be(n,e),i=new Be(n,e+1);let s=ue();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Be(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Be{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return J.comparator(e.key,n.key)||pe(e.gr,n.gr)}static Tr(e,n){return pe(e.gr,n.gr)||J.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new et(Be.Pr)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new IA(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new Be(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(o)}lookupMutationBatch(e,n){return L.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Sr(r),s=i<0?0:i;return L.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Be(n,0),i=new Be(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),L.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new et(pe);return n.forEach(i=>{const s=new Be(i,0),o=new Be(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),L.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;J.isDocumentKey(s)||(s=s.child(""));const o=new Be(new J(s),0);let a=new et(pe);return this.yr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.gr)),!0)},o),L.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Te(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return L.forEach(n.mutations,i=>{const s=new Be(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new Be(n,0),i=this.yr.firstAfterOrEqual(r);return L.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e){this.Cr=e,this.docs=function(){return new Pe(J.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return L.resolve(r?r.document.mutableCopy():ot.newInvalidDocument(n))}getEntries(e,n){let r=Tn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ot.newInvalidDocument(i))}),L.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Tn();const o=n.path,a=new J(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Gk(Wk(h),r)<=0||(i.has(h.key)||kl(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return L.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ee()}vr(e,n){return L.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new lP(this)}getSize(e){return L.resolve(this.size)}}class lP extends nP{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),L.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e){this.persistence=e,this.Fr=new Fi(n=>zh(n),Bh),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Kh,this.targetCount=0,this.Nr=Ti.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),L.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new Ti(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.kn(n),L.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),L.waitFor(s).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return L.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),L.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),L.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),L.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return L.resolve(r)}containsKey(e,n){return L.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e,n){this.Br={},this.overlays={},this.Lr=new Lh(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new cP(this),this.indexManager=new eP,this.remoteDocumentCache=function(i){return new uP(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new JA(n),this.Kr=new sP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new oP,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new aP(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){K("MemoryPersistence","Starting transaction:",e);const i=new fP(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return L.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class fP extends Qk{constructor(e){super(),this.currentSequenceNumber=e}}class Qh{constructor(e){this.persistence=e,this.Gr=new Kh,this.zr=null}static jr(e){return new Qh(e)}get Hr(){if(this.zr)return this.zr;throw ee()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),L.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),L.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.Hr,r=>{const i=J.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,ne.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return L.or([()=>L.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=ue(),i=ue();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Xh(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new hP;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(os()<=fe.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",jr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),L.resolve()):(os()<=fe.DEBUG&&K("QueryEngine","Query:",jr(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(os()<=fe.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",jr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,rn(n))):L.resolve())}zi(e,n){if(kg(n))return L.resolve(null);let r=rn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Gd(n,null,"F"),r=rn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ue(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Yi(n,a);return this.Zi(n,c,o,l.readTime)?this.zi(e,Gd(n,null,"F")):this.Xi(e,c,n,l)}))})))}ji(e,n,r,i){return kg(n)||i.isEqual(ne.min())?L.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?L.resolve(null):(os()<=fe.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),jr(n)),this.Xi(e,o,n,qk(i,-1)).next(a=>a))})}Yi(e,n){let r=new et(s1(e));return n.forEach((i,s)=>{kl(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return os()<=fe.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",jr(n)),this.Gi.getDocumentsMatchingQuery(e,n,Xn.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new Pe(pe),this.ns=new Fi(s=>zh(s),Bh),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iP(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function gP(t,e,n,r){return new mP(t,e,n,r)}async function A1(t,e){const n=ie(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ue();for(const c of i){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of s){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(c=>({_s:c,removedBatchIds:o,addedBatchIds:a}))})})}function yP(t,e){const n=ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){const p=c.batch,y=p.keys();let k=L.resolve();return y.forEach(T=>{k=k.next(()=>h.getEntry(l,T)).next(w=>{const _=c.docVersions.get(T);Te(_!==null),w.version.compareTo(_)<0&&(p.applyToRemoteDocument(w,c),w.isValidDocument()&&(w.setReadTime(c.commitVersion),h.addEntry(w)))})}),k.next(()=>a.mutationQueue.removeMutationBatch(l,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ue();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function P1(t){const e=ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function _P(t,e){const n=ie(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((h,p)=>{const y=i.get(p);if(!y)return;a.push(n.qr.removeMatchingKeys(s,h.removedDocuments,p).next(()=>n.qr.addMatchingKeys(s,h.addedDocuments,p)));let k=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?k=k.withResumeToken(ft.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):h.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(h.resumeToken,r)),i=i.insert(p,k),function(w,_,g){return w.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(y,k,h)&&a.push(n.qr.updateTargetData(s,k))});let l=Tn(),c=ue();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(vP(s,o,e.documentUpdates).next(h=>{l=h.us,c=h.cs})),!r.isEqual(ne.min())){const h=n.qr.getLastRemoteSnapshotVersion(s).next(p=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return L.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.ts=i,s))}function vP(t,e,n){let r=ue(),i=ue();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Tn();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ne.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):K("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{us:o,cs:i}})}function wP(t,e){const n=ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function EP(t,e){const n=ie(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(s=>s?(i=s,L.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new Dn(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}async function Jd(t,e,n){const r=ie(t),i=r.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Lo(o))throw o;K("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}function Vg(t,e,n){const r=ie(t);let i=ne.min(),s=ue();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,h){const p=ie(l),y=p.ns.get(h);return y!==void 0?L.resolve(p.ts.get(y)):p.qr.getTargetData(c,h)}(r,o,rn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?i:ne.min(),n?s:ue())).next(a=>(TP(r,hA(e),a),{documents:a,ls:s})))}function TP(t,e,n){let r=t.rs.get(e)||ne.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.rs.set(e,r)}class Lg{constructor(){this.activeTargetIds=vA()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class SP{constructor(){this.eo=new Lg,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Lg,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){K("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){K("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ha=null;function bc(){return ha===null?ha=function(){return 268435456+Math.round(2147483648*Math.random())}():ha++,"0x"+ha.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rt="WebChannelConnection";class PP extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){const a=bc(),l=this.So(n,r);K("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(c,s,o),this.Do(n,l,c,i).then(h=>(K("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw _i("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",l,"request:",i),h})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$i}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){const i=kP[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const s=bc();return new Promise((o,a)=>{const l=new Mk;l.setWithCredentials(!0),l.listenOnce(Nk.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Pc.NO_ERROR:const h=l.getResponseJson();K(rt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case Pc.TIMEOUT:K(rt,`RPC '${e}' ${s} timed out`),a(new Y($.DEADLINE_EXCEEDED,"Request time out"));break;case Pc.HTTP_ERROR:const p=l.getStatus();if(K(rt,`RPC '${e}' ${s} failed with status:`,p,"response text:",l.getResponseText()),p>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);const k=y==null?void 0:y.error;if(k&&k.status&&k.message){const T=function(_){const g=_.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(g)>=0?g:$.UNKNOWN}(k.status);a(new Y(T,k.message))}else a(new Y($.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Y($.UNAVAILABLE,"Connection failed."));break;default:ee()}}finally{K(rt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);K(rt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}vo(e,n,r){const i=bc(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=bk(),a=Rk(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new Ok({})),this.bo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=s.join("");K(rt,`Creating RPC '${e}' stream ${i}: ${h}`,l);const p=o.createWebChannel(h,l);let y=!1,k=!1;const T=new AP({co:_=>{k?K(rt,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(y||(K(rt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),K(rt,`RPC '${e}' stream ${i} sending:`,_),p.send(_))},lo:()=>p.close()}),w=(_,g,v)=>{_.listen(g,P=>{try{v(P)}catch(u){setTimeout(()=>{throw u},0)}})};return w(p,ca.EventType.OPEN,()=>{k||K(rt,`RPC '${e}' stream ${i} transport opened.`)}),w(p,ca.EventType.CLOSE,()=>{k||(k=!0,K(rt,`RPC '${e}' stream ${i} transport closed`),T.Ro())}),w(p,ca.EventType.ERROR,_=>{k||(k=!0,_i(rt,`RPC '${e}' stream ${i} transport errored:`,_),T.Ro(new Y($.UNAVAILABLE,"The operation could not be completed")))}),w(p,ca.EventType.MESSAGE,_=>{var g;if(!k){const v=_.data[0];Te(!!v);const P=v,u=P.error||((g=P[0])===null||g===void 0?void 0:g.error);if(u){K(rt,`RPC '${e}' stream ${i} received error:`,u);const f=u.status;let d=function(S){const C=Me[S];if(C!==void 0)return y1(C)}(f),m=u.message;d===void 0&&(d=$.INTERNAL,m="Unknown error status: "+f+" with message "+u.message),k=!0,T.Ro(new Y(d,m)),p.close()}else K(rt,`RPC '${e}' stream ${i} received:`,v),T.Vo(v)}}),w(a,Dk.STAT_EVENT,_=>{_.stat===mg.PROXY?K(rt,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===mg.NOPROXY&&K(rt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.Ao()},0),T}}function Rc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(t){return new $A(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&K("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e,n,r,i,s,o,a,l){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new I1(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(En(n.toString()),En("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(n)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new Y($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return K("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(K("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class IP extends b1{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=zA(this.serializer,e),r=function(s){if(!("targetChange"in s))return ne.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ne.min():o.readTime?sn(o.readTime):ne.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=Yd(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Wd(l)?{documents:HA(s,l)}:{query:qA(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=w1(s,o.resumeToken);const c=Kd(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ne.min())>0){a.readTime=vu(s,o.snapshotVersion.toTimestamp());const c=Kd(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=GA(this.serializer,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=Yd(this.serializer),n.removeTarget=e,this.e_(n)}}class bP extends b1{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(Te(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=UA(e.writeResults,e.commitTime),r=sn(e.commitTime);return this.listener.I_(r,n)}return Te(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Yd(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>BA(this.serializer,r))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new Y($.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Y($.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Y($.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class NP{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(En(n),this.f_=!1):K("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(o=>{r.enqueueAndForget(async()=>{Or(this)&&(K("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=ie(l);c.C_.add(4),await Fo(c),c.M_.set("Unknown"),c.C_.delete(4),await Rl(c)}(this))})}),this.M_=new NP(r,i)}}async function Rl(t){if(Or(t))for(const e of t.v_)await e(!0)}async function Fo(t){for(const e of t.v_)await e(!1)}function R1(t,e){const n=ie(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),Zh(n)?Jh(n):zi(n).Ho()&&Yh(n,e))}function N1(t,e){const n=ie(t),r=zi(n);n.D_.delete(e),r.Ho()&&D1(n,e),n.D_.size===0&&(r.Ho()?r.Zo():Or(n)&&n.M_.set("Unknown"))}function Yh(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}zi(t).u_(e)}function D1(t,e){t.x_.Oe(e),zi(t).c_(e)}function Jh(t){t.x_=new MA({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),zi(t).start(),t.M_.g_()}function Zh(t){return Or(t)&&!zi(t).jo()&&t.D_.size>0}function Or(t){return ie(t).C_.size===0}function O1(t){t.x_=void 0}async function OP(t){t.D_.forEach((e,n)=>{Yh(t,e)})}async function MP(t,e){O1(t),Zh(t)?(t.M_.w_(e),Jh(t)):t.M_.set("Unknown")}async function xP(t,e,n){if(t.M_.set("Online"),e instanceof v1&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.D_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.D_.delete(a),i.x_.removeTarget(a))}(t,e)}catch(r){K("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await wu(t,r)}else if(e instanceof Na?t.x_.$e(e):e instanceof _1?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(ne.min()))try{const r=await P1(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.D_.get(c);h&&s.D_.set(c,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const h=s.D_.get(l);if(!h)return;s.D_.set(l,h.withResumeToken(ft.EMPTY_BYTE_STRING,h.snapshotVersion)),D1(s,l);const p=new Dn(h.target,l,c,h.sequenceNumber);Yh(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){K("RemoteStore","Failed to raise snapshot:",r),await wu(t,r)}}async function wu(t,e,n){if(!Lo(e))throw e;t.C_.add(1),await Fo(t),t.M_.set("Offline"),n||(n=()=>P1(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{K("RemoteStore","Retrying IndexedDB access"),await n(),t.C_.delete(1),await Rl(t)})}function M1(t,e){return e().catch(n=>wu(t,n,e))}async function Nl(t){const e=ie(t),n=Jn(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;VP(e);)try{const i=await wP(e.localStore,r);if(i===null){e.b_.length===0&&n.Zo();break}r=i.batchId,LP(e,i)}catch(i){await wu(e,i)}x1(e)&&V1(e)}function VP(t){return Or(t)&&t.b_.length<10}function LP(t,e){t.b_.push(e);const n=Jn(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function x1(t){return Or(t)&&!Jn(t).jo()&&t.b_.length>0}function V1(t){Jn(t).start()}async function $P(t){Jn(t).E_()}async function jP(t){const e=Jn(t);for(const n of t.b_)e.P_(n.mutations)}async function FP(t,e,n){const r=t.b_.shift(),i=qh.from(r,e,n);await M1(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Nl(t)}async function zP(t,e){e&&Jn(t).h_&&await async function(r,i){if(function(o){return NA(o)&&o!==$.ABORTED}(i.code)){const s=r.b_.shift();Jn(r).Yo(),await M1(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Nl(r)}}(t,e),x1(t)&&V1(t)}async function jg(t,e){const n=ie(t);n.asyncQueue.verifyOperationInProgress(),K("RemoteStore","RemoteStore received new credentials");const r=Or(n);n.C_.add(3),await Fo(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),await Rl(n)}async function BP(t,e){const n=ie(t);e?(n.C_.delete(2),await Rl(n)):e||(n.C_.add(2),await Fo(n),n.M_.set("Unknown"))}function zi(t){return t.O_||(t.O_=function(n,r,i){const s=ie(n);return s.A_(),new IP(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:OP.bind(null,t),Io:MP.bind(null,t),a_:xP.bind(null,t)}),t.v_.push(async e=>{e?(t.O_.Yo(),Zh(t)?Jh(t):t.M_.set("Unknown")):(await t.O_.stop(),O1(t))})),t.O_}function Jn(t){return t.N_||(t.N_=function(n,r,i){const s=ie(n);return s.A_(),new bP(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:$P.bind(null,t),Io:zP.bind(null,t),T_:jP.bind(null,t),I_:FP.bind(null,t)}),t.v_.push(async e=>{e?(t.N_.Yo(),await Nl(t)):(await t.N_.stop(),t.b_.length>0&&(K("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))})),t.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new ep(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tp(t,e){if(En("AsyncQueue",`${e}: ${t}`),Lo(t))return new Y($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e){this.comparator=e?(n,r)=>e(n,r)||J.comparator(n.key,r.key):(n,r)=>J.comparator(n.key,r.key),this.keyedMap=ps(),this.sortedSet=new Pe(this.comparator)}static emptySet(e){return new ci(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ci)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ci;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(){this.B_=new Pe(J.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):ee():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Si{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Si(e,n,ci.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(){this.k_=void 0,this.listeners=[]}}class HP{constructor(){this.queries=new Fi(e=>i1(e),Cl),this.onlineState="Unknown",this.q_=new Set}}async function qP(t,e){const n=ie(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new UP),i)try{s.k_=await n.onListen(r)}catch(o){const a=tp(o,`Initialization of query '${jr(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Q_(n.onlineState),s.k_&&e.K_(s.k_)&&np(n)}async function WP(t,e){const n=ie(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function GP(t,e){const n=ie(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&np(n)}function KP(t,e,n){const r=ie(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function np(t){t.q_.forEach(e=>{e.next()})}class QP{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Si(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=Si.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e){this.key=e}}class $1{constructor(e){this.key=e}}class XP{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=ue(),this.mutatedKeys=ue(),this._a=s1(e),this.aa=new ci(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new Fg,i=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{const y=i.get(h),k=kl(this.query,p)?p:null,T=!!y&&this.mutatedKeys.has(y.key),w=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let _=!1;y&&k?y.data.isEqual(k.data)?T!==w&&(r.track({type:3,doc:k}),_=!0):this.ha(y,k)||(r.track({type:2,doc:k}),_=!0,(l&&this._a(k,l)>0||c&&this._a(k,c)<0)&&(a=!0)):!y&&k?(r.track({type:0,doc:k}),_=!0):y&&!k&&(r.track({type:1,doc:y}),_=!0,(l||c)&&(a=!0)),_&&(k?(o=o.add(k),s=w?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const s=e.la.L_();s.sort((c,h)=>function(y,k){const T=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee()}};return T(y)-T(k)}(c.type,h.type)||this._a(c.doc,h.doc)),this.Pa(r);const o=n?this.Ia():[],a=this.oa.size===0&&this.current?1:0,l=a!==this.sa;return this.sa=a,s.length!==0||l?{snapshot:new Si(this.query,e.aa,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new Fg,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=ue(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new $1(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new L1(r))}),n}da(e){this.ia=e.ls,this.oa=ue();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Si.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class YP{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class JP{constructor(e){this.key=e,this.Ra=!1}}class ZP{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new Fi(a=>i1(a),Cl),this.fa=new Map,this.ga=new Set,this.pa=new Pe(J.comparator),this.ya=new Map,this.wa=new Kh,this.Sa={},this.ba=new Map,this.Da=Ti.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function e6(t,e){const n=c6(t);let r,i;const s=n.ma.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=await EP(n.localStore,rn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await t6(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&R1(n.remoteStore,o)}return i}async function t6(t,e,n,r,i){t.va=(p,y,k)=>async function(w,_,g,v){let P=_.view.ca(g);P.Zi&&(P=await Vg(w.localStore,_.query,!1).then(({documents:d})=>_.view.ca(d,P)));const u=v&&v.targetChanges.get(_.targetId),f=_.view.applyChanges(P,w.isPrimaryClient,u);return Bg(w,_.targetId,f.Ta),f.snapshot}(t,p,y,k);const s=await Vg(t.localStore,e,!0),o=new XP(e,s.ls),a=o.ca(s.documents),l=jo.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);Bg(t,n,c.Ta);const h=new YP(e,n,o);return t.ma.set(e,h),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),c.snapshot}async function n6(t,e){const n=ie(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!Cl(s,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Jd(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),N1(n.remoteStore,r.targetId),Zd(n,r.targetId)}).catch(Vo)):(Zd(n,r.targetId),await Jd(n.localStore,r.targetId,!0))}async function r6(t,e,n){const r=d6(t);try{const i=await function(o,a){const l=ie(o),c=Fe.now(),h=a.reduce((k,T)=>k.add(T.key),ue());let p,y;return l.persistence.runTransaction("Locally write mutations","readwrite",k=>{let T=Tn(),w=ue();return l.ss.getEntries(k,h).next(_=>{T=_,T.forEach((g,v)=>{v.isValidDocument()||(w=w.add(g))})}).next(()=>l.localDocuments.getOverlayedDocuments(k,T)).next(_=>{p=_;const g=[];for(const v of a){const P=AA(v,p.get(v.key).overlayedDocument);P!=null&&g.push(new Dr(v.key,P,Y0(P.value.mapValue),qt.exists(!0)))}return l.mutationQueue.addMutationBatch(k,c,g,a)}).next(_=>{y=_;const g=_.applyToLocalDocumentSet(p,w);return l.documentOverlayCache.saveOverlays(k,_.batchId,g)})}).then(()=>({batchId:y.batchId,changes:a1(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Sa[o.currentUser.toKey()];c||(c=new Pe(pe)),c=c.insert(a,l),o.Sa[o.currentUser.toKey()]=c}(r,i.batchId,n),await zo(r,i.changes),await Nl(r.remoteStore)}catch(i){const s=tp(i,"Failed to persist write");n.reject(s)}}async function j1(t,e){const n=ie(t);try{const r=await _P(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.ya.get(s);o&&(Te(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?Te(o.Ra):i.removedDocuments.size>0&&(Te(o.Ra),o.Ra=!1))}),await zo(n,r,e)}catch(r){await Vo(r)}}function zg(t,e,n){const r=ie(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ie(o);l.onlineState=a;let c=!1;l.queries.forEach((h,p)=>{for(const y of p.listeners)y.Q_(a)&&(c=!0)}),c&&np(l)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function i6(t,e,n){const r=ie(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),s=i&&i.key;if(s){let o=new Pe(J.comparator);o=o.insert(s,ot.newNoDocument(s,ne.min()));const a=ue().add(s),l=new Il(ne.min(),new Map,new Pe(pe),o,a);await j1(r,l),r.pa=r.pa.remove(s),r.ya.delete(e),rp(r)}else await Jd(r.localStore,e,!1).then(()=>Zd(r,e,n)).catch(Vo)}async function s6(t,e){const n=ie(t),r=e.batch.batchId;try{const i=await yP(n.localStore,e);z1(n,r,null),F1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await zo(n,i)}catch(i){await Vo(i)}}async function o6(t,e,n){const r=ie(t);try{const i=await function(o,a){const l=ie(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(p=>(Te(p!==null),h=p.keys(),l.mutationQueue.removeMutationBatch(c,p))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(r.localStore,e);z1(r,e,n),F1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await zo(r,i)}catch(i){await Vo(i)}}function F1(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function z1(t,e,n){const r=ie(t);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function Zd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||B1(t,r)})}function B1(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);n!==null&&(N1(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),rp(t))}function Bg(t,e,n){for(const r of n)r instanceof L1?(t.wa.addReference(r.key,e),a6(t,r)):r instanceof $1?(K("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||B1(t,r.key)):ee()}function a6(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(K("SyncEngine","New document in limbo: "+n),t.ga.add(r),rp(t))}function rp(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new J(Se.fromString(e)),r=t.Da.next();t.ya.set(r,new JP(n)),t.pa=t.pa.insert(n,r),R1(t.remoteStore,new Dn(rn(Uh(n.path)),r,"TargetPurposeLimboResolution",Lh._e))}}async function zo(t,e,n){const r=ie(t),i=[],s=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,l)=>{o.push(r.va(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const h=Xh.Qi(l.targetId,c);s.push(h)}}))}),await Promise.all(o),r.Va.a_(i),await async function(l,c){const h=ie(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>L.forEach(c,y=>L.forEach(y.ki,k=>h.persistence.referenceDelegate.addReference(p,y.targetId,k)).next(()=>L.forEach(y.qi,k=>h.persistence.referenceDelegate.removeReference(p,y.targetId,k)))))}catch(p){if(!Lo(p))throw p;K("LocalStore","Failed to update sequence numbers: "+p)}for(const p of c){const y=p.targetId;if(!p.fromCache){const k=h.ts.get(y),T=k.snapshotVersion,w=k.withLastLimboFreeSnapshotVersion(T);h.ts=h.ts.insert(y,w)}}}(r.localStore,s))}async function u6(t,e){const n=ie(t);if(!n.currentUser.isEqual(e)){K("SyncEngine","User change. New user:",e.toKey());const r=await A1(n.localStore,e);n.currentUser=e,function(s,o){s.ba.forEach(a=>{a.forEach(l=>{l.reject(new Y($.CANCELLED,o))})}),s.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await zo(n,r._s)}}function l6(t,e){const n=ie(t),r=n.ya.get(e);if(r&&r.Ra)return ue().add(r.key);{let i=ue();const s=n.fa.get(e);if(!s)return i;for(const o of s){const a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}function c6(t){const e=ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=j1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=l6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=i6.bind(null,e),e.Va.a_=GP.bind(null,e.eventManager),e.Va.Fa=KP.bind(null,e.eventManager),e}function d6(t){const e=ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=s6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=o6.bind(null,e),e}class Ug{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=bl(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return gP(this.persistence,new pP,e.initialUser,this.serializer)}createPersistence(e){return new dP(Qh.jr,this.serializer)}createSharedClientState(e){return new SP}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class f6{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>zg(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=u6.bind(null,this.syncEngine),await BP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new HP}()}createDatastore(e){const n=bl(e.databaseInfo.databaseId),r=function(s){return new PP(s)}(e.databaseInfo);return function(s,o,a,l){return new RP(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new DP(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>zg(this.syncEngine,n,0),function(){return $g.D()?new $g:new CP}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,h){const p=new ZP(i,s,o,a,l,c);return h&&(p.Ca=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=ie(n);K("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await Fo(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):En("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=st.UNAUTHENTICATED,this.clientId=K0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{K("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(K("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Y($.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=tp(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Nc(t,e){t.asyncQueue.verifyOperationInProgress(),K("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await A1(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Hg(t,e){t.asyncQueue.verifyOperationInProgress();const n=await g6(t);K("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>jg(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>jg(e.remoteStore,s)),t._onlineComponents=e}function m6(t){return t.name==="FirebaseError"?t.code===$.FAILED_PRECONDITION||t.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function g6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K("FirestoreClient","Using user provided OfflineComponentProvider");try{await Nc(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!m6(n))throw n;_i("Error using user provided cache. Falling back to memory cache: "+n),await Nc(t,new Ug)}}else K("FirestoreClient","Using default OfflineComponentProvider"),await Nc(t,new Ug);return t._offlineComponents}async function U1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(K("FirestoreClient","Using user provided OnlineComponentProvider"),await Hg(t,t._uninitializedComponentsProvider._online)):(K("FirestoreClient","Using default OnlineComponentProvider"),await Hg(t,new f6))),t._onlineComponents}function y6(t){return U1(t).then(e=>e.syncEngine)}async function qg(t){const e=await U1(t),n=e.eventManager;return n.onListen=e6.bind(null,e.syncEngine),n.onUnlisten=n6.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(t,e,n){if(!n)throw new Y($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function _6(t,e,n,r){if(e===!0&&r===!0)throw new Y($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Gg(t){if(!J.isDocumentKey(t))throw new Y($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Kg(t){if(J.isDocumentKey(t))throw new Y($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ip(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ee()}function Un(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ip(t);throw new Y($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Y($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Y($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=H1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Y($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Y($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Y($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dl{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Y($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Y($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qg(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Vk;switch(r.type){case"firstParty":return new Fk(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Y($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Wg.get(n);r&&(K("ComponentProvider","Removing Datastore"),Wg.delete(n),r.terminate())}(this),Promise.resolve()}}function v6(t,e,n,r={}){var i;const s=(t=Un(t,Dl))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&_i("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=st.MOCK_USER;else{a=mS(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Y($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new st(c)}t._authCredentials=new Lk(new G0(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ol(this.firestore,e,this._query)}}class Ct{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ct(this.firestore,e,this._key)}}class Hn extends Ol{constructor(e,n,r){super(e,n,Uh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ct(this.firestore,null,new J(e))}withConverter(e){return new Hn(this.firestore,e,this._path)}}function w6(t,e,...n){if(t=gi(t),q1("collection","path",e),t instanceof Dl){const r=Se.fromString(e,...n);return Kg(r),new Hn(t,null,r)}{if(!(t instanceof Ct||t instanceof Hn))throw new Y($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Se.fromString(e,...n));return Kg(r),new Hn(t.firestore,null,r)}}function ef(t,e,...n){if(t=gi(t),arguments.length===1&&(e=K0.newId()),q1("doc","path",e),t instanceof Dl){const r=Se.fromString(e,...n);return Gg(r),new Ct(t,null,new J(r))}{if(!(t instanceof Ct||t instanceof Hn))throw new Y($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Se.fromString(e,...n));return Gg(r),new Ct(t.firestore,t instanceof Hn?t.converter:null,new J(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new I1(this,"async_queue_retry"),this.iu=()=>{const n=Rc();n&&K("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=Rc();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=Rc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new vr;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!Lo(e))throw e;K("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{this.eu=r,this.tu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw En("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=ep.createAndSchedule(this,e,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&ee()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function Xg(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Ci extends Dl{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new E6}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||G1(this),this._firestoreClient.terminate()}}function T6(t,e){const n=typeof t=="object"?t:vC(),r=typeof t=="string"?t:e||"(default)",i=mC(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=hS("firestore");s&&v6(i,...s)}return i}function W1(t){return t._firestoreClient||G1(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function G1(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,h){return new Jk(a,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,H1(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new p6(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ki(ft.fromBase64String(e))}catch(n){throw new Y($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ki(ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Je(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return pe(this._lat,e._lat)||pe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S6=/^__.*__$/;class C6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Dr(e,this.data,this.fieldMask,n,this.fieldTransforms):new $o(e,this.data,n,this.fieldTransforms)}}function Q1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee()}}class ap{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new ap(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Eu(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(Q1(this.Iu)&&S6.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class k6{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||bl(e)}pu(e,n,r,i=!1){return new ap({Iu:e,methodName:n,gu:r,path:Je.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function X1(t){const e=t._freezeSettings(),n=bl(t._databaseId);return new k6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Y1(t,e,n,r,i,s={}){const o=t.pu(s.merge||s.mergeFields?2:0,e,n,i);tw("Data must be an object, but it was:",o,r);const a=Z1(r,o);let l,c;if(s.merge)l=new Ht(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const p of s.mergeFields){const y=A6(e,p,n);if(!o.contains(y))throw new Y($.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);I6(h,y)||h.push(y)}l=new Ht(h),c=o.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,c=o.fieldTransforms;return new C6(new Nt(a),l,c)}function J1(t,e){if(ew(t=gi(t)))return tw("Unsupported field value:",e,t),Z1(t,e);if(t instanceof K1)return function(r,i){if(!Q1(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=J1(a,i.Vu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=gi(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return wA(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Fe.fromDate(r);return{timestampValue:vu(i.serializer,s)}}if(r instanceof Fe){const s=new Fe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:vu(i.serializer,s)}}if(r instanceof op)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ki)return{bytesValue:w1(i.serializer,r._byteString)};if(r instanceof Ct){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Gh(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${ip(r)}`)}(t,e)}function Z1(t,e){const n={};return Q0(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ji(t,(r,i)=>{const s=J1(i,e.Eu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function ew(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Fe||t instanceof op||t instanceof ki||t instanceof Ct||t instanceof K1)}function tw(t,e,n){if(!ew(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=ip(n);throw r==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+r)}}function A6(t,e,n){if((e=gi(e))instanceof sp)return e._internalPath;if(typeof e=="string")return nw(t,e);throw Eu("Field path arguments must be of type string or ",t,!1,void 0,n)}const P6=new RegExp("[~\\*/\\[\\]]");function nw(t,e,n){if(e.search(P6)>=0)throw Eu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new sp(...e.split("."))._internalPath}catch{throw Eu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Eu(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Y($.INVALID_ARGUMENT,a+t+l)}function I6(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ct(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new b6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(iw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class b6 extends rw{data(){return super.data()}}function iw(t,e){return typeof e=="string"?nw(t,e):e instanceof sp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R6(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Y($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class N6{convertValue(e,n="none"){switch(Ar(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(kr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ji(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new op(xe(e.latitude),xe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=jh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ao(e));default:return null}}convertTimestamp(e){const n=Yn(e);return new Fe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Se.fromString(e);Te(k1(r));const i=new uo(r.get(1),r.get(3)),s=new J(r.popFirst(5));return i.isEqual(n)||En(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ow extends rw{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Da(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(iw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Da extends ow{data(e={}){return super.data(e)}}class D6{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new gs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Da(this._firestore,this._userDataWriter,r.key,r,new gs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Da(i._firestore,i._userDataWriter,a.doc.key,a.doc,new gs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Da(i._firestore,i._userDataWriter,a.doc.key,a.doc,new gs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:O6(a.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function O6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee()}}class aw extends N6{constructor(e){super(),this.firestore=e}convertBytes(e){return new ki(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ct(this.firestore,null,n)}}function M6(t,e,n){t=Un(t,Ct);const r=Un(t.firestore,Ci),i=sw(t.converter,e,n);return up(r,[Y1(X1(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,qt.none())])}function x6(t){return up(Un(t.firestore,Ci),[new Hh(t._key,qt.none())])}function V6(t,e){const n=Un(t.firestore,Ci),r=ef(t),i=sw(t.converter,e);return up(n,[Y1(X1(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,qt.exists(!1))]).then(()=>r)}function L6(t,...e){var n,r,i;t=gi(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||Xg(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(Xg(e[o])){const p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let l,c,h;if(t instanceof Ct)c=Un(t.firestore,Ci),h=Uh(t._key.path),l={next:p=>{e[o]&&e[o]($6(c,t,p))},error:e[o+1],complete:e[o+2]};else{const p=Un(t,Ol);c=Un(p.firestore,Ci),h=p._query;const y=new aw(c);l={next:k=>{e[o]&&e[o](new D6(c,y,p,k))},error:e[o+1],complete:e[o+2]},R6(t._query)}return function(y,k,T,w){const _=new h6(w),g=new QP(k,_,T);return y.asyncQueue.enqueueAndForget(async()=>qP(await qg(y),g)),()=>{_.Na(),y.asyncQueue.enqueueAndForget(async()=>WP(await qg(y),g))}}(W1(c),h,a,l)}function up(t,e){return function(r,i){const s=new vr;return r.asyncQueue.enqueueAndForget(async()=>r6(await y6(r),i,s)),s.promise}(W1(t),e)}function $6(t,e,n){const r=n.docs.get(e._key),i=new aw(t);return new ow(t,i,e._key,r,new gs(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){$i=i})(_C),ou(new Xs("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Ci(new $k(r.getProvider("auth-internal")),new Bk(r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Y($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uo(c.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ai(gg,"4.3.2",e),ai(gg,"4.3.2","esm2017")})();var j6="firebase",F6="10.5.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ai(j6,F6,"app");let pa;const z6=new Uint8Array(16);function B6(){if(!pa&&(pa=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!pa))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return pa(z6)}const We=[];for(let t=0;t<256;++t)We.push((t+256).toString(16).slice(1));function U6(t,e=0){return We[t[e+0]]+We[t[e+1]]+We[t[e+2]]+We[t[e+3]]+"-"+We[t[e+4]]+We[t[e+5]]+"-"+We[t[e+6]]+We[t[e+7]]+"-"+We[t[e+8]]+We[t[e+9]]+"-"+We[t[e+10]]+We[t[e+11]]+We[t[e+12]]+We[t[e+13]]+We[t[e+14]]+We[t[e+15]]}const H6=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Yg={randomUUID:H6};function q6(t,e,n){if(Yg.randomUUID&&!e&&!t)return Yg.randomUUID();t=t||{};const r=t.random||(t.rng||B6)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return U6(r)}const W6={apiKey:"AIzaSyBOqbcxLDmDrLMt24bftCQmV1Ruer71Oqs",authDomain:"noteka-e6006.firebaseapp.com",projectId:"noteka-e6006",storageBucket:"noteka-e6006.appspot.com",messagingSenderId:"3233878146",appId:"1:3233878146:web:3c9f2c618d775352fce49b"},G6=Bv(W6),tf=T6(G6);let Tu;localStorage.getItem("userId")?Tu=localStorage.getItem("userId"):localStorage.setItem("userId",q6());const K6=w6(tf,Tu),Jg=K6;function Q6(){const[t,e]=Ge.useState([]),[n,r]=Ge.useState(""),[i,s]=Ge.useState(""),[o,a]=Ge.useState(!0),l=t.find(T=>T.id===n)||t[0],c=t.sort((T,w)=>w.updatedAt-T.updatedAt);Ge.useEffect(()=>L6(Jg,function(w){const _=w.docs.map(g=>({...g.data(),id:g.id}));e(_)}),[]),Ge.useEffect(()=>{l&&s(l.body)},[l]),Ge.useEffect(()=>{const T=setTimeout(()=>{i!==l.body&&p(i)},500);return()=>{clearTimeout(T)}},[i]),Ge.useEffect(()=>{var T;n||r((T=t[0])==null?void 0:T.id)},[t]);async function h(){const T={body:"put the name of your note here",createdAt:Date.now(),updatedAt:Date.now()},w=await V6(Jg,T);r(w.id),setCreatedAt(Date.now())}async function p(T){const w=ef(tf,Tu,n);await M6(w,{body:T,updatedAt:Date.now()})}async function y(T){const w=ef(tf,Tu,T);await x6(w)}function k(){a(T=>!T)}return ce.jsxs("main",{style:{position:"relative"},children:[ce.jsx(uh,{accentColor:o?"transparent":"red",grayColor:"slate",radius:"large",style:{position:"absolute",top:"1%",left:"0.5%"},children:t.length>0&&ce.jsx(ch,{onClick:k,children:ce.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:ce.jsx("path",{d:"M1.5 5.25C1.91421 5.25 2.25 4.91421 2.25 4.5C2.25 4.08579 1.91421 3.75 1.5 3.75C1.08579 3.75 0.75 4.08579 0.75 4.5C0.75 4.91421 1.08579 5.25 1.5 5.25ZM4 4.5C4 4.22386 4.22386 4 4.5 4H13.5C13.7761 4 14 4.22386 14 4.5C14 4.77614 13.7761 5 13.5 5H4.5C4.22386 5 4 4.77614 4 4.5ZM4.5 7C4.22386 7 4 7.22386 4 7.5C4 7.77614 4.22386 8 4.5 8H13.5C13.7761 8 14 7.77614 14 7.5C14 7.22386 13.7761 7 13.5 7H4.5ZM4.5 10C4.22386 10 4 10.2239 4 10.5C4 10.7761 4.22386 11 4.5 11H13.5C13.7761 11 14 10.7761 14 10.5C14 10.2239 13.7761 10 13.5 10H4.5ZM2.25 7.5C2.25 7.91421 1.91421 8.25 1.5 8.25C1.08579 8.25 0.75 7.91421 0.75 7.5C0.75 7.08579 1.08579 6.75 1.5 6.75C1.91421 6.75 2.25 7.08579 2.25 7.5ZM1.5 11.25C1.91421 11.25 2.25 10.9142 2.25 10.5C2.25 10.0858 1.91421 9.75 1.5 9.75C1.08579 9.75 0.75 10.0858 0.75 10.5C0.75 10.9142 1.08579 11.25 1.5 11.25Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})})}),t.length>0?o?ce.jsxs(fh,{sizes:[30,70],direction:"horizontal",className:"split",gutterSize:10,children:[ce.jsx(_E,{notes:c,currentNote:l,setCurrentNoteId:r,newNote:h,deleteNote:y}),ce.jsx(qm,{tempNoteText:i,setTempNoteText:s,updateNote:p,currentNote:l,show:o,noteId:n})]}):ce.jsx(qm,{tempNoteText:i,setTempNoteText:s,updateNote:p,currentNote:l,show:o,noteId:n}):ce.jsxs("div",{className:"no-notes",children:[ce.jsx("h1",{children:"TAKE EASY AI NOTES "}),ce.jsx("button",{className:"first-note",onClick:h,children:"it's free try it out "})]})]})}yE.render(ce.jsx(Q6,{}),document.getElementById("root"));
